<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Chapter 2 å…³ç³»råœ¨æ•°æ®åº“ä¸­æ˜¯æœ‰é™é›†åˆ\nå±æ€§å…ƒç»„æ˜¯æ— åºçš„\nå¤šä¸ªå±æ€§å¯èƒ½ä¼šæœ‰åŒä¸€ä¸ªdomain\nå¯¹äºæ¯ä¸€ä¸ªdomainæ¥è¯´ï¼Œnulléƒ½æ˜¯å…¶ä¸­ä¸€ä¸ªmember\nè¶…é”®ç”¨æ¥åŒºåˆ†æŸä¸€è¡Œï¼Œå€™é€‰é”®æ˜¯æœ€å°çš„è¶…é”®ã€‚ä¸»é”®æ˜¯å…¶ä¸­ä¸€ä¸ªå€™é€‰é”®ï¼Œä¸»é”®ä¸Šçš„å±æ€§æ˜¯ä¸»å±æ€§ã€‚\nQuery Language è¯­è¨€æœ‰ä¸¤ç±»ï¼š\n1. procedualï¼Œè¿‡ç¨‹åŒ–çš„ 2. non-procedualï¼Œ éè¿‡ç¨‹åŒ–çš„ï¼ˆSQLï¼‰ Pure languageï¼š\n1. relation algebra å…³ç³»ä»£æ•° 2. tuple relational calculus å…ƒç»„å…³ç³»æ¼”ç®— 3. domain relational calculus åŸŸå…³ç³»æ¼”ç®— çº¯è¯­è¨€åœ¨å®é™…ä½¿ç”¨ä¸­æ„æˆäº†æŸ¥è¯¢è¯­è¨€çš„åŸºæœ¬åŸºç¡€\nå…³ç³»ä»£æ•°æ“ä½œ æ˜¯è¿‡ç¨‹åŒ–çš„\n6ä¸ªå…³ç³»ä»£æ•°æ“ä½œï¼š\n1. é€‰æ‹© Ïƒ 2. æŠ•å½± Î  3. ç¬›å¡å°”ç§¯ Cartesion product X 4. å¹¶ âˆª 5. é›†åˆå·® - 6. è‡ªç„¶è¿æ¥ æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©ç›¸å…³è¯¾ çš„å­¦ç”Ÿï¼š\n1. é¦–å…ˆå¾—æ‰¾åˆ°æ‰€æœ‰çš„ å­¦ç”Ÿ-è¯¾ç¨‹ å¯¹åº”å…³ç³» â€”â€” (1) 2. æ‰¾åˆ°æ‰€æœ‰ ç”Ÿç‰© ç›¸å…³çš„è¯¾ç¨‹ â€”â€” (2) 3. æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿ â€”â€” (3) 4. ç”¨ (2) X (3) å¾—åˆ°çš„æ˜¯æ‰€æœ‰å­¦ç”Ÿå’Œæ‰€æœ‰ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»è¡¨ â€”â€” (4) 5. (4) å’Œ (1) çš„ç›¸åŒè¡¨é¡¹å°±æ˜¯é‚£äº›å­¦ç”Ÿå’ŒæŸä¸ªç”Ÿç‰©è¯¾çš„ å¯¹åº”å…³ç³» 6. å°† (4) - (1)ï¼Œä¼šä½¿å¾—æ‰€æœ‰çœŸæ­£çš„ æŸä¸ªå­¦ç”Ÿ-æŸä¸ªç”Ÿç‰©è¯¾ çš„å…³ç³»è¢«åˆ æ‰ã€‚ (5) 7. ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿå°±ä¸åœ¨ (5) è¡¨ä¸­äº†ï¼Œä½†æ˜¯é‚£äº›åªä¸Šè¿‡ä¸€éƒ¨åˆ†ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿè¿˜ä¼šåœ¨(5) ä¸­ 8. å› ä¸ºè¿™ä¸ªæ—¶å€™å­˜çš„æ˜¯å­¦ç”Ÿå’Œä»–ä»¬æ²¡ä¸Šè¿‡çš„ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»ï¼Œå°†è¿™äº›å­¦ç”ŸæŠ•å½±å‡ºæ¥ 9. æœ€åç”¨æ‰€æœ‰çš„ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿå‡æ‰è¿™äº›å­¦ç”Ÿï¼Œå°±å¾—åˆ°æ‰€æœ‰çš„ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿ ">
<title>æ•°æ®åº“ç³»ç»ŸåŸç†</title>

<link rel='canonical' href='https://ffirestorm.github.io/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="æ•°æ®åº“ç³»ç»ŸåŸç†">
<meta property='og:description' content="Chapter 2 å…³ç³»råœ¨æ•°æ®åº“ä¸­æ˜¯æœ‰é™é›†åˆ\nå±æ€§å…ƒç»„æ˜¯æ— åºçš„\nå¤šä¸ªå±æ€§å¯èƒ½ä¼šæœ‰åŒä¸€ä¸ªdomain\nå¯¹äºæ¯ä¸€ä¸ªdomainæ¥è¯´ï¼Œnulléƒ½æ˜¯å…¶ä¸­ä¸€ä¸ªmember\nè¶…é”®ç”¨æ¥åŒºåˆ†æŸä¸€è¡Œï¼Œå€™é€‰é”®æ˜¯æœ€å°çš„è¶…é”®ã€‚ä¸»é”®æ˜¯å…¶ä¸­ä¸€ä¸ªå€™é€‰é”®ï¼Œä¸»é”®ä¸Šçš„å±æ€§æ˜¯ä¸»å±æ€§ã€‚\nQuery Language è¯­è¨€æœ‰ä¸¤ç±»ï¼š\n1. procedualï¼Œè¿‡ç¨‹åŒ–çš„ 2. non-procedualï¼Œ éè¿‡ç¨‹åŒ–çš„ï¼ˆSQLï¼‰ Pure languageï¼š\n1. relation algebra å…³ç³»ä»£æ•° 2. tuple relational calculus å…ƒç»„å…³ç³»æ¼”ç®— 3. domain relational calculus åŸŸå…³ç³»æ¼”ç®— çº¯è¯­è¨€åœ¨å®é™…ä½¿ç”¨ä¸­æ„æˆäº†æŸ¥è¯¢è¯­è¨€çš„åŸºæœ¬åŸºç¡€\nå…³ç³»ä»£æ•°æ“ä½œ æ˜¯è¿‡ç¨‹åŒ–çš„\n6ä¸ªå…³ç³»ä»£æ•°æ“ä½œï¼š\n1. é€‰æ‹© Ïƒ 2. æŠ•å½± Î  3. ç¬›å¡å°”ç§¯ Cartesion product X 4. å¹¶ âˆª 5. é›†åˆå·® - 6. è‡ªç„¶è¿æ¥ æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©ç›¸å…³è¯¾ çš„å­¦ç”Ÿï¼š\n1. é¦–å…ˆå¾—æ‰¾åˆ°æ‰€æœ‰çš„ å­¦ç”Ÿ-è¯¾ç¨‹ å¯¹åº”å…³ç³» â€”â€” (1) 2. æ‰¾åˆ°æ‰€æœ‰ ç”Ÿç‰© ç›¸å…³çš„è¯¾ç¨‹ â€”â€” (2) 3. æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿ â€”â€” (3) 4. ç”¨ (2) X (3) å¾—åˆ°çš„æ˜¯æ‰€æœ‰å­¦ç”Ÿå’Œæ‰€æœ‰ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»è¡¨ â€”â€” (4) 5. (4) å’Œ (1) çš„ç›¸åŒè¡¨é¡¹å°±æ˜¯é‚£äº›å­¦ç”Ÿå’ŒæŸä¸ªç”Ÿç‰©è¯¾çš„ å¯¹åº”å…³ç³» 6. å°† (4) - (1)ï¼Œä¼šä½¿å¾—æ‰€æœ‰çœŸæ­£çš„ æŸä¸ªå­¦ç”Ÿ-æŸä¸ªç”Ÿç‰©è¯¾ çš„å…³ç³»è¢«åˆ æ‰ã€‚ (5) 7. ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿå°±ä¸åœ¨ (5) è¡¨ä¸­äº†ï¼Œä½†æ˜¯é‚£äº›åªä¸Šè¿‡ä¸€éƒ¨åˆ†ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿè¿˜ä¼šåœ¨(5) ä¸­ 8. å› ä¸ºè¿™ä¸ªæ—¶å€™å­˜çš„æ˜¯å­¦ç”Ÿå’Œä»–ä»¬æ²¡ä¸Šè¿‡çš„ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»ï¼Œå°†è¿™äº›å­¦ç”ŸæŠ•å½±å‡ºæ¥ 9. æœ€åç”¨æ‰€æœ‰çš„ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿå‡æ‰è¿™äº›å­¦ç”Ÿï¼Œå°±å¾—åˆ°æ‰€æœ‰çš„ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿ ">
<meta property='og:url' content='https://ffirestorm.github.io/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/'>
<meta property='og:site_name' content='ffirestorm'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-09-20T09:20:26&#43;08:00'/><meta property='article:modified_time' content='2024-09-20T09:20:26&#43;08:00'/>
<meta name="twitter:title" content="æ•°æ®åº“ç³»ç»ŸåŸç†">
<meta name="twitter:description" content="Chapter 2 å…³ç³»råœ¨æ•°æ®åº“ä¸­æ˜¯æœ‰é™é›†åˆ\nå±æ€§å…ƒç»„æ˜¯æ— åºçš„\nå¤šä¸ªå±æ€§å¯èƒ½ä¼šæœ‰åŒä¸€ä¸ªdomain\nå¯¹äºæ¯ä¸€ä¸ªdomainæ¥è¯´ï¼Œnulléƒ½æ˜¯å…¶ä¸­ä¸€ä¸ªmember\nè¶…é”®ç”¨æ¥åŒºåˆ†æŸä¸€è¡Œï¼Œå€™é€‰é”®æ˜¯æœ€å°çš„è¶…é”®ã€‚ä¸»é”®æ˜¯å…¶ä¸­ä¸€ä¸ªå€™é€‰é”®ï¼Œä¸»é”®ä¸Šçš„å±æ€§æ˜¯ä¸»å±æ€§ã€‚\nQuery Language è¯­è¨€æœ‰ä¸¤ç±»ï¼š\n1. procedualï¼Œè¿‡ç¨‹åŒ–çš„ 2. non-procedualï¼Œ éè¿‡ç¨‹åŒ–çš„ï¼ˆSQLï¼‰ Pure languageï¼š\n1. relation algebra å…³ç³»ä»£æ•° 2. tuple relational calculus å…ƒç»„å…³ç³»æ¼”ç®— 3. domain relational calculus åŸŸå…³ç³»æ¼”ç®— çº¯è¯­è¨€åœ¨å®é™…ä½¿ç”¨ä¸­æ„æˆäº†æŸ¥è¯¢è¯­è¨€çš„åŸºæœ¬åŸºç¡€\nå…³ç³»ä»£æ•°æ“ä½œ æ˜¯è¿‡ç¨‹åŒ–çš„\n6ä¸ªå…³ç³»ä»£æ•°æ“ä½œï¼š\n1. é€‰æ‹© Ïƒ 2. æŠ•å½± Î  3. ç¬›å¡å°”ç§¯ Cartesion product X 4. å¹¶ âˆª 5. é›†åˆå·® - 6. è‡ªç„¶è¿æ¥ æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©ç›¸å…³è¯¾ çš„å­¦ç”Ÿï¼š\n1. é¦–å…ˆå¾—æ‰¾åˆ°æ‰€æœ‰çš„ å­¦ç”Ÿ-è¯¾ç¨‹ å¯¹åº”å…³ç³» â€”â€” (1) 2. æ‰¾åˆ°æ‰€æœ‰ ç”Ÿç‰© ç›¸å…³çš„è¯¾ç¨‹ â€”â€” (2) 3. æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿ â€”â€” (3) 4. ç”¨ (2) X (3) å¾—åˆ°çš„æ˜¯æ‰€æœ‰å­¦ç”Ÿå’Œæ‰€æœ‰ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»è¡¨ â€”â€” (4) 5. (4) å’Œ (1) çš„ç›¸åŒè¡¨é¡¹å°±æ˜¯é‚£äº›å­¦ç”Ÿå’ŒæŸä¸ªç”Ÿç‰©è¯¾çš„ å¯¹åº”å…³ç³» 6. å°† (4) - (1)ï¼Œä¼šä½¿å¾—æ‰€æœ‰çœŸæ­£çš„ æŸä¸ªå­¦ç”Ÿ-æŸä¸ªç”Ÿç‰©è¯¾ çš„å…³ç³»è¢«åˆ æ‰ã€‚ (5) 7. ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿå°±ä¸åœ¨ (5) è¡¨ä¸­äº†ï¼Œä½†æ˜¯é‚£äº›åªä¸Šè¿‡ä¸€éƒ¨åˆ†ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿè¿˜ä¼šåœ¨(5) ä¸­ 8. å› ä¸ºè¿™ä¸ªæ—¶å€™å­˜çš„æ˜¯å­¦ç”Ÿå’Œä»–ä»¬æ²¡ä¸Šè¿‡çš„ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»ï¼Œå°†è¿™äº›å­¦ç”ŸæŠ•å½±å‡ºæ¥ 9. æœ€åç”¨æ‰€æœ‰çš„ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿå‡æ‰è¿™äº›å­¦ç”Ÿï¼Œå°±å¾—åˆ°æ‰€æœ‰çš„ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿ ">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu9742106442265571223.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¤ª</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">ffirestorm</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://ffirestorm.github.io/en/" >English</option>
                                
                                    <option value="https://ffirestorm.github.io/" selected>ç®€ä½“ä¸­æ–‡</option>
                                
                                    <option value="https://ffirestorm.github.io/ar/" >Ø¹Ø±Ø¨ÙŠ</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#chapter-2">Chapter 2</a>
      <ol>
        <li><a href="#query-language">Query Language</a></li>
        <li><a href="#å…³ç³»ä»£æ•°æ“ä½œ">å…³ç³»ä»£æ•°æ“ä½œ</a></li>
      </ol>
    </li>
    <li><a href="#chapter-3-sql">Chapter 3 SQL</a>
      <ol>
        <li><a href="#ddl">DDL</a>
          <ol>
            <li><a href="#æ¨¡å¼å®šä¹‰">æ¨¡å¼å®šä¹‰ï¼š</a></li>
            <li><a href="#select-query">select query</a></li>
            <li><a href="#modification">modification</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#chapter-4">Chapter 4</a>
      <ol>
        <li><a href="#41-join-expression">4.1 join expression</a></li>
        <li><a href="#42-views">4.2 views</a></li>
        <li><a href="#43-transactions">4.3 transactions</a></li>
        <li><a href="#44-integrity-constraints">4.4 integrity constraints</a></li>
        <li><a href="#45-sql-data-types-and-schemas">4.5 sql data types and schemas</a></li>
        <li><a href="#46-authorization">4.6 authorization</a></li>
      </ol>
    </li>
    <li><a href="#chapter-5">Chapter 5</a>
      <ol>
        <li><a href="#ä»ç¼–ç¨‹è¯­è¨€è®¿é—®sql">ä»ç¼–ç¨‹è¯­è¨€è®¿é—®SQL</a></li>
        <li><a href="#å‡½æ•°å’Œè¿‡ç¨‹æ„å»º">å‡½æ•°å’Œè¿‡ç¨‹æ„å»º</a></li>
        <li><a href="#è§¦å‘å™¨">è§¦å‘å™¨</a></li>
      </ol>
    </li>
    <li><a href="#chapter-6-e-r-model">Chapter 6 E-R model</a>
      <ol>
        <li><a href="#è®¾è®¡è¿‡ç¨‹">è®¾è®¡è¿‡ç¨‹</a></li>
        <li><a href="#å»ºæ¨¡-modeling">å»ºæ¨¡ modeling</a></li>
        <li><a href="#attribute-å±æ€§">Attribute å±æ€§</a></li>
        <li><a href="#mapping-cardinalities-æ˜ å°„åŸºæ•°">Mapping cardinalities æ˜ å°„åŸºæ•°</a></li>
        <li><a href="#keys">keys</a></li>
        <li><a href="#å¼±å®ä½“é›†-weak-entity-sets">å¼±å®ä½“é›† weak entity sets</a></li>
        <li><a href="#e-r-diagrams">E-R diagrams</a></li>
        <li><a href="#e-r-è®¾è®¡äº‹é¡¹-design-issues">E-R è®¾è®¡äº‹é¡¹ design issues</a></li>
        <li><a href="#extended-e-r-model">extended E-R model</a></li>
        <li><a href="#reduction-to-relation-schema">reduction to relation schema</a></li>
        <li><a href="#symbols-conclusion">symbols conclusion</a></li>
      </ol>
    </li>
    <li><a href="#chapter-7-schema-normalization">Chapter 7 schema normalization</a>
      <ol>
        <li><a href="#71-ä¸€ä¸ªå¥½çš„å…³ç³»è®¾è®¡çš„ç‰¹ç‚¹">7.1 ä¸€ä¸ªå¥½çš„å…³ç³»è®¾è®¡çš„ç‰¹ç‚¹</a>
          <ol>
            <li><a href="#åŸåˆ™">åŸåˆ™</a></li>
          </ol>
        </li>
        <li><a href="#72-atomic-domain-å’Œ-ç¬¬ä¸€èŒƒå¼">7.2 atomic domain å’Œ ç¬¬ä¸€èŒƒå¼</a></li>
        <li><a href="#73-ç”¨å‡½æ•°ä¾èµ–åˆ†è§£">7.3 ç”¨å‡½æ•°ä¾èµ–åˆ†è§£</a>
          <ol>
            <li><a href="#bcnf">BCNF:</a></li>
            <li><a href="#3nf">3NF</a></li>
            <li><a href="#2nf">2NF</a></li>
          </ol>
        </li>
        <li><a href="#74-å‡½æ•°ä¾èµ–ç†è®º">7.4 å‡½æ•°ä¾èµ–ç†è®º</a>
          <ol>
            <li><a href="#æ­£åˆ™è¦†ç›–">æ­£åˆ™è¦†ç›–</a></li>
            <li><a href="#75-algorithm-for-decomposition">7.5 algorithm for decomposition</a></li>
            <li><a href="#3nf-åˆ†è§£">3NF åˆ†è§£</a></li>
            <li><a href="#å€™é€‰é”®æŸ¥æ‰¾">å€™é€‰é”®æŸ¥æ‰¾</a></li>
          </ol>
        </li>
        <li><a href="#ä¹ é¢˜ç±»å‹">ä¹ é¢˜ç±»å‹</a></li>
      </ol>
    </li>
    <li><a href="#chapter-13">Chapter 13</a>
      <ol>
        <li><a href="#æ–‡ä»¶è®°å½•çš„æ–¹å¼">æ–‡ä»¶è®°å½•çš„æ–¹å¼</a></li>
        <li><a href="#æ–‡ä»¶ä¸­è®°å½•çš„ç»„ç»‡æ–¹å¼">æ–‡ä»¶ä¸­è®°å½•çš„ç»„ç»‡æ–¹å¼</a></li>
        <li><a href="#æ•°æ®-dictionary-storage">æ•°æ® dictionary storage</a></li>
        <li><a href="#buffering">Buffering</a></li>
      </ol>
    </li>
    <li><a href="#chapter-14-index">Chapter 14 Index</a></li>
    <li><a href="#chapter-15-query-processing">Chapter 15 query processing</a>
      <ol>
        <li><a href="#æŸ¥è¯¢ä»£ä»·è¡¡é‡-measures-of-query-costs">æŸ¥è¯¢ä»£ä»·è¡¡é‡ Measures of Query Costs</a></li>
        <li><a href="#æŸ¥è¯¢ç®—æ³•">æŸ¥è¯¢ç®—æ³•</a></li>
        <li><a href="#evaluation-of-express">evaluation of express</a></li>
      </ol>
    </li>
    <li><a href="#chapter-æŸ¥è¯¢ä¼˜åŒ–">Chapter æŸ¥è¯¢ä¼˜åŒ–</a>
      <ol>
        <li><a href="#å…³ç³»è¡¨è¾¾å¼è½¬æ¢è§„åˆ™">å…³ç³»è¡¨è¾¾å¼è½¬æ¢è§„åˆ™</a></li>
      </ol>
    </li>
    <li><a href="#chapter-17-transaction">Chapter 17 transaction</a>
      <ol>
        <li><a href="#å†²çªå¯ä¸²è¡ŒåŒ–">å†²çªå¯ä¸²è¡ŒåŒ–</a></li>
        <li><a href="#recoverability">recoverability</a></li>
        <li><a href="#çº§è”å›å½’-cascading-rollback">çº§è”å›å½’ cascading rollback</a></li>
        <li><a href="#äº‹åŠ¡éš”ç¦»çº§åˆ«">äº‹åŠ¡éš”ç¦»çº§åˆ«</a></li>
      </ol>
    </li>
    <li><a href="#chapter-18-concurrency-control">Chapter 18 concurrency control</a>
      <ol>
        <li><a href="#ä¸¤é˜¶æ®µé”åè®®-two-phase-locking-protocol--2pl">ä¸¤é˜¶æ®µé”åè®® Two Phase Locking protocol / 2PL</a></li>
        <li><a href="#æ„é€ ç¬¦åˆ2plçš„è°ƒåº¦">æ„é€ ç¬¦åˆ2PLçš„è°ƒåº¦</a></li>
        <li><a href="#strict-2pl-ä¸¥æ ¼2é˜¶æ®µé”åè®®">Strict 2PL ä¸¥æ ¼2é˜¶æ®µé”åè®®</a></li>
        <li><a href="#rigorous-2pl-å¼º2é˜¶æ®µé”åè®®">Rigorous 2PL å¼º2é˜¶æ®µé”åè®®</a></li>
        <li><a href="#deadlock-handling">deadlock handling</a>
          <ol>
            <li><a href="#prevention-strategies">prevention strategies</a></li>
            <li><a href="#deadlock-detection">deadlock detection</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#chapter-19-recovery">Chapter 19 Recovery</a>
      <ol>
        <li><a href="#undoå’Œredoåœ¨ç«‹å³ä¿®æ”¹çš„æ¨¡å¼ä¸‹">undoå’Œredoåœ¨ç«‹å³ä¿®æ”¹çš„æ¨¡å¼ä¸‹</a></li>
        <li><a href="#checkpoints">checkpoints</a>
          <ol>
            <li><a href="#ä¸²è¡Œè°ƒåº¦">ä¸²è¡Œè°ƒåº¦</a></li>
            <li><a href="#å¹¶å‘è°ƒåº¦">å¹¶å‘è°ƒåº¦</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">æ•°æ®åº“ç³»ç»ŸåŸç†</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-09-20</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 14 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="chapter-2">Chapter 2
</h2><p>å…³ç³»råœ¨æ•°æ®åº“ä¸­æ˜¯æœ‰é™é›†åˆ</p>
<p>å±æ€§å…ƒç»„æ˜¯æ— åºçš„</p>
<p>å¤šä¸ªå±æ€§å¯èƒ½ä¼šæœ‰åŒä¸€ä¸ªdomain</p>
<p>å¯¹äºæ¯ä¸€ä¸ªdomainæ¥è¯´ï¼Œnulléƒ½æ˜¯å…¶ä¸­ä¸€ä¸ªmember</p>
<p>è¶…é”®ç”¨æ¥åŒºåˆ†æŸä¸€è¡Œï¼Œå€™é€‰é”®æ˜¯æœ€å°çš„è¶…é”®ã€‚ä¸»é”®æ˜¯å…¶ä¸­ä¸€ä¸ªå€™é€‰é”®ï¼Œä¸»é”®ä¸Šçš„å±æ€§æ˜¯ä¸»å±æ€§ã€‚</p>
<h3 id="query-language">Query Language
</h3><p>è¯­è¨€æœ‰ä¸¤ç±»ï¼š</p>
<pre><code>1. procedualï¼Œè¿‡ç¨‹åŒ–çš„
2. non-procedualï¼Œ éè¿‡ç¨‹åŒ–çš„ï¼ˆSQLï¼‰
</code></pre>
<p>Pure languageï¼š</p>
<pre><code>1. relation algebra å…³ç³»ä»£æ•°
2. tuple relational calculus å…ƒç»„å…³ç³»æ¼”ç®—
3. domain relational calculus åŸŸå…³ç³»æ¼”ç®—
</code></pre>
<p>çº¯è¯­è¨€åœ¨å®é™…ä½¿ç”¨ä¸­æ„æˆäº†æŸ¥è¯¢è¯­è¨€çš„åŸºæœ¬åŸºç¡€</p>
<h3 id="å…³ç³»ä»£æ•°æ“ä½œ">å…³ç³»ä»£æ•°æ“ä½œ
</h3><p>æ˜¯è¿‡ç¨‹åŒ–çš„</p>
<p>6ä¸ªå…³ç³»ä»£æ•°æ“ä½œï¼š</p>
<pre><code>1. é€‰æ‹©                         Ïƒ
2. æŠ•å½±                         Î 
3. ç¬›å¡å°”ç§¯ Cartesion product   X
4. å¹¶                           âˆª
5. é›†åˆå·®                       -
6. è‡ªç„¶è¿æ¥                     
</code></pre>
<p>æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©ç›¸å…³è¯¾ çš„å­¦ç”Ÿï¼š</p>
<pre><code>1. é¦–å…ˆå¾—æ‰¾åˆ°æ‰€æœ‰çš„ å­¦ç”Ÿ-è¯¾ç¨‹ å¯¹åº”å…³ç³» â€”â€” (1)
2. æ‰¾åˆ°æ‰€æœ‰ ç”Ÿç‰© ç›¸å…³çš„è¯¾ç¨‹  â€”â€” (2)
3. æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿ â€”â€” (3)
4. ç”¨ (2) X (3) å¾—åˆ°çš„æ˜¯æ‰€æœ‰å­¦ç”Ÿå’Œæ‰€æœ‰ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»è¡¨ â€”â€” (4)
5. (4) å’Œ (1) çš„ç›¸åŒè¡¨é¡¹å°±æ˜¯é‚£äº›å­¦ç”Ÿå’ŒæŸä¸ªç”Ÿç‰©è¯¾çš„ å¯¹åº”å…³ç³»
6. å°† (4) - (1)ï¼Œä¼šä½¿å¾—æ‰€æœ‰çœŸæ­£çš„ æŸä¸ªå­¦ç”Ÿ-æŸä¸ªç”Ÿç‰©è¯¾ çš„å…³ç³»è¢«åˆ æ‰ã€‚ (5)
7. ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿå°±ä¸åœ¨ (5) è¡¨ä¸­äº†ï¼Œä½†æ˜¯é‚£äº›åªä¸Šè¿‡ä¸€éƒ¨åˆ†ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿè¿˜ä¼šåœ¨(5) ä¸­
8. å› ä¸ºè¿™ä¸ªæ—¶å€™å­˜çš„æ˜¯å­¦ç”Ÿå’Œä»–ä»¬æ²¡ä¸Šè¿‡çš„ç”Ÿç‰©è¯¾çš„å¯¹åº”å…³ç³»ï¼Œå°†è¿™äº›å­¦ç”ŸæŠ•å½±å‡ºæ¥
9. æœ€åç”¨æ‰€æœ‰çš„ä¸Šè¿‡è¯¾çš„å­¦ç”Ÿå‡æ‰è¿™äº›å­¦ç”Ÿï¼Œå°±å¾—åˆ°æ‰€æœ‰çš„ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©è¯¾çš„å­¦ç”Ÿ
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/713ec80c87c73609ff278dfd42cf3f4.png"
	width="1033"
	height="745"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/713ec80c87c73609ff278dfd42cf3f4_hu15277279976318078694.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/713ec80c87c73609ff278dfd42cf3f4_hu8595531406298797610.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="138"
		data-flex-basis="332px"
	
></p>
<h2 id="chapter-3-sql">Chapter 3 SQL
</h2><p>SQLçš„ä¸‰ç§ç”¨é€”ï¼š</p>
<pre><code>1. data definition DDLï¼Œå®šä¹‰
2. query æŸ¥è¯¢
3. manipulationã€modificationï¼Œæ›´æ”¹æ•°æ®åº“
</code></pre>
<p>history</p>
<pre><code>sql æ˜¯åŸºäºrelationla algebraå…³ç³»ä»£æ•°å’Œtuple relational calculuså…ƒç»„å…³ç³»æ¼”ç®—çš„
</code></pre>
<p>parts in SQL</p>
<pre><code>1. DDLï¼šdefineã€deleteã€modify on schemasã€viewsã€indexï¼›views definition
2. DMLï¼šqueryã€insertã€deleteã€update on tuples
3. integrityï¼šintegrity constraints
4. transaction management
5. authorization
6. embedded and dynamic SQL
</code></pre>
<h3 id="ddl">DDL
</h3><ol>
<li>create table/viewï¼šthe schema for each relation or view</li>
<li>the domain of values associated with each attributeï¼Œå®šä¹‰ä½œç”¨åŸŸ</li>
<li>integrity constrains å®šä¹‰ä¸€è‡´æ€§çº¦æŸ</li>
<li>index    å®šä¹‰ç´¢å¼•</li>
<li>securityï¼Œautorization   å®‰å…¨æ€§å’Œæƒé™</li>
<li>physical storage structure of each relation on disk ç‰©ç†å­˜å‚¨ç»“æ„</li>
</ol>
<h4 id="æ¨¡å¼å®šä¹‰">æ¨¡å¼å®šä¹‰ï¼š
</h4><p>å»ºè¡¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">instructor</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ID</span><span class="w"> </span><span class="nb">char</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">dept_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">salary</span><span class="w"> </span><span class="nb">numeric</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">ID</span><span class="p">),</span><span class="w">    </span><span class="c1">-- ä¸»é”®ä¸€å®šéç©º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">dept_name</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">department</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">check</span><span class="p">(</span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>insert into &rsquo;tablename&rsquo; values (&hellip;)</p>
<p>delete from &rsquo;tablename&rsquo; &lsquo;ç­›é€‰æ¡ä»¶&rsquo;<br>
å¦‚æœæ˜¯delete from &rsquo;tablename&rsquo; é‚£å°±ä¼šå°†é‡Œé¢æ‰€æœ‰çš„å…ƒç»„éƒ½ä¿ç•™ï¼Œåªå‰©ä¸€ä¸ªè¡¨ç»“æ„</p>
<p>drop tableï¼šåˆ é™¤æ•´ä¸ªè¡¨é‡Œçš„æ‰€æœ‰å…ƒç»„ï¼Œè¿˜æœ‰è¡¨æœ¬èº«<br>
å’Œdelete from table åŒºåˆ†å¼€æ¥ã€‚dropæ›´ä¸ºå½»åº•</p>
<p>alter table r add A D : ç”¨æ¥æ·»åŠ å±æ€§åˆ—ï¼ŒAæ˜¯å±æ€§åï¼ŒDæ˜¯Açš„domain<br>
alter table r drop A : ç”¨æ¥åˆ æ‰æŸä¸€åˆ—ï¼ŒAæ˜¯å±æ€§å</p>
<p>æ€»ç»“ï¼šdeleteç”¨æ¥åˆ æŸäº›å…ƒç»„ï¼ˆè¡Œï¼‰ï¼Œdropç”¨æ¥åˆ è¡¨ï¼Œalterç”¨æ¥ä¿®æ”¹è¡¨çš„ç»“æ„</p>
<h4 id="select-query">select query
</h4><p>distinctï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">dept_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥åœ¨selectå­å¥ä¸­åŠ å…¥ç®—æ•°è¿ç®—</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">salary</span><span class="o">/</span><span class="mi">12</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥ç»™æŸ¥è¯¢åˆ°çš„ç»“æœå±æ€§æ”¹å</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="o">/</span><span class="mi">12</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">monthly_salary</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>from è¯­å¥è¿æ¥è¡¨æ—¶ï¼Œä¸€å®šè¦åœ¨whereå­å¥ä¸­åŠ å…¥è¿æ¥æ¡ä»¶ï¼Œä¸ç„¶å¤šè¡¨ç¬›å¡å°”ç§¯æ“ä½œè€—æ—¶è´¹åŠ›</p>
<p>æŸ¥è¯¢ä¸­ä¸´æ—¶ä¿®æ”¹è¡¨å</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">instructor</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">S</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">salary</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">dept_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Comp.Sci&#39;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å­—ç¬¦ä¸²åŒ¹é…</p>
<pre><code>% åŒ¹é…ä»»æ„å­ä¸²
_ åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦
ç”¨escape æ¥å£°æ˜è½¬ç§»ç¬¦å·
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%100\%&#39;</span><span class="w"> </span><span class="c1">-- åŒ¹é…åç¼€ä¸º100%çš„å­—ç¬¦ä¸² 
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ’åˆ—</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="c1">-- é»˜è®¤å‡åº ascï¼Œå…ˆæŒ‰nameæ’åˆ—ï¼Œç›¸åŒnameçš„æŒ‰dept_nameæ’
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">desc</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>è¿æ¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">table1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">table2</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t2</span><span class="p">.</span><span class="k">C</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">t1</span><span class="p">.</span><span class="n">B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t2</span><span class="p">.</span><span class="n">D</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>é›†åˆæ“ä½œ</p>
<ol>
<li>å¹¶ union</li>
<li>äº¤ intersect</li>
<li>å·® except</li>
</ol>
<p>æ‰¾åˆ°æœ€å¤§çš„salary of all instructors</p>
<ol>
<li>æ‰¾ä¸æ˜¯æœ€å°çš„</li>
<li>æ‰¾åˆ°æ‰€æœ‰çš„è–ªæ°´</li>
<li>2 - 1</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">salary</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">except</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">salary</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">instructor</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">S</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">salary</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">salary</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>èšé›†å‡½æ•°</p>
<p>èšé›†å‡½æ•°ä¸€èˆ¬å¿½ç•¥ç©ºå€¼<br>
ä½†æ˜¯count(*)ä¹Ÿä¼šæŠŠå«æœ‰ç©ºå€¼çš„å…ƒç»„è®¡ç®—è¿›å»</p>
<ol>
<li>avg</li>
<li>min</li>
<li>max</li>
<li>sum</li>
<li>count</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="err">{</span><span class="n">A1</span><span class="p">,</span><span class="w"> </span><span class="n">A2</span><span class="p">...</span><span class="n">Ai</span><span class="err">}</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">ag_fun</span><span class="p">(</span><span class="n">Ai</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">ag_fun</span><span class="p">(</span><span class="n">Ai</span><span class="o">+</span><span class="n">k</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">r1</span><span class="p">,</span><span class="w"> </span><span class="n">r2</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">,</span><span class="n">rm</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">P1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">A1</span><span class="p">,</span><span class="w"> </span><span class="n">A2</span><span class="p">,...,</span><span class="w"> </span><span class="n">Ai</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">having</span><span class="w"> </span><span class="n">P2</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">D</span><span class="p">.</span><span class="n">deptID</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">E</span><span class="p">.</span><span class="n">employeeID</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">totalEmployees</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">E</span><span class="p">.</span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">4000</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">employeesAbove4000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">Department</span><span class="w"> </span><span class="n">D</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">Employee</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">D</span><span class="p">.</span><span class="n">deptID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">.</span><span class="n">deptID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">D</span><span class="p">.</span><span class="n">deptID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">HAVING</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">E</span><span class="p">.</span><span class="n">employeeID</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">D</span><span class="p">.</span><span class="n">deptID</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>select ä¸­ èšåˆå‡½æ•°ä¹‹å¤–çš„å±æ€§å¿…é¡»æŒ‰ç»„æ˜¾ç¤ºï¼Œä¸èƒ½å•ç‹¬æŸ¥ä¸€ä¸ªä¸åœ¨group by ä¸­çš„å±æ€§å’Œä¸€ä¸ªèšåˆå‡½æ•°
é”™è¯¯ä¾‹å­ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="k">avg</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="c1">-- é”™è¯¯ï¼Œidä¸èƒ½æŸ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">dept_name</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ æ‰idæ‰èƒ½æŸ¥è¯¢æˆåŠŸï¼Œå› ä¸ºåªèƒ½æŸ¥è¯¢åŒç»„çš„ä¿¡æ¯</p>
<p>åµŒå¥— nested subqueries</p>
<p>subqueries oç»å¸¸ nested åœ¨ whereå­å¥ æˆ– havingå­å¥ æˆ– fromå­å¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">course_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">semester</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Fall&#39;</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="k">year</span><span class="o">=</span><span class="mi">2009</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="n">course_id</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">in</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">select</span><span class="w"> </span><span class="n">course_id</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">from</span><span class="w"> </span><span class="n">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">where</span><span class="w"> </span><span class="n">semestor</span><span class="o">=</span><span class="s1">&#39;Sqring&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">year</span><span class="o">=</span><span class="mi">2010</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>åµŒå¥—æŸ¥è¯¢ä¼šå¯¼è‡´åµŒå¥—çš„å­å¥è¢«æ‰§è¡Œå¤šæ¬¡ï¼Œå®é™…ä½¿ç”¨ä¸­ï¼Œåº”å°½é‡é¿å…</p>
<p>some ä¿®é¥°ç¬¦</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">some</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">select</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">from</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">where</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æŸ¥è¯¢çš„ç»“æœè¦æ±‚å¤§äºåµŒå¥—ä¸­çš„æŸä¸€ä¸ªå€¼å°±è¡Œ</p>
<p>all ä¿®é¥°ç¬¦<br>
åŒç†ï¼Œè·Ÿsomeå·®ä¸å¤š</p>
<p>existsï¼Œnot exists and except<br>
å¯¹äºä¸€ä¸ªå…³ç³»ræ¥è¯´ï¼Œè¿™ä¸‰ä¸ªä¿®é¥°ç¬¦ä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code>exists r  &lt;==&gt; r ä¸ä¸ºç©º
not exists r &lt;==&gt; rä¸ºç©º
X except Y  &lt;==&gt; X - Y

å¦‚æœ X - Y = ç©º  &lt;==&gt;  Y åŒ…å« Xï¼ŒXæ˜¯Yçš„å­é›† 
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">course_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">S</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">semester</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Fall&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2009</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="k">exists</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">from</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">T</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">where</span><span class="w"> </span><span class="n">semester</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Sqring&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2010</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">and</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">course_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">course_id</span><span class="w"> </span><span class="c1">-- è¿™é‡Œçš„Sæ˜¯åœ¨å¤–éƒ¨æŸ¥è¯¢è¯­å¥ä¸­å£°æ˜çš„ï¼Œæ˜¯ä»£è¡¨è¿™ä¸ªæ˜¯å¯¹åº”äºæŸä¸ªç‰¹å®šçš„Sï¼Œå½“å‰æŸ¥åˆ°çš„S
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰¾åˆ°æ‰€æœ‰ ä¸Šè¿‡æ‰€æœ‰ç”Ÿç‰©ç›¸å…³è¯¾ çš„å­¦ç”Ÿ</p>
<ol>
<li>æ‰¾åˆ°ç”Ÿç‰©éƒ¨é—¨å¼€çš„æ‰€æœ‰è¯¾</li>
<li>å°†æŸä¸€ä¸ªå­¦ç”Ÿä¸Šè¿‡çš„æ‰€æœ‰è¯¾éƒ½åˆ—å‡ºæ¥</li>
<li>ä¸¤ä¸ªé›†åˆï¼ŒX - Y å¦‚æœä¸ºç©ºé›†ï¼Œè¯´æ˜ X æ˜¯ Y çš„å­é›†ã€‚æ‰€ä»¥å¦‚æœ1-2ä¸ºç©ºï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªå­¦ç”Ÿä¸Šè¿‡æ‰€æœ‰çš„ç”Ÿç‰©éƒ¨é—¨å¼€çš„è¯¾</li>
<li>æ£€æŸ¥1-2æ˜¯å¦ä¸ºç©º</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">S</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">select</span><span class="w"> </span><span class="n">course_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">from</span><span class="w"> </span><span class="n">course</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">where</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Biology&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">except</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">select</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">course_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">from</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">T</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">where</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="p">.</span><span class="n">ID</span><span class="w">   </span><span class="c1">-- S.ID æ˜¯å½“å‰å¤–éƒ¨æŸ¥è¯¢è¯­å¥æŸ¥è¯¢åˆ°çš„è¿™ä¸ªå­¦ç”Ÿ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>unique å¦‚æœä½œä¸ºå‚æ•°çš„å­æŸ¥è¯¢ç»“æœä¸­æ— é‡è¯»å…ƒç»„ï¼Œåˆ™uniqueè¿”å›true</p>
<p>åœ¨fromå­å¥ä¸­ä¹Ÿå¯ä»¥åµŒå¥—æŸ¥è¯¢</p>
<p>with å­å¥ï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªä¸´æ—¶çš„å…³ç³»<br>
æ‰¾åˆ°æ‰€æœ‰è–ªæ°´æœ€é«˜çš„éƒ¨é—¨<br>
å…ˆæ‰¾åˆ°æœ€é«˜çš„è–ªæ°´ï¼Œç„¶åå†æ‰¾åˆ°è–ªæ°´ç­‰äºè¿™ä¸ªçš„éƒ¨é—¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">with</span><span class="w"> </span><span class="n">max_budget</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">select</span><span class="w"> </span><span class="k">max</span><span class="p">(</span><span class="n">budget</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">from</span><span class="w"> </span><span class="n">department</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">department</span><span class="p">.</span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">department</span><span class="p">,</span><span class="w"> </span><span class="n">max_budget</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">department</span><span class="p">.</span><span class="n">budget</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max_budget</span><span class="p">.</span><span class="n">value</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸€ä¸ªwithå­å¥å¯ä»¥æ„å»ºå¤šä¸ªä¸´æ—¶è¡¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="w">    </span><span class="k">with</span><span class="w"> </span><span class="n">view1</span><span class="p">(</span><span class="n">A1</span><span class="p">,</span><span class="w"> </span><span class="n">A2</span><span class="p">...)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">select</span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">from</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">where</span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">),</span><span class="w"> </span><span class="n">view2</span><span class="p">(</span><span class="n">B1</span><span class="p">,</span><span class="w"> </span><span class="n">B2</span><span class="p">...)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">select</span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">from</span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">where</span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="modification">modification
</h4><p>delete: ç”¨æ¥åˆ é™¤æŸäº›ç‰¹å®šè¡Œ<br>
æ³¨æ„ï¼šåˆ é™¤ä¸­è‹¥æ˜¯ä½¿ç”¨èšé›†å‡½æ•°ï¼Œæ¯”å¦‚avgç­‰ï¼Œä¼šä½¿è®©avgåœ¨åˆ é™¤æ—¶æ”¹å˜<br>
è§£å†³åŠæ³•ï¼šæå‰è®¡ç®—å‡ºèšé›†å‡½æ•°çš„å€¼ï¼Œç„¶åå†åˆ é™¤</p>
<p>insertï¼šæ·»åŠ å…ƒç»„</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- æ·»åŠ æ‰€æœ‰instructoråˆ°å­¦ç”Ÿè¡¨ï¼Œå¹¶æŠŠæœ€åä¸€é¡¹ç½®é›¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">student</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">dept_name</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- æ·»åŠ æŸè¡Œç‰¹å®šå…ƒç´ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">course</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">values</span><span class="p">(</span><span class="s1">&#39;CS-437&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DBS&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Comp.Sci&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>updateï¼Œå¯ä»¥ä½¿ç”¨case when çš„è¯­å¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">update</span><span class="w"> </span><span class="n">instructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">set</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">case</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">when</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">05</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="n">salart</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1</span><span class="p">.</span><span class="mi">03</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">end</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>updateä¸­çš„æ ‡é‡å­æŸ¥è¯¢</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- æ›´æ–°æ‰€æœ‰å­¦ç”Ÿçš„å­¦åˆ†
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">update</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">S</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">set</span><span class="w"> </span><span class="n">tot_cred</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">credits</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">takes</span><span class="p">,</span><span class="w"> </span><span class="n">course</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">where</span><span class="w"> </span><span class="n">takes</span><span class="p">.</span><span class="n">course_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">course</span><span class="p">.</span><span class="n">course_id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">takes</span><span class="p">.</span><span class="n">ID</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="n">takes</span><span class="p">.</span><span class="n">grade</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s1">&#39;F&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="n">takes</span><span class="p">.</span><span class="n">grade</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>updateä¸­çš„å¤šè¡¨æ“ä½œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">update</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">A</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">set</span><span class="w"> </span><span class="n">grade</span><span class="o">=</span><span class="n">B</span><span class="p">.</span><span class="n">grade</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">Sgrade</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">B</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">S</span><span class="o">##</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">.</span><span class="n">S</span><span class="o">##</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="k">C</span><span class="o">#=</span><span class="n">B</span><span class="p">.</span><span class="k">C</span><span class="o">#</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="chapter-4">Chapter 4
</h2><h3 id="41-join-expression">4.1 join expression
</h3><p>é¦–å…ˆè¦åŒºåˆ†ï¼šå¤–è¿æ¥å’Œå†…è¿æ¥</p>
<p>å¤–è¿æ¥ï¼šå¦‚æœæŒ‡æ˜äº†ä¸¤ä¸ªTableçš„Aå’ŒBå±æ€§ç›¸ç­‰æ‰èƒ½è¿æ¥ï¼Œé‚£ä¹ˆæœ€ç»ˆè¿æ¥ç»“æœä¼šå°‘æ‰ä¸€åˆ—Bã€‚</p>
<p>å†…è¿æ¥ï¼šåŠ å…¥ä¸¤ä¸ªTableçš„Aå’ŒBå±æ€§ç›¸ç­‰æ‰èƒ½è¿æ¥ï¼Œæœ€ç»ˆç»“æœä¼šåŒæ—¶ä¿ç•™Aå’ŒB</p>
<p>ä¹‹åå†ææ‡‚å·¦å¤–è¿æ¥ã€å³å¤–è¿æ¥ã€å…¨è¿æ¥</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image.png"
	width="706"
	height="908"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image_hu9634117402781377809.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image_hu13117382500873529596.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="77"
		data-flex-basis="186px"
	
></p>
<p>å¯¹äºä¸Šå›¾ï¼Œä¸Šå·¦ä¸‹å³ï¼Œç”¨idè¿æ¥</p>
<p>å¤–è¿æ¥ï¼šå·¦å¤–è¿æ¥ï¼Œå³å¤–è¿æ¥<br>
å·¦å¤–è¿æ¥ï¼š</p>
<pre><code>1 è¯­æ–‡ null null
2 æ•°å­¦ 70   2
3 è‹±è¯­ 80   3
</code></pre>
<p>å³å¤–è¿æ¥ï¼š</p>
<pre><code>2 æ•°å­¦  70  2
3 è‹±è¯­  80  3
4 null  90  null
</code></pre>
<p>å†…è¿æ¥<br>
å†…è¿æ¥å¯ä»¥ç”¨ä¸åŒåç§°çš„ä¸¤ä¸ªå±æ€§ç›¸è¿ã€‚</p>
<pre><code>2 æ•°å­¦ 70 2
3 è‹±è¯­ 80 3
</code></pre>
<p>è‡ªç„¶è¿æ¥<br>
åŸºæœ¬å’Œå†…è¿æ¥ä¸€æ ·ï¼Œä½†æ˜¯è¦æ±‚è¿æ¥çš„åˆ—åç§°ä¸€æ ·</p>
<h3 id="42-views">4.2 views
</h3><p>views æ˜¯ä¸€ä¸ªè™šæ‹Ÿè¡¨ï¼Œå¯ä»¥ç”¨å¤šä¸ªè¡¨æ¥å»ºç«‹ã€‚<br>
åªæœ‰viewsçš„å®šä¹‰å­˜åœ¨DBSä¸­ï¼Œé‡Œé¢çš„å…ƒç»„éƒ½æ˜¯å­˜åœ¨ç›¸åº”çš„æ•°æ®è¡¨ä¸­ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="n">faculty</span><span class="w"> </span><span class="k">as</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">dept_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">from</span><span class="w"> </span><span class="n">instructor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">faculty</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;CS&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>viewçš„å®šä¹‰å¯ä»¥ç”¨å…¶ä»–çš„viewsã€‚å®ƒè¿˜æ”¯æŒé€’å½’recursiveï¼Œå°±æ˜¯ç”¨è‡ªå·±æ¥å®šä¹‰è‡ªå·±<br>
view1 depend on view2 è¡¨ç¤ºview2 é—´æ¥æˆ–ç›´æ¥çš„å†³å®šäº†view1<br>
view1 depend directly on view2 è¡¨ç¤ºview2 ç›´æ¥çš„å†³å®šäº†view1</p>
<p>viewä¹Ÿå¯ä»¥æ›´æ–°æ•°æ®è¡Œï¼Œ</p>
<pre><code>ï¼ˆ1ï¼‰ä½¿ç”¨INSERTè¯­å¥å‘æ•°æ®è¡¨ä¸­æ’å…¥æ•°æ®æ—¶ï¼Œç”¨æˆ·å¿…é¡»æœ‰æ’å…¥æ•°æ®çš„æƒåˆ©ã€‚
ï¼ˆ2ï¼‰ç”±äºè§†å›¾åªå¼•ç”¨è¡¨ä¸­çš„éƒ¨åˆ†å­—æ®µï¼Œæ‰€ä»¥é€šè¿‡è§†å›¾æ’å…¥æ•°æ®æ—¶åªèƒ½æ˜ç¡®æŒ‡å®šè§†å›¾ä¸­å¼•ç”¨çš„å­—æ®µçš„å–å€¼ã€‚è€Œé‚£äº›è¡¨ä¸­å¹¶æœªå¼•ç”¨çš„å­—æ®µï¼Œå¿…é¡»çŸ¥é“åœ¨æ²¡æœ‰æŒ‡å®šå–å€¼çš„æƒ…å†µä¸‹å¦‚ä½•å¡«å……æ•°æ®ï¼Œå› æ­¤è§†å›¾ä¸­æœªå¼•ç”¨çš„å­—æ®µå¿…é¡»å…·å¤‡ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€ã€‚
     è¯¥å­—æ®µå…è®¸ç©ºå€¼ã€‚
     è¯¥å­—æ®µè®¾æœ‰é»˜è®¤å€¼ã€‚
     è¯¥å­—æ®µæ˜¯æ ‡è¯†å­—æ®µï¼Œå¯æ ¹æ®æ ‡è¯†ç§å­å’Œæ ‡è¯†å¢é‡è‡ªåŠ¨å¡«å……æ•°æ®ã€‚
     è¯¥å­—æ®µçš„æ•°æ®ç±»å‹ä¸ºtimestampæˆ–uniqueidentifierã€‚
ï¼ˆ3ï¼‰è§†å›¾ä¸­ä¸èƒ½åŒ…å«å¤šä¸ªå­—æ®µå€¼çš„ç»„åˆï¼Œæˆ–è€…åŒ…å«ä½¿ç”¨ç»Ÿè®¡å‡½æ•°çš„ç»“æœã€‚
ï¼ˆ4ï¼‰è§†å›¾ä¸­ä¸èƒ½åŒ…å«DISTINCTæˆ–GROUP BYå­å¥ã€‚
ï¼ˆ5ï¼‰å¦‚æœè§†å›¾ä¸­ä½¿ç”¨äº†WITH CHECK OPTIONï¼Œé‚£ä¹ˆè¯¥å­å¥å°†æ£€æŸ¥æ’å…¥çš„æ•°æ®æ˜¯å¦ç¬¦åˆè§†å›¾å®šä¹‰ä¸­SELECTè¯­å¥æ‰€è®¾ç½®çš„æ¡ä»¶ã€‚å¦‚æœæ’å…¥çš„æ•°æ®ä¸ç¬¦åˆè¯¥æ¡ä»¶ï¼ŒSQL Serverä¼šæ‹’ç»æ’å…¥æ•°æ®ã€‚
ï¼ˆ6ï¼‰ä¸èƒ½åœ¨ä¸€ä¸ªè¯­å¥ä¸­å¯¹å¤šä¸ªåŸºç¡€è¡¨ä½¿ç”¨æ•°æ®ä¿®æ”¹è¯­å¥ã€‚å› æ­¤ï¼Œå¦‚æœè¦å‘ä¸€ä¸ªå¼•ç”¨äº†å¤šä¸ªæ•°æ®è¡¨çš„è§†å›¾æ·»åŠ æ•°æ®æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å¤šä¸ªINSERTè¯­å¥è¿›è¡Œæ·»åŠ ã€‚
</code></pre>
<h3 id="43-transactions">4.3 transactions
</h3><h3 id="44-integrity-constraints">4.4 integrity constraints
</h3><ol>
<li>primary key</li>
<li>not null</li>
<li>unique</li>
<li>check(p)</li>
</ol>
<p>check (semester in (&lsquo;Fall&rsquo;,&lsquo;Winter&rsquo;,&lsquo;Spring&rsquo;,&lsquo;Summer&rsquo;))</p>
<p>å‚ç…§å®Œæ•´æ€§çº¦æŸ<br>
æ·»åŠ çº§è”æ“ä½œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">course</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">dept_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">dept_name</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">department</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">on</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">cascade</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">on</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="k">cascade</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">...</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="45-sql-data-types-and-schemas">4.5 sql data types and schemas
</h3><p>date &lsquo;2017-7-27&rsquo;</p>
<p>time &lsquo;09:00:30.75&rsquo;</p>
<p>timestamp : date + time<br>
&lsquo;2017-7-27 09:00:30.75&rsquo;</p>
<p>interval period of time<br>
intercal &lsquo;1&rsquo; day = &lsquo;2017-7-27&rsquo;-&lsquo;2017-7-28&rsquo;</p>
<p>cast e as t: å°†ä¸€ä¸ªå­—ç¬¦ä¸²eè½¬æ¢æˆtype t<br>
cast &lsquo;2017-07-20&rsquo; as date</p>
<p>extract : å¯¹äºä¸€ä¸ªday æˆ– time çš„å€¼dï¼Œé‡Œé¢çš„æŸä¸ªèŒƒå›´å¯ä»¥è¢«æå–å‡ºæ¥<br>
extract(year from 2017-09-20) = 2017</p>
<p>å¤§å¯¹è±¡ç±»å‹</p>
<ol>
<li>blob äºŒè¿›åˆ¶å¤§å‹å¯¹è±¡</li>
<li>clob å­—ç¬¦å¤§é›†åˆ</li>
</ol>
<p>æ³¨æ„ï¼šå½“ä¸€ä¸ªqueryè¿”å›ä¸€ä¸ªå¤§å¯¹è±¡æ—¶ï¼Œæ˜¯è¿”å›çš„æŒ‡é’ˆè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«</p>
<p>ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ç±»å‹<br>
create type T as &hellip;</p>
<p>ç”¨æˆ·è‡ªå®šä¹‰domains<br>
create domain D char(20) not null</p>
<p>å¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶ç»™æŸä¸€å±æ€§æ·»åŠ default values</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">table1</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ç´¢å¼•åˆ›å»º:<br>
create index idx on table(A)</p>
<h3 id="46-authorization">4.6 authorization
</h3><p>æ·»åŠ æƒé™<br>
grant &lt; privilege list &gt; <br>
on &lt; relation name or view name &gt; <br>
to &lt; user list &gt;</p>
<p>privileges:</p>
<ol>
<li>select</li>
<li>insert</li>
<li>update</li>
<li>delete</li>
<li>all privileges</li>
</ol>
<p>æ’¤é”€æƒé™<br>
revoke &lt; privilege list &gt;<br>
on &lt;relation name or view name&gt;<br>
from &lt; user list &gt;</p>
<p>create role</p>
<h2 id="chapter-5">Chapter 5
</h2><h3 id="ä»ç¼–ç¨‹è¯­è¨€è®¿é—®sql">ä»ç¼–ç¨‹è¯­è¨€è®¿é—®SQL
</h3><p>User &ndash; DBMS &ndash; DB file<br>
User å’Œ DBMSä¹‹é—´ï¼Œé€šè¿‡APIï¼Œæ¯”å¦‚ODBCã€JDBCã€embedded SQLï¼Œé€šè¿‡SQLè¯­å¥</p>
<p>JDBC ï¼šjava<br>
ODBC : c , c++, c## , viual basic<br>
ADO.NET sit on top of ODBC</p>
<p>JDBC è¿˜å¯ä»¥æŸ¥çœ‹å…ƒæ•°æ®metadataï¼ŒæŸ¥çœ‹æŸä¸ªæ•°æ®çš„åå­—ã€ç±»å‹ç­‰ç­‰\</p>
<ol>
<li>æ‰“å¼€è¿æ¥</li>
<li>åˆ›å»ºSQL å¯¹è±¡</li>
<li>é€šè¿‡2çš„å¯¹è±¡å‘é€è¯­å¥ï¼Œè·å–ä¿¡æ¯</li>
<li>é”™è¯¯å¤„ç†</li>
</ol>
<p>ODBCé€šè¿‡driveræ¥é€‚åº”ä¸åŒå‚å®¶æ•°æ®åº“çš„ç‰©ç†ç»“æ„ï¼Œæ¯ä¸ªå‚å®¶æœ‰ä¸€ä¸ªdriver</p>
<p>Embedded SQL<br>
ä¼˜ç‚¹ï¼šäº¤äº’å¼åªèƒ½è¿›è¡ŒDBè®¿é—®ï¼Œä¸èƒ½å¯¹DBè®¿é—®ç»“æœè¿›ä¸€æ­¥çš„æ•°æ®å¤„ç†ï¼Œè€ŒEmbedded sql å°†SQLçš„æ•°æ®åº“è®¿é—®åŠŸèƒ½ä¸Cè¯­è¨€ç­‰å®¿ä¸»è¯­è¨€çš„æ•°æ®å¤„ç†èƒ½åŠ›ç›¸ç»“åˆï¼Œæé«˜äº†æ•°æ®åº”ç”¨ç³»ç»Ÿçš„èƒ½åŠ›</p>
<h3 id="å‡½æ•°å’Œè¿‡ç¨‹æ„å»º">å‡½æ•°å’Œè¿‡ç¨‹æ„å»º
</h3><p>å‡½æ•°ã€å­˜å‚¨è¿‡ç¨‹ é¢„å…ˆç”Ÿæˆå¯¹åº”çš„æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ï¼ˆç±»ä¼¼äºç›®æ ‡ä»£ç ï¼‰ï¼Œå­˜å‚¨åœ¨DBMSä¸­ï¼Œåº”ç”¨ç¨‹åºç›´æ¥è°ƒç”¨ï¼Œä¸éœ€å†è¿›è¡ŒæŸ¥è¯¢å¤„ç†å’Œä¼˜åŒ–</p>
<h3 id="è§¦å‘å™¨">è§¦å‘å™¨
</h3><h2 id="chapter-6-e-r-model">Chapter 6 E-R model
</h2><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-1.png"
	width="1158"
	height="1076"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-1_hu15897237647870226070.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-1_hu15317956374622008046.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="107"
		data-flex-basis="258px"
	
></p>
<h3 id="è®¾è®¡è¿‡ç¨‹">è®¾è®¡è¿‡ç¨‹
</h3><p>ä¸¤é˜¶æ®µï¼š</p>
<ol>
<li>æ˜ç¡®éœ€æ±‚</li>
<li>è®¾è®¡DB æ¨¡å¼ï¼Œ ä¸‰å±‚æ•°æ®æŠ½è±¡
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-2.png"
	width="1389"
	height="1166"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-2_hu15364905383030155008.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-2_hu15528334887483967551.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="119"
		data-flex-basis="285px"
	
></li>
</ol>
<ul>
<li>
<p>è€ƒè¯•å¸¸è€ƒçš„ï¼š</p>
<ol>
<li>éœ€æ±‚åˆ†æï¼Œéœ€æ±‚åˆ†æè¯´æ˜ä¹¦ï¼Œè®¾è®¡æ•°æ®å­—å…¸ï¼ŒåŒ…æ‹¬å…ƒæ•°æ®</li>
<li>conceptual æ¦‚å¿µè®¾è®¡ï¼Œ é€šè¿‡E-Rå›¾</li>
<li>é€»è¾‘è®¾è®¡ï¼Œ åˆå§‹åŒ–å…³ç³»æ¨¡å¼ï¼Œå…³ç³»æ¨¡å¼è§„èŒƒåŒ–â€”â€”è½¬æˆrelationnal table</li>
<li>ç‰©ç†æ•°æ®åº“è®¾è®¡</li>
</ol>
<p><a class="link" href="https://blog.csdn.net/qq_41956139/article/details/104302355"  target="_blank" rel="noopener"
    >https://blog.csdn.net/qq_41956139/article/details/104302355</a></p>
</li>
</ul>
<h3 id="å»ºæ¨¡-modeling">å»ºæ¨¡ modeling
</h3><p>E-R modelï¼š</p>
<pre><code>entity sets         å®ä½“é›†
relationship sets   è”ç³»é›†
attributes          å±æ€§
</code></pre>
<p>å®ä½“ entity æ˜¯å®ä½“é›†entity set ä¸­çš„ä¸€ä¸ªå¯¹è±¡<br>
æ”¾åˆ°æ•°æ®åº“ä¸­å°±æ˜¯ï¼ŒæŸä¸ªæ•°æ®è¡Œï¼Œå’Œæ•°æ®åº“ä¹‹é—´çš„å…³ç³»</p>
<p>è”ç³»é›†ï¼šä¸¤ä¸ªå®ä½“é›†ä¹‹é—´çš„è”ç³»å…³ç³»<br>
äºŒå…ƒè”ç³»binary relationship å…³è”äº†ä¸¤ä¸ªå®ä½“é›†<br>
ternary relationship ä¸‰å…ƒè”ç³»&hellip;&hellip;</p>
<h3 id="attribute-å±æ€§">Attribute å±æ€§
</h3><p>æ¯”å…³ç³»æ•°æ®åº“æ›´ä¸ºè‡ªç”±ã€‚<br>
ç®€å•å±æ€§å’Œå¤åˆå±æ€§, å¤åˆå±æ€§æ¯”å¦‚ä¸€ä¸ªåå­—ç”±å§“å’Œåç»„æˆ<br>
å•å€¼å’Œå¤šå€¼å±æ€§<br>
derived å±æ€§:æ¯”å¦‚é€šè¿‡ç”Ÿæ—¥ç®—å¹´é¾„</p>
<h3 id="mapping-cardinalities-æ˜ å°„åŸºæ•°">Mapping cardinalities æ˜ å°„åŸºæ•°
</h3><p>å¯¹äºäºŒå…ƒè”ç³»é›†<br>
from A to B</p>
<pre><code>one to one
one to many
many to one
mane to many
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-3.png"
	width="1243"
	height="690"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-3_hu13242210881663454295.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-3_hu12999189237616015270.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="180"
		data-flex-basis="432px"
	
>
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-4.png"
	width="1242"
	height="719"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-4_hu9044924666317677071.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-4_hu17044446765125840276.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="172"
		data-flex-basis="414px"
	
>
noteï¼šæœ‰ä¸€äº›Aæˆ–Bä¸­çš„å…ƒç´ å¯èƒ½æ²¡æœ‰mapped to å…¶ä»–å®ä½“é›†ä¸­çš„å…ƒç´ </p>
<p>Cardinality constraintsåŸºæ•°é™åˆ¶</p>
<p>ç”»å›¾ä¸­ï¼Œç®­å¤´æŒ‡å‘çš„æ˜¯oneï¼Œæ— å‘çº¿æ®µè¿æ¥çš„æ˜¯many
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-5.png"
	width="1039"
	height="284"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-5_hu5823061405641657804.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-5_hu1881099635118708079.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="365"
		data-flex-basis="878px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-6.png"
	width="1065"
	height="283"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-6_hu15777879204231828728.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-6_hu14612568372304593926.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="376"
		data-flex-basis="903px"
	
>
å¦‚æœæ˜¯ä¸¤æ¡çº¿æ®µï¼Œè¡¨ç¤ºè¿æ¥çš„å®ä½“é›†ä¸Šæ‰€æœ‰å®ä½“éƒ½å‚ä¸</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-8.png"
	width="1210"
	height="371"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-8_hu4667230907586252724.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-8_hu4612195319551747063.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="326"
		data-flex-basis="782px"
	
></p>
<p>Participate Constraints</p>
<ol>
<li>partial</li>
<li>total</li>
</ol>
<p>cardinality limits for participation<br>
å‚ä¸çš„åŸºæ•°ç•Œé™
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-9.png"
	width="1342"
	height="416"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-9_hu9142544247945244534.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-9_hu11590640585898477700.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="322"
		data-flex-basis="774px"
	
>
ä»instructorå¾€studentçœ‹ï¼šå¯¹äºä¸€ä¸ªinstructorï¼Œä»–æœ€å°‘æœ‰0ä¸ªstudentï¼Œæœ€å¤šæœ‰æ‰€æœ‰student<br>
ä»studentå¾€instructorçœ‹ï¼šå¯¹äºä¸€ä¸ªstudentï¼Œä»–æœ€å°‘æœ‰1ä¸ªinstructorï¼Œæœ€å¤šä¹Ÿæ˜¯1ä¸ªinstructor</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-10.png"
	width="1357"
	height="799"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-10_hu7962309671350445124.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-10_hu15604372777497472121.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="169"
		data-flex-basis="407px"
	
>
å¯¹äºAï¼Œä»Aå¾€Bçœ‹ï¼Œé‡Œé¢çš„å…ƒç´ æœ€å°‘æœ‰1ä¸ªbï¼Œæœ€å¤šæœ‰3ä¸ªï¼Œæ‰€ä»¥ la=1ï¼Œha=3<br>
å¯¹äºBï¼Œä»Bå¾€Açœ‹ï¼Œé‡Œé¢çš„å…ƒç´ æœ€å°‘æœ‰0ä¸ªa(bn)ï¼Œæœ€å¤šæœ‰2ä¸ªa(bj)ï¼Œæ‰€ä»¥lb=0ï¼Œhb=2</p>
<p>la ä¸º 0 æ—¶ï¼ŒAæ˜¯éƒ¨åˆ†å‚ä¸<br>
la å¤§äº 0 æ—¶ï¼ŒAæ˜¯å…¨éƒ¨å‚ä¸</p>
<p>&lt;hb, ha&gt;æè¿°äº†ä»Aåˆ°Bçš„æ˜ å°„åŸºçº¦æŸ</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-11.png"
	width="1528"
	height="1017"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-11_hu3348727236769194904.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-11_hu1982571182863439536.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="150"
		data-flex-basis="360px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-12.png"
	width="1556"
	height="1163"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-12_hu5987146666793061673.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-12_hu17809419347785038812.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="133"
		data-flex-basis="321px"
	
></p>
<h3 id="keys">keys
</h3><p>æ„é€ å…³ç³»è¡¨æ—¶ï¼Œå¦‚æœæœ‰å¤šä¸ªå€™é€‰é”®ï¼Œæœ€å¥½é€‰å–æ•°å€¼å‹å€™é€‰é”®ä½œä¸ºå…³ç³»è¡¨ä¸»é”®ï¼Œä¾¿äºæé«˜åŸºäºä¸»é”®çš„æŸ¥è¯¢é€Ÿåº¦</p>
<p>è”ç³»é›†ä¸Šçš„keysï¼š<br>
super key å°±æ˜¯æŠŠè”ç³»èµ·æ¥çš„å®ä½“é›† çš„ä¸»é”®åˆå¹¶</p>
<p>candidate key / primary keyï¼š</p>
<pre><code>å¯¹äºåœ¨Aå’ŒBå®ä½“é›†ä¸Šçš„ binary relationship set R 
å¦‚æœRæ˜¯many to manyï¼Œé‚£ä¹ˆprimary key å°±æ˜¯Aå’ŒBçš„ä¸»é”®åˆå¹¶
å¦‚æœRæ˜¯many to oneï¼Œé‚£ä¹ˆ ä¸»é”®å°±æ˜¯manyé‚£ä¸€è¾¹çš„ä¸»é”®
å¦‚æœæ˜¯ä¸€å¯¹ä¸€çš„ï¼Œ é‚£ä¹ˆéšä¾¿é€‰æ‹©ä¸€ä¸ªå®ä½“é›†çš„ä¸»é”®å½“ä¸»é”®
</code></pre>
<h3 id="å¼±å®ä½“é›†-weak-entity-sets">å¼±å®ä½“é›† weak entity sets
</h3><p>å¼±å®ä½“é›†æ— ä¸»é”®<br>
å¼±å®ä½“é›†åªèƒ½é€šè¿‡æŸä¸ªå…³ç³»è¿æ¥åˆ°çš„å®ä½“é›†æ¥å”¯ä¸€ä¿è¯<br>
å¼±å®ä½“é›†çš„ä¸»é”®æ˜¯å®ƒæ‰€ä¾é™„çš„å¼ºå®ä½“é›†çš„ä¸»é”®+å¼±å®ä½“é›†çš„discriminatorï¼Œ<br>
discriminatorè¦ç”¨è™šçº¿ä¸‹åˆ’</p>
<h3 id="e-r-diagrams">E-R diagrams
</h3><ol>
<li>çŸ©å½¢&ndash;å®ä½“é›†</li>
<li>è±å½¢&ndash;å…³ç³»é›†</li>
<li>æ¤­åœ†&ndash;å±æ€§<br>
åŒæ¤­åœ†è¡¨ç¤ºå¤šå€¼å±æ€§<br>
è™šçº¿æ¤­åœ†è¡¨ç¤ºæ´¾ç”Ÿå±æ€§</li>
<li>ä¸‹åˆ’çº¿æ ‡æ˜äº†ä¸»é”®å±æ€§</li>
<li>åŒçŸ©å½¢è¡¨ç¤ºå¼±å®ä½“é›†</li>
</ol>
<p>æ ‡æ³¨è§„åˆ™ï¼š</p>
<pre><code>ç”±è”ç³»å‘å‡ºçš„æœ‰å‘ç®­å¤´æŒ‡å‘oneæ‰€å¯¹åº”çš„å®ä½“ï¼Œæ— å‘çº¿æ®µæŒ‡å‘manyç«¯æ‰€å¯¹åº”çš„å®ä½“
åªæœ‰åœ¨many to manyçš„æƒ…å†µä¸‹ï¼ŒE-Rå›¾ä¸­è”ç³»ä¸å®ä½“é—´çš„çº¿æ®µå…¨éƒ¨æ˜¯æ— å‘çº¿æ®µï¼Œå…¶ä»–ä¸‰ç§æƒ…å†µä¸‹ä¸€å®šä¼šæœ‰æœ‰å‘çº¿æ®µ
å…¨å‚ä¸çš„è¦ç”¨åŒçº¿æ®µè¿æ¥è”ç³»
å¼±å®ä½“é›†é‡Œçš„å±æ€§ç”¨è™šçº¿ä¸‹åˆ’ï¼Œè¡¨ç¤ºéƒ¨åˆ†é”®
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-13.png"
	width="1101"
	height="1012"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-13_hu355032641898092431.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-13_hu4167392824043447635.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="108"
		data-flex-basis="261px"
	
>
nameæ˜¯å¤åˆå±æ€§<br>
addressæ˜¯å¤åˆå±æ€§<br>
streetæ˜¯å¤åˆå±æ€§<br>
phone_numberæ˜¯å¤šå€¼å±æ€§<br>
age()æ˜¯æ´¾ç”Ÿå±æ€§</p>
<h3 id="e-r-è®¾è®¡äº‹é¡¹-design-issues">E-R è®¾è®¡äº‹é¡¹ design issues
</h3><p>å¯¹äºä¸€ä¸ªå¤šå€¼å±æ€§ï¼Œå¯ä»¥å»ºç«‹ä¸€ä¸ªæ–°çš„å®ä½“é›†ï¼Œé€šè¿‡å…³ç³»é›†æ¥å’ŒåŸæœ¬çš„å®ä½“é›†è”ç³»</p>
<p>è§„åˆ™ï¼š</p>
<pre><code>1. ä¸è¦å°†ä¸»é”®è®¾ç½®ä¸ºå…¶ä»–å®ä½“é›†ä¸­çš„å±æ€§ï¼Œæœ€å¥½æ˜¯é€šè¿‡è”ç³»é›†æ¥å…³è”
2. å¦‚æœå®ä½“é›†E å‚ä¸äº†è”ç³»é›†Rï¼Œåˆ™ä¸å°†Eçš„ä¸»é”®ä½œä¸ºRçš„å±æ€§
3. ç”¨è”ç³»é›†æ¥è¡¨ç¤ºå®ä½“é›†ä¹‹é—´çš„è”ç³»
4. æœ€å¥½æ˜¯ä½¿ç”¨äºŒå…ƒè”ç³»é›†
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-14.png"
	width="1540"
	height="916"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-14_hu10945489010385837718.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-14_hu17165665782041260902.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="403px"
	
></p>
<p>å…³ç³»Rçš„å±æ€§å¯ä»¥ä¸å…¶å‚ä¸çš„å®ä½“é›†ä¹‹ä¸€ç›¸å…³è”</p>
<pre><code>ä¸€å¯¹ä¸€çš„è”ç³»ä¸­ï¼Œè”ç³»é›†ä¸Šçš„å±æ€§å¯ä»¥åˆ†é…ç»™å…¶ä¸­ä¸€ä¸ªå®ä½“é›†
ä¸€å¯¹å¤šçš„è”ç³»ä¸­ï¼Œè”ç³»é›†ä¸Šçš„å±æ€§åªèƒ½åˆ†é…ç»™å¤šçš„é‚£ä¸€è¾¹ï¼Œæ¯”å¦‚instructor å’Œ studentä¹‹é—´é€šè¿‡advisorè”ç³»ï¼Œä¸€ä¸ªinstructorå¯ä»¥æœ‰å¤šä¸ªstudentsï¼Œadvisoræœ‰ä¸€ä¸ªå±æ€§æ˜¯dateï¼Œdateåº”è¯¥æ”¾åœ¨å­¦ç”Ÿå®ä½“é›†é‡Œ
å¯¹äºå¤šå¯¹å¤šçš„è”ç³»ä¸­ï¼Œè”ç³»é›†ä¸Šçš„å±æ€§åªèƒ½æ”¾åœ¨è”ç³»é›†ä¸­
</code></pre>
<h3 id="extended-e-r-model">extended E-R model
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-15.png"
	width="1362"
	height="1134"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-15_hu16475226038044067221.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-15_hu1598987236455964474.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="120"
		data-flex-basis="288px"
	
>
overlaping é‡å   disjoint åˆ†è§£<br>
generalizationï¼šå°†å…±äº«ç›¸åŒç‰¹æ€§çš„å®ä½“é›†ç»„åˆåˆ°æ›´é«˜å±‚æ¬¡çš„å®ä½“é›†ä¸­<br>
specializationï¼šå°†å®ä½“é›†ä¸­å®ä½“çš„å·®å¼‚ï¼Œå°†å®ä½“é›†åˆ†æˆå¤šä¸ªåˆ†ç»„ï¼Œæ¯ä¸ªåˆ†ç»„ä¸å®ä½“é›†ä¸­çš„å…¶ä»–å®ä½“ä¸åŒ</p>
<p>ä½å±‚å®ä½“é›†ä¼šç»§æ‰¿é«˜å±‚å®ä½“é›†çš„å±æ€§å’Œrelationship</p>
<p>disjoint è¡¨ç¤ºé«˜å±‚çš„ä¸€ä¸ªå®ä½“åªèƒ½è¢«åˆ’åˆ†åˆ°ä¸€ä¸ªä½å±‚å®ä½“é›†ä¸­<br>
overlaping è¡¨ç¤ºé«˜å±‚çš„ä¸€ä¸ªå®ä½“å¯ä»¥è¢«åˆ’åˆ†åˆ°å¤šä¸ªä½å±‚å®ä½“é›†ä¸­
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-17.png"
	width="1467"
	height="533"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-17_hu16554910802479591858.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-17_hu16701873804601888791.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="275"
		data-flex-basis="660px"
	
></p>
<p>total è¡¨ç¤ºé«˜å±‚çš„ä¸€ä¸ªå®ä½“å¿…é¡»å±äºä¸€ä¸ªè¾ƒä½çº§çš„å®ä½“é›†<br>
partial è¡¨ç¤ºä¸€ä¸ªé«˜å±‚çš„å®ä½“ä¸ä¸€å®šè¦å±äºä¸€ä¸ªä½çº§çš„å®ä½“é›†
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-16.png"
	width="1398"
	height="559"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-16_hu2610168088669881855.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-16_hu15159148396008867358.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="250"
		data-flex-basis="600px"
	
></p>
<h3 id="reduction-to-relation-schema">reduction to relation schema
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-18.png"
	width="1493"
	height="869"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-18_hu12901369623928887954.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-18_hu8925667450437453153.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="171"
		data-flex-basis="412px"
	
></p>
<p>å¤åˆå±æ€§è¦å¤šå»ºä¸€å¼ è¡¨ï¼Œ<br>
æˆ–è€…å°†å¤åˆå±æ€§ä¸­çš„å€¼æå–å‡ºæ¥ï¼Œæ”¾åœ¨åŸè¡¨ä¸­ã€‚</p>
<p>å¤šå€¼å±æ€§è¦å»ºç«‹ä¸€å¼ è¡¨ï¼ŒåŒæ—¶è¦åŒ…å«åŸå®ä½“é›†ä¸­çš„ä¸»é”®</p>
<p>å°†è”ç³»é›†å˜ä¸ºå…³ç³»æ•°æ®åº“æ¨¡å‹ï¼Œè¦åŸºäºæ˜ å°„åŸºæ•°</p>
<p>å¯¹äºä¸€å¯¹ä¸€çš„å…³ç³»ä¸­ï¼Œå¦‚æœAæ˜¯å…¨å‚ä¸ï¼Œé‚£ä¹ˆå°±å°†Rä¸­çš„ä¸»é”®å’Œdiscriminatorç»™A</p>
<p>å¯¹äºSpecialization å’Œ Generalizationçš„reduction</p>
<pre><code>1. å¯¹äºoverlappingæˆ–è€…partialçš„ï¼šä¸ºé«˜çº§å®ä½“é›†å½¢æˆæ¨¡å¼ï¼Œä¸ºæ¯ä¸ªä½çº§å®ä½“é›†å½¢æˆæ¨¡å¼ï¼ŒåŒ…æ‹¬é«˜çº§å®ä½“é›†çš„ä¸»é”®å’Œæœ¬åœ°å±æ€§ã€‚ç¼ºç‚¹ï¼šå†—ä½™ä¿¡æ¯å¤š
2. å¯¹äºdisjoint å’Œ completeçš„ï¼šä¸ºæ¯ä¸ªå…·æœ‰æ‰€æœ‰æœ¬ä½“å’Œç»§æ‰¿å±æ€§çš„å®ä½“é›†å½¢æˆä¸€ä¸ªæ¨¡å¼ã€‚ç¼ºç‚¹ï¼šå†—ä½™ä¿¡æ¯å¤š
</code></pre>
<p>Method1ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-19.png"
	width="1449"
	height="788"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-19_hu18358574181882191659.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-19_hu11148521281436868838.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="183"
		data-flex-basis="441px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-20.png"
	width="1300"
	height="559"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-20_hu4538636634502688708.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-20_hu10416943034674506184.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="232"
		data-flex-basis="558px"
	
>
cå±æ€§æ˜¯ä¸»å±æ€§ï¼ŒåŒæ—¶æ˜¯T2ã€T3çš„å¤–é”®</p>
<p>Method2ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-21.png"
	width="1418"
	height="628"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-21_hu3178928728249763455.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-21_hu4834280574622793979.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="225"
		data-flex-basis="541px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-22.png"
	width="1360"
	height="613"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-22_hu12127399374473350892.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-22_hu9655199508855184846.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="221"
		data-flex-basis="532px"
	
>
åªæœ‰ä½å±‚çº§è¡¨ï¼Œæ¯ä¸ªè¡¨éƒ½åŒ…å«é«˜å±‚è¡¨çš„æ‰€æœ‰å±æ€§ã€‚æ²¡æœ‰é«˜å±‚é›†è¡¨äº†ã€‚</p>
<h3 id="symbols-conclusion">symbols conclusion
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-23.png"
	width="1395"
	height="836"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-23_hu1196122930778825206.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-23_hu1757549044051571688.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="166"
		data-flex-basis="400px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-24.png"
	width="1331"
	height="886"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-24_hu7128710778495812564.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-24_hu15125048203582087734.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="150"
		data-flex-basis="360px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-25.png"
	width="1266"
	height="445"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-25_hu3876169814207670137.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-25_hu1642020428896523086.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="284"
		data-flex-basis="682px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-26.png"
	width="1484"
	height="173"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-26_hu1481971112707948255.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-26_hu1697189988913309057.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="857"
		data-flex-basis="2058px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-27.png"
	width="1362"
	height="746"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-27_hu6262641695760829222.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-27_hu14746054769514999146.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="182"
		data-flex-basis="438px"
	
></p>
<h2 id="chapter-7-schema-normalization">Chapter 7 schema normalization
</h2><h3 id="71-ä¸€ä¸ªå¥½çš„å…³ç³»è®¾è®¡çš„ç‰¹ç‚¹">7.1 ä¸€ä¸ªå¥½çš„å…³ç³»è®¾è®¡çš„ç‰¹ç‚¹
</h3><h4 id="åŸåˆ™">åŸåˆ™
</h4><p>å¯¹åˆå§‹å…³ç³»æ¨¡å¼é›†ï¼Œéœ€è¦æ ¹æ®å…³ç³»è§„èŒƒåŒ–ç†è®ºï¼Œåœ¨ä¿è¯</p>
<ol>
<li>å‡½æ•°æ— æŸè¿æ¥æ€§ lossless join</li>
<li>å‡½æ•°ä¾èµ–ä¿æŒ dependency preservation</li>
</ol>
<p>çº¦æŸçš„å‰æä¸‹ï¼Œå¯¹å…³ç³»æ¨¡å¼é›†è¿›è¡Œè§„èŒƒåŒ–å¤„ç†â€”â€”ç­‰ä»·å˜æ¢ / æ¨¡å¼åˆ†è§£</p>
<pre><code>å‡½æ•°ä¾èµ–æ˜¯ç‰¹æ®Šçš„å¤šå€¼ä¾èµ–
å¤šå€¼ä¾èµ–åˆæ˜¯è¿æ¥ä¾èµ–çš„ç‰¹ä¾‹
</code></pre>
<h3 id="72-atomic-domain-å’Œ-ç¬¬ä¸€èŒƒå¼">7.2 atomic domain å’Œ ç¬¬ä¸€èŒƒå¼
</h3><p>å¯¹äºä¸€ä¸ªå…³ç³»æ¨¡å¼Rï¼Œæ¯ä¸ªå±æ€§çš„åŸŸéƒ½æ˜¯atomicçš„ï¼Œå°±è¯´å®ƒç¬¦åˆç¬¬ä¸€èŒƒå¼</p>
<h3 id="73-ç”¨å‡½æ•°ä¾èµ–åˆ†è§£">7.3 ç”¨å‡½æ•°ä¾èµ–åˆ†è§£
</h3><p>å‡½æ•°ä¾èµ–ï¼šæŸä¸€ç»„å±æ€§çš„å€¼å”¯ä¸€åœ°å†³å®šå¦ä¸€ç»„å±æ€§çš„å€¼</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-28.png"
	width="1159"
	height="280"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-28_hu9185297803633366092.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-28_hu3606940278859898752.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="413"
		data-flex-basis="993px"
	
>
xå€¼ç›¸ç­‰æ—¶ï¼Œå‡½æ•°å€¼ç›¸ç­‰ï¼›ä¸€ä¸ªxåªå¯¹åº”ä¸€ä¸ªy<br>
å¯¹äºä¸€ä¸ªå…³ç³»ï¼ˆåå­—ï¼Œ å¹´é¾„ï¼‰æ¥è¯´ï¼šåŒä¸€ä¸ªåå­—åªæœ‰ä¸€ä¸ªå¹´é¾„ã€‚æ‰èƒ½è¯´è¿™æ˜¯æœ‰å‡½æ•°ä¾èµ–ï¼ˆf : åå­—-&gt;å¹´é¾„ï¼‰çš„</p>
<p>Cå¯¹ï¼ŒABDé”™
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-29.png"
	width="1311"
	height="681"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-29_hu14861433043253656794.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-29_hu3865390441824844900.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="192"
		data-flex-basis="462px"
	
>
è§£æï¼š</p>
<pre><code>Aç›¸åŒå€¼t2ã€t3å¾—å‡ºçš„Bä¸ä¸€æ ·
ACç›¸åŒå€¼t2ã€t3å¾—å‡ºçš„Bä¸ä¸€æ ·
BCç›¸åŒå€¼â€”â€”æ— ç›¸åŒçš„
Bç›¸åŒå€¼t1ã€t3å¾—å‡ºçš„Cä¸ä¸€æ ·
</code></pre>
<p>E-Rå›¾æè¿°äº†å¯¹è±¡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³è”ï¼ŒFDè¯´æ˜äº†å¯¹è±¡çš„ç‰¹å¾ä¹‹é—´çš„å…³ç³»</p>
<p>åŒºåˆ†FD holds on R å’Œ FD is satisfied by r(R)</p>
<pre><code>å‰è€…æ˜¯å®šä¹‰åœ¨Rçš„å±æ€§é—´çš„è¯­ä¹‰çº¦æŸï¼ŒRåº”æ»¡è¶³çº¦æŸ
åè€…æ˜¯æ ¹æ®Ræ„é€ çš„å®é™…æ•°æ®r(R)æ˜¯å¦æ»¡è¶³è¯­ä¹‰çº¦æŸFD

å‰è€…è¯´æ˜ï¼šå¦‚æœFDå®šä¹‰åœ¨Rä¸Šï¼Œé‚£ä¹ˆRä¸Šçš„æ‰€æœ‰å®ä¾‹éƒ½æ»¡è¶³å‡½æ•°ä¾èµ–FD
</code></pre>
<p>å¹³å‡¡å‡½æ•°ä¾èµ–ï¼šä¸€ä¸ªå‡½æ•°ä¾èµ–è¢«æ‰€æœ‰å…³ç³»å®ä¾‹æ»¡è¶³ï¼Œé‚£ä¹ˆå°±æ˜¯å¹³å‡¡çš„</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-30.png"
	width="799"
	height="78"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-30_hu14698116378794783275.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-30_hu14824616285182750852.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1024"
		data-flex-basis="2458px"
	
></p>
<p>ä¼ é€’å‡½æ•°ä¾èµ–    transitive
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-31.png"
	width="972"
	height="307"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-31_hu4069707486827945248.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-31_hu5149427282672603708.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="316"
		data-flex-basis="759px"
	
></p>
<p>éƒ¨åˆ†å‡½æ•°ä¾èµ–    partialï¼šéæœ€å°åŒ–å†—ä½™
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-32.png"
	width="1245"
	height="371"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-32_hu8951136766343764998.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-32_hu1929307210764227191.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="335"
		data-flex-basis="805px"
	
></p>
<p>å‡½æ•°ä¾èµ–é—­åŒ…ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-33.png"
	width="1287"
	height="141"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-33_hu15337679127551677741.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-33_hu12084522141511741907.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="912"
		data-flex-basis="2190px"
	
></p>
<h4 id="bcnf">BCNF:
</h4><pre><code>ä¸€ä¸ªå…³ç³»ä¸Šçš„å‡½æ•°ä¾èµ–é—­åŒ…é‡Œçš„ä»»æ„ä¸€ä¸ªå‡½æ•°ä¾èµ–ï¼š
1. è¦ä¹ˆæ˜¯å¹³å‡¡çš„
2. è¦ä¹ˆÎ± -&gt; Î² è¿™ä¸ªFDä¸­Î±æ˜¯Rçš„superkey
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-34.png"
	width="1314"
	height="442"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-34_hu10171890858406224801.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-34_hu18445439795895632392.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="297"
		data-flex-basis="713px"
	
></p>
<p>å°†æŸä¸ªä¸ç¬¦åˆBCNFçš„å…³ç³»Råˆ†è§£æˆBCNF:<br>
Î± -&gt; Î² ä¸æ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼ŒÎ±ä¹Ÿä¸æ˜¯è¶…é”®ã€‚Rå°±ä¼šå˜æˆä¸‹é¢ä¸¤ä¸ªéƒ¨åˆ†ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-35.png"
	width="1177"
	height="308"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-35_hu3988198520792673215.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-35_hu1358237390032040075.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="382"
		data-flex-basis="917px"
	
>
è¿™æ ·Î±âˆªÎ²ä¸­ï¼Œå¯¹äº Î±-&gt;Î²ï¼Œ Î±åšè¶…é”®ï¼Œæ»¡è¶³BCNF</p>
<h4 id="3nf">3NF
</h4><p>å®šä¹‰å¦‚ä¸‹ï¼šæ¯”BCNFå®½æ¾ä¸€äº›ã€‚å¦‚æœÎ±ä¸æ˜¯è¶…é”®çš„è¯ï¼Œé‚£ä¹ˆÎ²-Î±ä¸­çš„æ¯ä¸ªå±æ€§Aéƒ½å¾—åœ¨å€™é€‰é”®ä¸­ã€‚<br>
å¯ä»¥åœ¨ä¸åŒçš„å€™é€‰é”®ä¸­
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-36.png"
	width="1326"
	height="314"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-36_hu5272362907111339966.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-36_hu8438102189071716922.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="422"
		data-flex-basis="1013px"
	
></p>
<h4 id="2nf">2NF
</h4><p>å‚è€ƒå¸¦æœ‰ä¸»é”®çš„å…³ç³»æ•°æ®åº“æ¨¡å‹
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-37.png"
	width="1222"
	height="492"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-37_hu17415368865225150672.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-37_hu10423599026980455259.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="248"
		data-flex-basis="596px"
	
></p>
<p>ä¸å­˜åœ¨éä¸»å±æ€§å¯¹å€™é€‰é”®çš„éƒ¨åˆ†ä¾èµ–<br>
æ¯ä¸€ä¸ªéä¸»å±æ€§éƒ½å®Œå…¨ä¾èµ–äºRçš„å€™é€‰é”®<br>
ä½†æ˜¯å¯ä»¥æœ‰éä¸»å±æ€§ä¾èµ–äºéä¸»å±æ€§</p>
<p>åä¾‹ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-38.png"
	width="794"
	height="270"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-38_hu10119106749946011541.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-38_hu13434066250404425531.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="294"
		data-flex-basis="705px"
	
>
å¯¹äºéä¸»å±æ€§SD, SDä¾èµ–äºS#, S#æ˜¯ä¸»é”®çš„ä¸€éƒ¨åˆ†ï¼ŒSDå¯¹(S#, C#)éƒ¨ä»½ä¾èµ–</p>
<p>åˆ†è§£åï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-39.png"
	width="864"
	height="328"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-39_hu9104042021529226172.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-39_hu12815740469344698750.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="263"
		data-flex-basis="632px"
	
></p>
<p>è§„èŒƒåŒ–çš„ç›®æ ‡å¦‚ä¸‹ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-40.png"
	width="1083"
	height="274"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-40_hu15153660325626048115.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-40_hu10634730070947521468.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="395"
		data-flex-basis="948px"
	
></p>
<h3 id="74-å‡½æ•°ä¾èµ–ç†è®º">7.4 å‡½æ•°ä¾èµ–ç†è®º
</h3><p>é€»è¾‘è•´æ¶µ logically implied</p>
<p>ä¸‰æ¡å…¬ç†ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-41.png"
	width="1225"
	height="287"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-41_hu13391616256051933029.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-41_hu17724345378810324137.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="426"
		data-flex-basis="1024px"
	
></p>
<p>æ¨å¹¿ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-42.png"
	width="1157"
	height="575"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-42_hu13411087592638849558.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-42_hu11685331659907392140.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="201"
		data-flex-basis="482px"
	
></p>
<p>å±æ€§é—­åŒ…<br>
è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-43.png"
	width="1062"
	height="686"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-43_hu6101648715785169326.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-43_hu18032092482665390929.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="154"
		data-flex-basis="371px"
	
></p>
<p>å¦‚æœä¸€äº›å±æ€§é—­åŒ…æ˜¯æ‰€æœ‰å±æ€§çš„è¯ï¼Œé‚£ä¹ˆè¿™äº›å±æ€§æ˜¯å…³ç³»çš„è¶…é”®</p>
<p>æ£€æŸ¥AGæ˜¯å¦æ˜¯Rçš„å€™é€‰é”®ï¼Ÿ
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-44.png"
	width="874"
	height="546"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-44_hu17311569828856358287.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-44_hu14013527557639177648.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="160"
		data-flex-basis="384px"
	
></p>
<ol>
<li>å…ˆæ£€æŸ¥AGæ˜¯å¦æ˜¯è¶…é”®</li>
<li>çœ‹AGçš„å­é›†èƒ½å¦æ„æˆè¶…é”®</li>
</ol>
<p>å±æ€§é—­åŒ…çš„ä¸‰ç§ç”¨é€”ï¼š</p>
<ol>
<li>æŸ¥çœ‹æŸäº›å±æ€§æ˜¯å¦æ„æˆè¶…é”®</li>
<li>æŸ¥çœ‹æŸä¸ªå‡½æ•°ä¾èµ–æ˜¯å¦æ»¡è¶³ï¼šæ¯”å¦‚Î± -&gt; Î²æ˜¯å¦æ»¡è¶³å°±è¦çœ‹Î²æ˜¯ä¸æ˜¯åœ¨Î±çš„å±æ€§é—­åŒ…é‡Œ</li>
<li>ç”¨æ¥è®¡ç®—å‡½æ•°é—­åŒ…</li>
</ol>
<p>å¦‚æœä¸¤ä¸ªå‡½æ•°ä¾èµ–é›†çš„å‡½æ•°ä¾èµ–é—­åŒ…æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå°±è¯´è¿™ä¸¤ä¸ªå‡½æ•°ä¾èµ–é›†æ˜¯equivalent</p>
<h4 id="æ­£åˆ™è¦†ç›–">æ­£åˆ™è¦†ç›–
</h4><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-45.png"
	width="1286"
	height="256"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-45_hu1447367847027098905.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-45_hu15368919315131843778.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="502"
		data-flex-basis="1205px"
	
></p>
<p>extraneous attribute</p>
<pre><code>attribute A is extraneous in Î±ï¼š
    F implies/is equivalent to (F â€“ {Î± â†’ Î²}) âˆª {(Î± â€“ A) â†’ Î²}
    Få°† Î±-&gt;Î² ä¿®æ”¹æˆ Î±-A -&gt; Î²ï¼Œ ä¸æ”¹å˜å‡½æ•°é—­åŒ…

attribute A is extraneous in Î²:
    the set of functional dependencies
    (F â€“ {Î± â†’ Î²}) âˆª {Î± â†’(Î² â€“ A)} implies F
    å°† Î±-&gt;Î² ä¿®æ”¹æˆ Î± -&gt; Î²-Aï¼Œä¸æ”¹å˜å‡½æ•°é—­åŒ…
</code></pre>
<hr>
<p>to test if attribute A âˆˆ Î± is extraneous
(Î± â€“A) â†’ Î² under F ?
æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>é€šè¿‡Fï¼Œè®¡ç®—(Î±-A)çš„å±æ€§é—­åŒ…</li>
<li>æ£€æŸ¥Î²åœ¨ä¸åœ¨(Î±-A)çš„å±æ€§é—­åŒ…ä¸­ï¼Œå¦‚æœåœ¨ï¼Œåˆ™è¯´æ˜Aæ˜¯extraneous</li>
</ol>
<p>to test if attribute A âˆˆ Î² is extraneous in Î²<br>
å³çœ‹ Î±â†’A æ˜¯å¦ under Fâ€™<br>
æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>compute Î±+ using only the dependencies in<br>
Fâ€™= (F â€“ {Î± â†’ Î²}) âˆª {Î± â†’(Î² â€“ A)}</li>
<li>check A âˆˆ Î±+ ? if it does, Î±â†’A holds, A is extraneous</li>
</ol>
<hr>
<p>æ­£åˆ™è¦†ç›–è¦æ±‚ï¼š</p>
<ol>
<li>No functional dependency in Fc contains an extraneous attribute,</li>
<li>Each left side of functional dependency in Fc is unique, that is, there are no two dependencies Î±1 â†’ Î²1 , Î±2â†’ Î²2 in Fc , such that Î±1 = Î±2</li>
</ol>
<p>æ­£åˆ™è¦†ç›–ç®—æ³•ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-46.png"
	width="1196"
	height="454"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-46_hu17609027696383994477.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-46_hu4459565020997271444.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="263"
		data-flex-basis="632px"
	
>
é‡å¤ï¼šä½¿ç”¨åˆå¹¶å¾‹ï¼Œåˆå¹¶ç›¸åŒå·¦å€¼çš„å‡½æ•°ï¼›å‡æ‰æ— å…³å±æ€§ï¼›ç›´åˆ°ä¸å˜</p>
<p>å¯¹äºå•æ¨å•çš„ï¼Œå¯ä»¥ä¸æ£€æŸ¥ï¼Œä½†æ˜¯å•æ¨å¤šï¼Œå¤šæ¨å•çš„ï¼Œä¸€å®šè¦æ£€æŸ¥ï¼ï¼ï¼ä¸ç„¶å®¹æ˜“æ¼æ‰</p>
<p>æ— æŸè¿æ¥åˆ†è§£ï¼šlossless join decomposition<br>
A decomposition of R into R1 and R2 is lossless join if at least one of the following dependencies is in F+ :<br>
â—¼ R1 âˆ© R2 â†’ R1<br>
â—¼ R1 âˆ© R2 â†’ R2</p>
<p>æ— æŸè¿æ¥åˆ†è§£ä¸­ï¼ŒRæ‰€å¯¹åº”çš„rè¢«åˆ†æˆè‹¥å¹²å‚ç›´ç‰‡æ®µÎ Ri(r) , å„å‚ç›´ç‰‡æ®µé€šè¿‡è‡ªç„¶è¿æ¥å¯æ¢å¤rä¸­çš„æ•°æ®ï¼Œä¿è¯äº†æ•°æ®çš„å®Œæ•´æ€§/åˆ†è§£å¯æ¢å¤æ€§</p>
<p>æœ‰æŸè¿æ¥ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-47.png"
	width="1210"
	height="208"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-47_hu10657382961176811820.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-47_hu7542834065947920142.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="581"
		data-flex-basis="1396px"
	
></p>
<p>ä¾èµ–ä¿æŒ
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-48.png"
	width="1112"
	height="151"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-48_hu6809387939335907599.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-48_hu12899060071245042016.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="736"
		data-flex-basis="1767px"
	
>
æµ‹è¯•å‡½æ•°ä¾èµ–ä¿æŒçš„ç®—æ³•ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-49.png"
	width="1366"
	height="714"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-49_hu14617293673595348046.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-49_hu995066979825484796.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="191"
		data-flex-basis="459px"
	
>
æˆ‘çœ‹ä¸æ‡‚</p>
<h4 id="75-algorithm-for-decomposition">7.5 algorithm for decomposition
</h4><p>åˆ†è§£æˆBCNFï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-50.png"
	width="1421"
	height="1047"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-50_hu4219405860579104808.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-50_hu2009336435275453857.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="135"
		data-flex-basis="325px"
	
>
to determine whether or not Ri is in BCNF, the restriction of F to Ri and the candidate keys of Ri should be computed !!!<br>
è¦å…ˆç®—å‡ºRiçš„å€™é€‰é”®</p>
<p>å…¶å®å°±æ˜¯å¾ªç¯è¿™ä¸ªè¿‡ç¨‹ï¼š<br>
å°†æŸä¸ªä¸ç¬¦åˆBCNFçš„å…³ç³»Råˆ†è§£æˆBCNF:<br>
Î± -&gt; Î² ä¸æ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼ŒÎ±ä¹Ÿä¸æ˜¯è¶…é”®ã€‚Rå°±ä¼šå˜æˆä¸‹é¢ä¸¤ä¸ªéƒ¨åˆ†ï¼š
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-35.png"
	width="1177"
	height="308"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-35_hu3988198520792673215.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-35_hu1358237390032040075.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="382"
		data-flex-basis="917px"
	
>
è¿™æ ·Î±âˆªÎ²ä¸­ï¼Œå¯¹äº Î±-&gt;Î²ï¼Œ Î±åšè¶…é”®ï¼Œæ»¡è¶³BCNF<br>
ç„¶åå†å¯¹R-(Î²-Î±)æ¥åˆ†è§£</p>
<p>åˆ†è§£æ—¶å‡ºç°æ— è®ºå¦‚ä½•éƒ½æ²¡æ³•å‡½æ•°ä¾èµ–ä¿æŒçš„ä¾‹å­
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-51.png"
	width="1275"
	height="665"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-51_hu14155482408727749545.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-51_hu11963954084671955753.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="191"
		data-flex-basis="460px"
	
></p>
<p>åˆ†è§£çš„èŒƒä¾‹å¦‚ä¸‹ï¼š
ç¬¬ä¸€æ­¥ï¼Œæ‰¾åˆ°å€™é€‰é”®ï¼Œå¹¶åˆ†è§£
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-52.png"
	width="1427"
	height="768"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-52_hu12229108309404686136.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-52_hu15440598355199788996.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="185"
		data-flex-basis="445px"
	
>
æ‰¾åˆ°æ–°çš„å€™é€‰é”®
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-53.png"
	width="1291"
	height="540"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-53_hu10539351313365139891.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-53_hu693238583740830479.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="239"
		data-flex-basis="573px"
	
>
æ¯åˆ†è§£ä¸€æ­¥éƒ½è¦ç®—å‡ºç›¸åº”å…³ç³»é›†çš„å‡½æ•°ä¾èµ–é—­åŒ…
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-54.png"
	width="1349"
	height="750"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-54_hu2024871965061393587.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-54_hu531661400694006633.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="179"
		data-flex-basis="431px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-55.png"
	width="1290"
	height="157"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-55_hu6208224699460788311.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-55_hu5310599554890982388.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="821"
		data-flex-basis="1971px"
	
></p>
<h4 id="3nf-åˆ†è§£">3NF åˆ†è§£
</h4><p>å› ä¸ºBCNFæœ‰å¯èƒ½å‡½æ•°ä¾èµ–ä¸ä¿æŒ<br>
åˆ†è§£æˆ3NFä¸€å®šå¯ä»¥å‡½æ•°ä¾èµ–ä¿æŒï¼ï¼ï¼</p>
<p>æµ‹è¯•æ˜¯å¦æ˜¯3NFæ—¶ä¹Ÿè¦å…ˆç®—å‡ºcandidate key</p>
<p>åˆ†è§£æˆ3NFçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol start="0">
<li>æ‰¾åˆ°å€™é€‰é”®</li>
<li>æ±‚å‡ºFçš„æ­£åˆ™è¦†ç›–Fc</li>
<li>å¦‚æœå¯¹äºæŸä¸ªFï¼šÎ± -&gt; Î²ï¼Œå·²æœ‰çš„å­æ¨¡å¼Rjéƒ½æ²¡æœ‰åŒæ—¶åŒ…å«Î±å’ŒÎ²ï¼Œé‚£ä¹ˆå°±æ„é€ ä¸€ä¸ªRj</li>
<li>å¦‚æœæ²¡æœ‰ä¸€ä¸ªå­æ¨¡å¼åŒ…å«äº†åŸæ¥Rçš„å€™é€‰é”®ï¼Œé‚£ä¹ˆå°±ä¸ºæ¯ä¸ªå€™é€‰é”®æ„é€ ä¸€ä¸ªRj</li>
</ol>
<h4 id="å€™é€‰é”®æŸ¥æ‰¾">å€™é€‰é”®æŸ¥æ‰¾
</h4><ol>
<li>åˆ†ç±»ï¼Œä»¤X = L âˆª Nï¼ŒYä»£è¡¨LRç±»<br>
Lï¼šåªå‡ºç°åœ¨å·¦è¾¹<br>
Rï¼šåªå‡ºç°åœ¨å³è¾¹<br>
LRï¼šä¸¤è¾¹éƒ½æœ‰<br>
Nï¼šä¸¤è¾¹éƒ½æ²¡æœ‰</li>
<li>æ±‚Xçš„å±æ€§é—­åŒ…ï¼Œè‹¥XåŒ…å«äº†æ‰€æœ‰å±æ€§ï¼Œé‚£ä¹ˆå°±Xå°±æ˜¯å”¯ä¸€å€™é€‰é”®</li>
<li>Xé—­åŒ…æ²¡æœ‰åŒ…å«æ‰€æœ‰å±æ€§ï¼Œé‚£ä¹ˆå°±ä»Yå–å‡ºä¸€ä¸ªå±æ€§Aï¼Œè‹¥(XâˆªA)çš„é—­åŒ…åŒ…å«Rçš„æ‰€æœ‰å±æ€§ï¼Œå°±è¯´æ˜æ‰¾åˆ°å€™é€‰é”®äº†ã€‚è¿™ä¸€æ­¥ä¸­è¦å¤šæ¬¡è°ƒæ¢ï¼Œæ‰¾å‡ºæ‰€æœ‰å€™é€‰é”®</li>
<li>è‹¥åªæ‹¿ä¸€ä¸ªè¿˜ä¸å¤Ÿæ‰¾å€™é€‰é”®ï¼Œå°±è¦æ‹¿ä¸¤ä¸ªå¾ªç¯ä¸€é&hellip;æ‹¿ä¸‰ä¸ª&hellip;ç›´åˆ°æ‰¾åˆ°å€™é€‰é”®</li>
</ol>
<h3 id="ä¹ é¢˜ç±»å‹">ä¹ é¢˜ç±»å‹
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-56.png"
	width="1289"
	height="830"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-56_hu12109248211130668391.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-56_hu8651182843488387107.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="155"
		data-flex-basis="372px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-57.png"
	width="1321"
	height="737"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-57_hu15878750459426717779.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-57_hu15727342236158757281.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="179"
		data-flex-basis="430px"
	
></p>
<h2 id="chapter-13">Chapter 13
</h2><h3 id="æ–‡ä»¶è®°å½•çš„æ–¹å¼">æ–‡ä»¶è®°å½•çš„æ–¹å¼
</h3><p>Each file is a sequence of records, and a relational table is a set of tuples</p>
<p>å…ƒç»„ä¸ºå•ä½çš„DBé€»è¾‘æ–‡ä»¶åœ¨ä»¥è®°å½•ä¸ºå•ä½çš„OSç‰©ç†æ–‡ä»¶ä¸­çš„å®ç°æ–¹å¼ï¼š</p>
<ol>
<li>å®šé•¿ Fixed-length records</li>
<li>å˜é•¿ Variable-length records</li>
</ol>
<p>å®šé•¿ï¼š</p>
<pre><code>ä¸€æ¡è®°å½•ä¸èƒ½è·¨å—å­˜å‚¨ã€‚
æ¯æ¡è®°å½•å®šé•¿ã€‚
åˆ é™¤ä¸€æ¡è®°å½•çš„ä¸‰ç§æ“ä½œï¼š
    1. è¢«åˆ é™¤çš„è®°å½•åé¢çš„ä¾æ¬¡å‰ç§»
    2. å°†æœ€åä¸€æ¡ç§»åˆ°è¢«åˆ é™¤çš„ä½ç½®ä¸Šï¼Œè¦†ç›–
    3. ç»´æŠ¤ä¸€ä¸ªfree list
</code></pre>
<p>å˜é•¿ï¼š</p>
<pre><code>åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å­˜å‚¨å¤šç§ç±»å‹çš„è®°å½•
å¯ä»¥å­˜å‚¨å˜é•¿çš„å˜é‡ï¼Œvarchar
å…è®¸é‡å¤å­—æ®µçš„è®°å½•ç±»å‹ï¼Œrecordé‡Œè¿˜æœ‰record
å±æ€§è¦å…ˆå­˜å®šé•¿ï¼Œå†æ”¾å˜é•¿
å˜é•¿çš„å±æ€§è¢«å®šé•¿çš„offsetå’Œlengthæ ‡æ˜,å¦‚ä¸‹ï¼š
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-58.png"
	width="1447"
	height="680"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-58_hu18131749883808217084.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-58_hu509182865173730812.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="212"
		data-flex-basis="510px"
	
></p>
<pre><code>è¿˜å¯ä»¥å­˜å‚¨ä¸ºslotted page
Slotted page header containså¤´éƒ¨åŒ…æ‹¬ï¼š
â—¼ number of record entries          recordçš„æ•°é‡
â—¼ end of free space in the block    free spaceçš„æœ«å°¾ 
â—¼ location and size of each record  recordçš„ä½ç½®å’Œå¤§å°
åˆ é™¤äº†æŸæ¡è®°å½•å°±è¦æ”¹å˜å¤´éƒ¨
è®°å½•éƒ½æ˜¯è¿ç»­å­˜å‚¨çš„
</code></pre>
<h3 id="æ–‡ä»¶ä¸­è®°å½•çš„ç»„ç»‡æ–¹å¼">æ–‡ä»¶ä¸­è®°å½•çš„ç»„ç»‡æ–¹å¼
</h3><p>é€»è¾‘ç»„ç»‡æ–¹å¼æœ‰ä»¥ä¸‹å››ç§ï¼š</p>
<ol>
<li>heap</li>
<li>sequential</li>
<li>hash</li>
<li>clustering</li>
</ol>
<p>åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<pre><code>heapï¼šè®°å½•å¯ä»¥æ”¾åœ¨æ–‡ä»¶ä¸­çš„ä»»æ„ä½ç½®
sequentialï¼šè®°å½•é€šè¿‡å„è‡ªçš„search keyæ¥è¿ç»­ç»„ç»‡
hashï¼šé€šè¿‡æŸäº›å±æ€§çš„å“ˆå¸Œå‡½æ•°
clusteringï¼šæ¯ä¸ªå…³ç³»çš„è®°å½•å¯ä»¥å­˜å‚¨åœ¨å•ä¸ªæ–‡ä»¶ä¸­ï¼›åœ¨å¤šè¡¨é›†ç¾¤çš„è®°å½•ç»„ç»‡ä¸­ï¼Œå‡ ç§ä¸åŒçš„å…³ç³»è®°å½•å¯ä»¥å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œ
</code></pre>
<p>heapï¼š</p>
<pre><code>ä¸€èˆ¬ä»¥è®°å½•è¾“å…¥çš„é¡ºåºå­˜å‚¨
</code></pre>
<p>sequentialï¼š</p>
<pre><code>ä»¥search keyçš„é¡ºåºå­˜å‚¨ï¼Œæœ€å¥½ç‰©ç†ç»“æ„ä¸Šä¹Ÿè¦æŒ‰é¡ºåºæ¥
åˆ é™¤ï¼šé€šè¿‡æŒ‡é’ˆé“¾
æ·»åŠ ï¼šå¾€ç©ºä½æ’å…¥ï¼Œæ²¡æœ‰ç©ºä½åˆ™ç”¨overflow block
è¦å®æ—¶ç»´æŠ¤é¡ºåº
</code></pre>
<p>clustering</p>
<pre><code>ä¸€ä¸ªDBæ–‡ä»¶å¯ä»¥å­˜å‚¨æ¥è‡ªå¤šä¸ªå…³ç³»çš„è®°å½•ã€‚ä¸åŒå…³ç³»ä¸­æœ‰è”ç³»çš„è®°å½•å­˜æ”¾åœ¨åŒä¸€blockï¼Œä»¥æé«˜æŸ¥æ‰¾å’ŒI/Oé€Ÿåº¦
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-59.png"
	width="1276"
	height="679"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-59_hu9227224406938016978.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-59_hu14266834392806886994.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="187"
		data-flex-basis="451px"
	
></p>
<p>hash</p>
<pre><code>{search key} â†’ {physical address of the records}
</code></pre>
<h3 id="æ•°æ®-dictionary-storage">æ•°æ® dictionary storage
</h3><p>å­˜å‚¨å…ƒæ•°æ®metadata</p>
<h3 id="buffering">Buffering
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-60.png"
	width="1302"
	height="631"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-60_hu16610703237663298978.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-60_hu16243355723558330687.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="206"
		data-flex-basis="495px"
	
></p>
<ol>
<li>æœ‰äº›å›ºå®šä¸ä¼šè¢«æ¢å‡º</li>
<li>æ‰§è¡Œå®Œç«‹é©¬æ¢å‡º</li>
<li>æ‰§è¡Œæ—¶æˆ–è¿˜æ²¡æ‰§è¡Œçš„ä¸èƒ½è¢«æ¢å‡º</li>
</ol>
<h2 id="chapter-14-index">Chapter 14 Index
</h2><p>èšé›†ç´¢å¼•ï¼šç´¢å¼•æ–‡ä»¶çš„search keyæ‰€è§„å®šçš„é¡ºåºä¸è¢«ç´¢å¼•çš„é¡ºåºæ–‡ä»¶ä¸­çš„è®°å½•é¡ºåºä¸€è‡´<br>
ä¸»ç´¢å¼•ï¼šå»ºç«‹åœ¨ä¸»å±æ€§ä¸Šçš„ç´¢å¼•<br>
ä¸»ç´¢å¼•ä¸€å®šæ˜¯èšé›†ç´¢å¼•ï¼Œåè¿‡æ¥ä¸æ˜¯<br>
ä¸€ä¸ªè¡¨ä¸Šåªèƒ½å»ºç«‹ä¸€ä¸ªèšé›†ç´¢å¼•ï¼Œä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªä¸»ç´¢å¼•ã€‚å› ä¸ºæ•°æ®æ–‡ä»¶åªèƒ½æœ‰ä¸€ç§æ’åˆ—é¡ºåº</p>
<p>è¾…åŠ©ç´¢å¼• / éèšé›†ç´¢å¼• ï¼šsecondary index<br>
ç´¢å¼•é¡ºåºå’Œæ–‡ä»¶é¡ºåºä¸ä¸€è‡´<br>
have to be dense indices ä¸€å®šæ˜¯ç¨ å¯†ç´¢å¼•ï¼Œå¦åˆ™å¯èƒ½æ‰¾ä¸åˆ°è®°å½•</p>
<p>dense index ç¨ å¯†ç´¢å¼•</p>
<pre><code>æ–‡ä»¶ä¸­çš„æ¯ä¸ªæœç´¢ç å€¼æœ‰ä¸€ä¸ªç´¢å¼•è®°å½•
ç›¸åŒæœç´¢ç çš„æ’åˆ—åœ¨è¿™ä¸ªè®°å½•çš„åé¢
</code></pre>
<p>sparse index ç¨€ç–ç´¢å¼•</p>
<pre><code>åªä¸ºæœç´¢ç çš„æŸäº›å€¼å»ºç«‹ç´¢å¼•è®°å½•ï¼Œæœ‰äº›å€¼æ²¡æœ‰å‡ºç°
ä¸»ç´¢å¼•å¯ä»¥ä¸æ˜¯ç¨ å¯†ç´¢å¼•
å¯ä»¥æŒ‰å—æ¥ç»„ç»‡ç¨€ç–ç´¢å¼•ï¼Œä¸ä¼šå½±å“æŸ¥è¯¢
å¯¹äºæ²¡æœ‰ç´¢å¼•çš„è®°å½•æ¥è¯´ï¼Œæƒ³è¦æŸ¥è¯¢å®ƒï¼Œå¾—æ‰¾åˆ°æ¯”å®ƒå°çš„å‰ä¸€ä¸ªè®°å½•ï¼Œå†ä¸€ä¸ªä¸€ä¸ªå¾€åæŸ¥
</code></pre>
<p>å¤šçº§ç´¢å¼• multi-level indices</p>
<pre><code>B+æ ‘å’ŒBæ ‘
ä¸ºç´¢å¼•å»ºç«‹ç´¢å¼•
</code></pre>
<p>indices on multiple keys<br>
å¤åˆæœç´¢é”® <br>
å·¦å‰ç¼€åŸåˆ™<br>
ä¸¾ä¾‹ï¼š</p>
<pre><code>å½“ä½¿ç”¨(dept_name, salary)æ—¶ï¼Œå¯¹äºä¸‹è¿°æŸ¥è¯¢è¯­å¥ï¼Œåˆ†æï¼š
1. where dept_name='Finance' and salary = 8000
    å¯ä»¥å¾ˆå¿«çš„æŸ¥è¯¢åŒ¹é…ä¸Šè¿°è¯­å¥çš„ç»“æœã€‚å› ä¸ºå…ˆæŸ¥dept_nameï¼Œå†ç­›é€‰
2. where dept_name='Finance' and salary &lt; 8000
    ä¹Ÿå¯ä»¥å¾ˆå¿«çš„æŸ¥è¯¢åˆ°
3. where dept_name = 'Finance' 
    å¯ä»¥å¾ˆå¿«æŸ¥è¯¢
4. where dept_name &lt; 'Finance' and balance = 8000
    ç”±dept_name &lt; 'Finance' ä¼šæŸ¥å‡ºå¾ˆå¤šç»“æœï¼Œå†åšç­›é€‰å°±æ…¢äº†
5. where balance = 8000
    æ²¡ç”¨åˆ°ç´¢å¼•
å› ä¸ºæ•°æ®ä¼šæ˜¯å…ˆé€šè¿‡dept_nameè¿›è¡Œæ’åºçš„ï¼Œç›¸åŒçš„dept_nameå†é€šè¿‡salaryæ’åºã€‚
</code></pre>
<h2 id="chapter-15-query-processing">Chapter 15 query processing
</h2><p>æŸ¥è¯¢æ‰€éœ€æ­¥éª¤ï¼š</p>
<pre><code>1. ç”¨æˆ·é€šè¿‡æŸ¥è¯¢è¯­å¥query
2. è¯­æ³•è¯­ä¹‰æ£€æŸ¥  parser and translator
3. ç»è¿‡2çš„ç¼–è¯‘å’Œç¿»è¯‘åå˜æˆå…³ç³»ä»£æ•°è¡¨è¾¾å¼
4. ä¼˜åŒ–ï¼Œä¾é å­˜å‚¨åœ¨data dictionary é‡Œçš„ metadata
5. æ‰§è¡Œè®¡åˆ’
6. ç»è¿‡evaluation engineï¼Œä»DB fileä¸­å–å‡ºæ•°æ®
7. æŸ¥è¯¢ç»“æœè¾“å‡º

ä¸Šè¿°æ­¥éª¤ä¸­ï¼Œ
step1 sparsing and translationï¼š1 2 3
step2 optimizationï¼šè¿™ä¸€æ­¥æ˜¯é€‰æ‹©å…³ç³»ä»£æ•°è¡¨è¾¾å¼ï¼Œé€‰æ‹©ç´¢å¼• 3ï¼Œ4
step3 evaluation plan executionï¼š5ï¼Œ6ï¼Œ7
</code></pre>
<h3 id="æŸ¥è¯¢ä»£ä»·è¡¡é‡-measures-of-query-costs">æŸ¥è¯¢ä»£ä»·è¡¡é‡ Measures of Query Costs
</h3><p>å¤§è‡´æœ‰ disk accessï¼ŒCPUï¼Œ network communication<br>
CPU å¿½ç•¥ï¼Œnetwork communication ç®¡ä¸äº†ï¼Œä¸€èˆ¬åªçœ‹disk access</p>
<p>tT: ä¼ è¾“ä¸€ä¸ªblockçš„æ—¶é—´<br>
tSï¼šå¯»é“æ—¶é—´â€”â€”<br>
ä¼ è¾“bä¸ªblockåŠ ä¸ŠSä¸ªå¯»é“çš„å¹³å‡æ—¶é—´ï¼šb * tT + S * tS</p>
<h3 id="æŸ¥è¯¢ç®—æ³•">æŸ¥è¯¢ç®—æ³•
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-63.png"
	width="826"
	height="1007"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-63_hu12845991909203297971.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-63_hu12298775408772172358.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="82"
		data-flex-basis="196px"
	
></p>
<p>A1 File scan by linear search çº¿æ€§æœç´¢</p>
<pre><code>å¿…é¡»æ‰«æå…¨éƒ¨çš„blocksï¼Œæ‰èƒ½æ‰¾åˆ°å…¨éƒ¨æ»¡è¶³æŸ¥è¯¢æ¡ä»¶çš„æ•°æ®
æŠŠæ•°æ®è¯»åˆ°å†…å­˜ï¼Œä¸€æ¡ä¸€æ¡æ‰«æã€‚
å› ä¸ºæ•°æ®å­˜å‚¨è¿ç»­åœ¨ä¸€èµ·ï¼Œåªéœ€è¦ä¸€æ¬¡å¯»é“
br æ˜¯åŒ…å«recordsçš„æ€»å—æ•°
cost = (br/2) * tT + tS

ä¸€èˆ¬äºŒåˆ†æŸ¥æ‰¾æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œé™¤éæ•°æ®ä¸¥æ ¼æŒ‰ç…§æŸ¥è¯¢çš„é¡ºåºæ¥
[]ï¼šå–ä¸Šç•Œ
[log2 (br)] * (tT + tS),å¦‚æœæ˜¯ç­‰å€¼æŸ¥è¯¢ï¼Œç»“æœä¸å”¯ä¸€ï¼Œè¿˜å¾—åŠ ä¸Šåé¢æ»¡è¶³å—çš„å¼€é”€
</code></pre>
<p>Index scan</p>
<p>A2 ä¸»ç´¢å¼•ï¼Œå€¼ç›¸ç­‰æŸ¥è¯¢</p>
<pre><code>å¿…é¡»æ˜¯åœ¨search keyä¸Šçš„index
æ£€ç´¢æ»¡è¶³ç›¸åº”ç­‰å¼æ¡ä»¶çš„å•æ¡è®°å½•ï¼Œä½¿ç”¨B+æ ‘ä½œä¸ºèšç±»/ä¸»ç´¢å¼•
cost = (hi + 1) * (tT + tS)
å…¶ä¸­ï¼Œhiæ˜¯æ ‘æ·±åº¦
hi*(tT + tS)    è¡¨ç¤ºè¯»å–ç´¢å¼•çš„æ—¶é—´
1 * (tT + tS)   è¡¨ç¤ºè¯»å–å¶èŠ‚ç‚¹ç´¢å¼•æŒ‡å‘çš„è®°å½•æ‰€èŠ±æ—¶é—´ã€‚è¯»æ•°æ®çš„æ—¶é—´
</code></pre>
<p>A3 ä¸»ç´¢å¼•ï¼Œéç­‰å€¼æŸ¥è¯¢</p>
<pre><code>bæ˜¯è¦æ‰¾çš„æ€»å—æ•°ï¼ŒåŒ…å«äº†æ‰€æœ‰åŒ¹é…åˆ°çš„è®°å½•çš„æ€»å—æ•°
cost = hi*(tT + tS) + tS + tT * b
åŒæ ·ï¼Œhi * (tT + tS) è¡¨ç¤ºæ‰¾ç´¢å¼•çš„æ—¶é—´
tSæ˜¯æ‰¾æ•°æ®çš„å¯»é“æ—¶é—´ï¼Œåªéœ€æ‰¾ä¸€æ¬¡
åé¢æ˜¯ä¾æ¬¡ä¼ è¾“çš„æ—¶é—´
</code></pre>
<p>A4 è¾…åŠ©ç´¢å¼•ï¼Œç­‰å€¼æŸ¥è¯¢</p>
<pre><code>è·å–ä¸€æ¡è®°å½•ï¼š
cost = (hi + 1) * (tT + tS)
è·å–å¤šæ¡è®°å½•ï¼šæ¯”å¦‚åœ¨instructoré‡Œæ‰¾æŸä¸ªä¸‹é¢è¿™ä¸ªå€¼æ˜¯700çš„è®°å½•
cost = (hi + n) * (tT + tS)
å› ä¸ºä¸åŒè®°å½•ä¸æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥éœ€è¦å¤šä¸ªå¯»é“æ—¶é—´ã€‚
è¿™é‡Œnä¸º3ï¼šhi*(tT+tS)æ˜¯æ‰¾åˆ°700çš„ç´¢å¼•åœ¨å“ªã€‚3*(tT + tS)æ˜¯è·å–700è¿™ä¸‰ä¸ªç´¢å¼•æŒ‡å‘çš„æ•°æ®
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-102.png"
	width="1157"
	height="535"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-102_hu10379653417340236894.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-102_hu13024168389464967719.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="216"
		data-flex-basis="519px"
	
></p>
<p>èŒƒå›´æŸ¥è¯¢</p>
<p>A5 ä¸»ç´¢å¼•ï¼Œæ¯”è¾ƒæŸ¥è¯¢
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-61.png"
	width="1519"
	height="366"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-61_hu10713249210397691333.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-61_hu1428354270594768846.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="415"
		data-flex-basis="996px"
	
></p>
<p>A6 è¾…åŠ©ç´¢å¼•ï¼Œæ¯”è¾ƒæŸ¥è¯¢<br>
æŸ¥ç´¢å¼•å€¼ï¼Œæ¯”è¾ƒ
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-62.png"
	width="1327"
	height="479"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-62_hu1420276159041230332.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-62_hu5561896365680454256.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="277"
		data-flex-basis="664px"
	
></p>
<p>å¤åˆæŸ¥è¯¢ â€”â€” å¹¶ï¼ˆconjunctionï¼‰</p>
<p>A7 conjunctive selection using one index</p>
<pre><code>å…ˆç”¨ä¸€ä¸ªç´¢å¼•
é€‰æ‹© A1~A7 å¼€é”€æœ€ä½çš„ç®—æ³•æ¥æŸ¥æ‰¾
å°†å…ƒç»„æå–åˆ°å†…å­˜ç¼“å†²åŒºåï¼Œæµ‹è¯•å®ƒä¸Šçš„å…¶ä»–æ¡ä»¶
</code></pre>
<p>A8 conjunctive selection using composite index</p>
<pre><code>ä½¿ç”¨åˆé€‚çš„ç»„åˆ
</code></pre>
<p>A9 conjunctive select by æ ‡è¯†ç¬¦çš„äº¤é›†æ¥è¿›è¡Œè¿æ¥é€‰æ‹©</p>
<pre><code>éœ€è¦å…·æœ‰è®°å½•æŒ‡é’ˆçš„ç´¢å¼•
å¯¹æ¯ä¸ªæ¡ä»¶ä½¿ç”¨ç›¸åº”çš„ç´¢å¼•ï¼Œè·å¾—è®°å½•æŒ‡é’ˆé›†è¿›è¡Œäº¤é›†
ä»æ–‡ä»¶ä¸­è·å–è®°å½•
å¦‚æœæœ‰äº›æ¡ä»¶æ²¡æœ‰é€‚å½“ç´¢å¼•ï¼Œå°±åœ¨å†…å­˜ä¸­æµ‹è¯•
</code></pre>
<p>A10 disjunctive selection by union of identifier</p>
<pre><code>åªè¦æœ‰ä¸€ä¸ªä¸èƒ½ä¼˜åŒ–ï¼Œå°±åªèƒ½çº¿æ€§æ‰«æ
å¯¹æ¯ä¸ªæ¡ä»¶ä½¿ç”¨ç´¢å¼•ï¼Œå¹¶å¯¹ç´¢å¼•è·å¾—çš„è®°å½•å–å¹¶é›†
ç„¶åä»æ–‡ä»¶ä¸­è·å–è®°å½•
</code></pre>
<h3 id="evaluation-of-express">evaluation of express
</h3><p>è¯„ä¼°åŒ…å«å¤šä¸ªè®¡ç®—åŸè¯­çš„è¡¨è¾¾å¼ï¼Œæ¯”å¦‚è¯´æŠ•å½±+é€‰æ‹©+æ¯”è¾ƒ</p>
<ol>
<li>materialization  å®ä½“åŒ–</li>
<li>pipeline         ç®¡é“åŒ–ã€æµæ°´çº¿</li>
</ol>
<p>å®ä½“åŒ–ï¼šå°†ä¸­é—´ç»“æœå†™å…¥ç£ç›˜<br>
ä½œå‡ºè¯­æ³•æ ‘ï¼Œä»åº•å‘ä¸Šè¯„ä¼°<br>
æ‰€æœ‰çš„cost å¤§çº¦æ˜¯ï¼šå•ä¸ªæ“ä½œçš„æˆæœ¬ä¹‹å’Œ+ä¸­é—´ç»“æœå†™å…¥ç£ç›˜çš„æˆæœ¬</p>
<p>æµæ°´çº¿<br>
åŒæ—¶è¯„ä¼°ç®¡é“çš„å¤šä¸ªæ“ä½œï¼Œå¹¶å°†ä¸€ä¸ªæ“ä½œçš„ç»“æœä¼ é€’ç»™ä¸‹ä¸€ä¸ªæ“ä½œï¼Œè€Œä¸éœ€è¦åœ¨ç£ç›˜ä¸­å­˜å‚¨ä¸´æ—¶å…³ç³»<br>
å¯ä»¥å¹¶è¡Œè¯„ä¼°</p>
<h2 id="chapter-æŸ¥è¯¢ä¼˜åŒ–">Chapter æŸ¥è¯¢ä¼˜åŒ–
</h2><p>å…³ç³»è¡¨è¾¾å¼ç­‰ä»·</p>
<h3 id="å…³ç³»è¡¨è¾¾å¼è½¬æ¢è§„åˆ™">å…³ç³»è¡¨è¾¾å¼è½¬æ¢è§„åˆ™
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-64.png"
	width="1343"
	height="383"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-64_hu2216263741328064154.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-64_hu17354364814439399912.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="350"
		data-flex-basis="841px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-65.png"
	width="1289"
	height="216"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-65_hu8880191825646050476.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-65_hu752588190237693057.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="596"
		data-flex-basis="1432px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-66.png"
	width="1307"
	height="560"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-66_hu13189606706086962412.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-66_hu15833254700912668601.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="233"
		data-flex-basis="560px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-67.png"
	width="1389"
	height="767"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-67_hu13760742450098996281.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-67_hu18440033094330739844.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="181"
		data-flex-basis="434px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-68.png"
	width="1328"
	height="314"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-68_hu13891636661593764871.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-68_hu1478666049453189663.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="422"
		data-flex-basis="1015px"
	
>
è¿ç®—ä¸­å°ºå¯¸å°çš„æ“ä½œæ’åœ¨å·¦è¾¹</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-69.png"
	width="1135"
	height="494"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-69_hu17699323778150002788.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-69_hu890173585968624855.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="229"
		data-flex-basis="551px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-70.png"
	width="1077"
	height="817"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-70_hu17972842037087141133.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-70_hu10898983314184550197.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="131"
		data-flex-basis="316px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-71.png"
	width="1266"
	height="593"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-71_hu17147320061632126200.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-71_hu4805438289633600401.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="213"
		data-flex-basis="512px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-72.png"
	width="1394"
	height="775"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-72_hu15810900734200116801.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-72_hu4464009473467485742.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="179"
		data-flex-basis="431px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-73.png"
	width="1365"
	height="401"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-73_hu17544518549679956727.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-73_hu3311514322683706744.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="340"
		data-flex-basis="816px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-74.png"
	width="1107"
	height="334"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-74_hu15352170459848521552.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-74_hu12711469740862627762.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="331"
		data-flex-basis="795px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-75.png"
	width="1313"
	height="191"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-75_hu8591095876742502712.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-75_hu4981468289248574875.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="687"
		data-flex-basis="1649px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-76.png"
	width="1186"
	height="397"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-76_hu15771238087468370407.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-76_hu5705423963843669256.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="298"
		data-flex-basis="716px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-77.png"
	width="1247"
	height="223"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-77_hu1410438308057672003.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-77_hu14091306556294987026.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="559"
		data-flex-basis="1342px"
	
></p>
<p>é€‰æ‹©å°½æ—©æ‰§è¡Œ</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-78.png"
	width="1346"
	height="530"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-78_hu7426701986432575778.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-78_hu10109430749185134888.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="253"
		data-flex-basis="609px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-79.png"
	width="1351"
	height="455"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-79_hu12981987418568330929.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-79_hu9461618243624215566.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="296"
		data-flex-basis="712px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-80.png"
	width="1070"
	height="425"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-80_hu5491259140046403688.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-80_hu13336580579476768672.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="251"
		data-flex-basis="604px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-81.png"
	width="1393"
	height="1050"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-81_hu572083069464936753.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-81_hu9836547242626066826.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="132"
		data-flex-basis="318px"
	
>
ä¼˜åŒ–åæ˜¯branchå’Œloanå…ˆè¿ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªè¿æ¥çš„ç»“æœä¼šå°‘äºå’Œborrowerè¿æ¥çš„ç»“æœ</p>
<h2 id="chapter-17-transaction">Chapter 17 transaction
</h2><p>äº‹åŠ¡æ˜¯DBSä¸­åº”ç”¨ç¨‹åº/æ•°æ®åº“åº”ç”¨ç³»ç»Ÿçš„åŸºæœ¬é€»è¾‘å•ä½ï¼Œä¹Ÿæ˜¯DBMSç®¡ç†DBSè¿è¡Œçš„åŸºæœ¬å•ä½</p>
<p>DBSä¸­ï¼Œä»DBMSçš„è§’åº¦ï¼Œç”¨æˆ·å¯¹DBçš„è®¿é—®ä½“ç°ä¸ºDBSä¸­1ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡çš„æ‰§è¡Œ</p>
<p>å¤šç”¨æˆ·DBSä¸­ï¼Œå¤šä¸ªç”¨æˆ·å¯¹DBçš„å¹¶å‘è®¿é—®ä½“ç°ä¸ºDBSä¸­å¤šä¸ªæ•°æ®åº“äº‹åŠ¡çš„å¹¶å‘æ‰§è¡Œ</p>
<p>äº‹åŠ¡çš„å››ä¸ªç‰¹æ€§ï¼šACID</p>
<ol>
<li>
<p>atomic åŸå­æ€§</p>
</li>
<li>
<p>consistency ä¸€è‡´æ€§</p>
</li>
<li>
<p>isolation ç‹¬ç«‹æ€§ / éš”ç¦»æ€§ï¼šæ¯ä¸ªäº‹åŠ¡ä¸èƒ½çŸ¥é“å…¶ä»–äº‹åŠ¡çš„ä¸­é—´ç»“æœ</p>
</li>
<li>
<p>durability æŒä¹…æ€§ï¼šäº‹åŠ¡æäº¤ä¹‹åæ•°æ®æ°¸ä¹…ç”Ÿæ•ˆ</p>
<p>concurrency-control componentä¿éšœç‹¬ç«‹æ€§isolation
recovery-management componentä¿éšœæ°¸ä¹…æ€§durability</p>
</li>
</ol>
<p>äº‹åŠ¡çš„å®šä¹‰</p>
<pre><code>a collection of operations that form a single logic unit of application works, delimited by the statements of the form begin transaction and end transaction
æ˜¯æ“ä½œçš„é›†åˆç»„åˆæˆçš„é€»è¾‘å•å…ƒ
</code></pre>
<p>ACIDåœ¨DBS ä¸­çš„æœºåˆ¶</p>
<pre><code>Aï¼šé€šè¿‡äº‹åŠ¡ç®¡ç†ï¼Œæ¢å¤ç®¡ç†ç³»ç»Ÿ
Cï¼šé€šè¿‡ç¨‹åºã€äº‹åŠ¡è®¾è®¡ï¼Œä¸€è‡´æ€§çº¦æŸæµ‹è¯•
Iï¼šå¹¶å‘æ§åˆ¶
Dï¼šæ¢å¤ç®¡ç†
</code></pre>
<p>äº‹åŠ¡çš„çŠ¶æ€
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-82.png"
	width="1230"
	height="868"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-82_hu10486918327899454556.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-82_hu2964476432495958585.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="141"
		data-flex-basis="340px"
	
></p>
<p>åœ¨Activeä¸­ï¼Œäº‹åŠ¡å¯¹æ•°æ®ä¿®æ”¹ï¼Œå¯èƒ½åªæ˜¯ä¿®æ”¹åœ¨æœ¬åœ°ç¼“å†²åŒºä¸­ï¼Œå¹¶æ²¡æœ‰çœŸæ­£è¢«ä¿®æ”¹åˆ°ç£ç›˜ä¸Šçš„DB fileä¸­</p>
<p>å¯ä¸²è¡ŒåŒ– serializability</p>
<pre><code>æŸä¸ªå¹¶å‘è°ƒåº¦is equivalent toä¸²è¡Œè°ƒåº¦ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¯ä¸²è¡ŒåŒ–çš„
nä¸ªäº‹åŠ¡ï¼Œå°±æœ‰ n! ç§ä¸²è¡Œè°ƒåº¦æ–¹å¼ï¼Œåªè¦å¹¶å‘è°ƒåº¦èƒ½å’Œå…¶ä¸­æŸä¸ªç­‰ä»·å°±ok
</code></pre>
<p>ä¸åŒå½¢å¼çš„è°ƒåº¦ç­‰ä»·æ€§äº§ç”Ÿäº†ä»¥ä¸‹æ¦‚å¿µï¼š</p>
<ol>
<li>conflict serializability å†²çªå¯ä¸²è¡ŒåŒ–</li>
<li>view serializability</li>
</ol>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-83.png"
	width="1276"
	height="628"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-83_hu1705555265602912657.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-83_hu5375404159668144642.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="203"
		data-flex-basis="487px"
	
>
å¯¹åŒä¸€ä¸ªæ•°æ®æ¥è¯´ï¼Œè¯»å†™ã€å†™å†™å†²çª</p>
<h3 id="å†²çªå¯ä¸²è¡ŒåŒ–">å†²çªå¯ä¸²è¡ŒåŒ–
</h3><p>conflict equivalentï¼š</p>
<pre><code>S and Sâ€™ are conflict equivalent
if the schedule S can be transformed into Sâ€™ by a series of swaps of non-conflicting instructions
S å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—ä¸å†²çªçš„é¡ºåºäº¤æ¢å¾—åˆ° Sâ€™
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-84.png"
	width="1166"
	height="538"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-84_hu16525821781967597136.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-84_hu7441973894716379045.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="216"
		data-flex-basis="520px"
	
>
read(A) read(B)è°ƒæ¢é¡ºåºåä¸å†²çªï¼Œè°ƒæ¢<br>
write(A) write(B)è°ƒæ¢é¡ºåºåä¹Ÿä¸å†²çªï¼Œè°ƒæ¢ã€‚<br>
è¿™æ ·å°±å˜æˆäº†S6è¿™æ ·çš„ç©¿è¡Œè°ƒåº¦</p>
<p>åªèƒ½äº¤æ¢ä¸åŒäº‹åŠ¡çš„ä¸¤ä¸ªæŒ‡ä»¤é¡ºåº<br>
äº¤æ¢åäº‹åŠ¡å†…çš„æŒ‡ä»¤æ‰§è¡Œé¡ºåºä¸ä¼šè¢«æ”¹å˜<br>
äº¤æ¢ä¸èƒ½æ”¹å˜å†²çªæŒ‡ä»¤çš„é¡ºåº</p>
<p>å¦‚æœå¹¶å‘äº‹åŠ¡Så’Œä¸²è¡Œäº‹åŠ¡Sâ€™ç­‰ä»·ï¼Œé‚£ä¹ˆå°±è¯´Sæ˜¯å†²çªå¯ä¸²è¡ŒåŒ–conflict serializable</p>
<p>ä¸‹ä¾‹å°±ä¸æ˜¯å†²çªå¯ä¸²è¡ŒåŒ–çš„ï¼Œå› ä¸ºä¸ç®¡æ€ä¹ˆè°ƒæ¢T3 ã€T4ä¸­æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºï¼Œéƒ½ä¼šä½¿å†²çªä¸ç­‰ä»·</p>
<pre><code>   T3          T4
read(Q)
             write(Q)
write(Q)
</code></pre>
<p>åˆ¤è¯»æŸä¸ªå¹¶å‘è°ƒåº¦Sæ˜¯å¦æ˜¯å†²çªå¯ä¸²è¡ŒåŒ–ï¼š</p>
<pre><code>precedence-graph å‰é©±å›¾
Ti æŸæ¡æŒ‡ä»¤æ‰§è¡Œå®Œ Tjæœ‰å†²çªæ“ä½œï¼Œä¸ç®¡å‡ ä¸ªå†²çªéƒ½ç”»ä¸€æ¡è¾¹
i -&gt; j
å¦‚æœå¾—åˆ°ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œåˆ™è¯´æ˜æ˜¯å†²çªå¯ä¸²è¡ŒåŒ–çš„ã€‚
ç”¨æ‹“æ‰‘æ’åºï¼Œä¾æ¬¡æ¶ˆæ‰æ²¡æœ‰å…¥åº¦çš„è¾¹ã€‚
å¦‚æœæœ‰å¤šå°‘ä¸ªæ‹“æ‰‘æ’åºæ³•ï¼Œå°±æœ‰å¤šå°‘ç§ä¸²è¡Œè°ƒåº¦æ–¹æ³•
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-85.png"
	width="1256"
	height="527"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-85_hu10987700160498943864.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-85_hu1388994939052663802.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="238"
		data-flex-basis="571px"
	
></p>
<pre><code>T3 -&gt; T2ã€T4
T3 -&gt; T1ã€T4
T4 -&gt; T1
é€šè¿‡
å…ˆåšT3ï¼Œå†ä½œT2ï¼Œå†åšT4ï¼Œåœ¨åšT1
</code></pre>
<h3 id="recoverability">recoverability
</h3><p>äº‹åŠ¡Tiå¤±è´¥çš„æ—¶å€™ï¼Œä»»ä½•ä¾èµ–äºTiçš„äº‹åŠ¡Tjä¹Ÿåº”è¯¥ç»ˆæ­¢</p>
<p>çœ‹è°è¯»äº†è°å†™çš„æ•°æ®ï¼Œå°±è¦åœ¨è°åé¢æäº¤
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-86.png"
	width="1374"
	height="466"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-86_hu7549793662121380242.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-86_hu9522557165257205064.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="294"
		data-flex-basis="707px"
	
></p>
<p>å¦‚æœTi è¯»äº†Tj å†™çš„æ•°æ®ï¼ŒTiå…ˆæäº¤äº†ï¼ŒTjå¯èƒ½åœ¨ä¹‹åæ‰§è¡Œä¸­ä¸­æ–­å›æ»šï¼Œå¯¼è‡´Tiè¯»äº†é”™è¯¯çš„æ•°æ®</p>
<h3 id="çº§è”å›å½’-cascading-rollback">çº§è”å›å½’ cascading rollback
</h3><p>ä¼šå¯¼è‡´å¤§é‡çš„å¼€é”€</p>
<p>éœ€è¦çš„æ˜¯cascadeless schedule æ— çº§è”è°ƒåº¦</p>
<p>å¯¹äºä»»æ„çš„Ti Tjï¼ŒTjè¯»å–Tiå†™å…¥çš„æ•°æ®é¡¹Qï¼Œè¦æ±‚Tiå…ˆcommitï¼ŒTjå†è¯»å–<br>
å³Tjåªèƒ½è¯»å–Tiæäº¤è¿‡çš„æ•°æ®</p>
<p>Every cascadeless schedule is also recoverableï¼ï¼</p>
<h3 id="äº‹åŠ¡éš”ç¦»çº§åˆ«">äº‹åŠ¡éš”ç¦»çº§åˆ«
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-87.png"
	width="1282"
	height="786"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-87_hu14365477226680509843.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-87_hu9734478752020427944.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="163"
		data-flex-basis="391px"
	
></p>
<h2 id="chapter-18-concurrency-control">Chapter 18 concurrency control
</h2><p>ä½¿ç”¨æ•°æ®çš„ä¸¤ç§æ¨¡å¼ï¼š</p>
<ol>
<li>exclusive (X) mode â€”â€” äº’æ–¥ã€æ’ä»–</li>
<li>shared (S) mode â€”â€” å…±äº«</li>
</ol>
<p>lock compatibility matrix
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-88.png"
	width="808"
	height="302"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-88_hu16928763596323383462.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-88_hu4052205270139105940.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="267"
		data-flex-basis="642px"
	
>
åªæœ‰S-Sæ˜¯ç›¸å®¹çš„</p>
<p>å¤„ç†æ•°æ®çš„æ­¥éª¤
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-89.png"
	width="1324"
	height="653"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-89_hu18446525189616722015.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-89_hu9568029816745309715.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="202"
		data-flex-basis="486px"
	
></p>
<ol>
<li>ç”¨lock-S(Q) æˆ–è€…lock-X(Q)è·å–é”</li>
<li>ç­‰å¾…æƒé™ï¼Œæ‰§è¡Œ</li>
<li>unlock-S(Q) æˆ–unlock-X(Q)å°†é”é‡Šæ”¾</li>
</ol>
<h3 id="ä¸¤é˜¶æ®µé”åè®®-two-phase-locking-protocol--2pl">ä¸¤é˜¶æ®µé”åè®® Two Phase Locking protocol / 2PL
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-90.png"
	width="1389"
	height="535"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-90_hu17749822018154750812.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-90_hu8973153620761688213.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="259"
		data-flex-basis="623px"
	
></p>
<p>äº‹åŠ¡å¯ä»¥æŒ‰ç…§é”ç‚¹(lock points)çš„é¡ºåºä¸²è¡ŒåŒ–<br>
lock pointsæ˜¯å•ä¸ªäº‹åŠ¡è·å¾—æœ€åä¸€ä¸ªé”çš„æ—¶é—´ç‚¹</p>
<p>2PLä¿è¯äº†å†²çªå¯ä¸²è¡ŒåŒ–è°ƒåº¦<br>
ä½†æ˜¯ä¸èƒ½ä¿è¯ä»æ­»é”ä¸­æ‘†è„±<br>
ä¹Ÿä¸èƒ½é¿å…çº§è”å›æ»š</p>
<h3 id="æ„é€ ç¬¦åˆ2plçš„è°ƒåº¦">æ„é€ ç¬¦åˆ2PLçš„è°ƒåº¦
</h3><p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-91.png"
	width="1263"
	height="511"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-91_hu6018143184871988071.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-91_hu13240727718513573657.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="247"
		data-flex-basis="593px"
	
></p>
<ol>
<li>å…ˆç»™æ¯ä¸ªäº‹åŠ¡è¿›è¡ŒåŠ é”è§£é”</li>
<li>æ ¹æ®é”ç›¸å®¹æ€§çŸ©é˜µå®‰æ’å¹¶å‘</li>
<li>ä¸¤ä¸ªé˜¶æ®µåº”å°½å¯èƒ½é”™å¼€ï¼Œä¸å…è®¸è®¿é—® å†²çªäº‹åŠ¡ åŒæ—¶å¤„äºgrowing phase</li>
</ol>
<p>å› ä¸ºå¯¹Açš„æ“ä½œæœ€é«˜æ˜¯write,æ‰€ä»¥ä¸€å¼€å§‹å°±è¦ç”¨lock-X
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-92.png"
	width="1335"
	height="611"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-92_hu7481383376950367602.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-92_hu11869370672465150119.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="218"
		data-flex-basis="524px"
	
></p>
<p>ç¬¬äºŒæ­¥è¦é€šè¿‡é”ç‚¹çš„å‰åå…³ç³»æ¥ç¡®å®šé¡ºåº
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-93.png"
	width="1287"
	height="983"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-93_hu9631814734163273885.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-93_hu5244570841794004179.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="130"
		data-flex-basis="314px"
	
>
è¦æ³¨æ„ï¼Œç”±äºT7å¯¹Båªæœ‰ä¸€ä¸ªæ“ä½œï¼Œè€ŒT8ä¹Ÿè¦ç”¨Bï¼Œæ‰€ä»¥T7è¦å°½å¿«é‡Šæ”¾B</p>
<h3 id="strict-2pl-ä¸¥æ ¼2é˜¶æ®µé”åè®®">Strict 2PL ä¸¥æ ¼2é˜¶æ®µé”åè®®
</h3><p>æ‰€æœ‰çš„äº’æ–¥é”éƒ½å¾—åœ¨äº‹åŠ¡æäº¤ä¹‹åæ‰èƒ½é‡Šæ”¾<br>
è¿™æ ·é¿å…äº†çº§è”å›æ»š</p>
<h3 id="rigorous-2pl-å¼º2é˜¶æ®µé”åè®®">Rigorous 2PL å¼º2é˜¶æ®µé”åè®®
</h3><p>æ‰€æœ‰çš„é”éƒ½è¦åœ¨äº‹åŠ¡æäº¤åæ‰èƒ½é‡Šæ”¾<br>
èƒ½è®©äº‹åŠ¡æŒ‰ç…§å®ƒä»¬æäº¤çš„é¡ºåºä¸²è¡ŒåŒ–</p>
<h3 id="deadlock-handling">deadlock handling
</h3><h4 id="prevention-strategies">prevention strategies
</h4><ol>
<li>åœ¨äº‹åŠ¡å¼€å§‹å‰è·å–æ‰€æœ‰éœ€è¦çš„é”</li>
<li>å¯¹æ‰€æœ‰æ•°æ®é¡¹è¿›è¡Œpartial orderingï¼Œå¹¶è¦æ±‚äº‹åŠ¡åªèƒ½æŒ‰ç…§partial orderingæŒ‡å®šçš„é¡ºåº</li>
<li>åŸºäºè¶…æ—¶çš„æ¨¡å¼ï¼šäº‹åŠ¡åªç­‰å¾…æŒ‡å®šæ—¶é—´å†…çš„é”ï¼Œä¹‹åç­‰å¾…è¶…æ—¶ï¼Œäº‹åŠ¡å›æ»š</li>
</ol>
<p>wait-die scheme</p>
<pre><code>TSæ˜¯äº‹åŠ¡å¼€å§‹çš„æ—¶é—´æˆ³timestamp
å¦‚æœTS(Ti) &lt; TS(Tj), é‚£ä¹ˆTiç­‰å¾…ã€‚Tiæ›´æ—©å¼€å§‹ï¼ŒTiç­‰å¾… â€”â€”â€”&gt; å¹´è€ç­‰å¾…
å¦åˆ™çš„è¯ï¼Œå°±è®©Tiå›æ»šï¼Œé‡æ–°å¼€å§‹Tiï¼Œä½†æ˜¯Tiçš„æ—¶é—´æˆ³ä¸å˜ã€‚
æ„æ€å°±æ˜¯å¹´è€ç­‰å¾…ï¼Œå¹´è½»çš„é‡åš
å¹´è½»çš„å›æ»š
è¿™æ„å‘³ç€ï¼Œå¹´è½»çš„åšçš„é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯é‡åˆ°å¹´è€çš„æ€»æ˜¯è¦é‡åšï¼Œå¹´è½»çš„å¯èƒ½ä¼šä¸€æ¬¡åˆä¸€æ¬¡çš„èµ¶ä¸Šå¹´è€çš„
</code></pre>
<p>wound-wait scheme ä¼¤åœç­‰å¾…</p>
<pre><code>å¦‚æœTS(Ti) &gt; TS(Tj) é‚£ä¹ˆä¹…è®©Tiç­‰å¾… Tiæ›´å¹´è½»
å¦åˆ™çš„è¯ï¼Œå°±è®©Tjå›æ»šï¼Œä½†æ˜¯Tjçš„æ—¶é—´æˆ³ä¸å˜
å¹´è€çš„å›æ»šã€‚ä½†æ˜¯ç”±äºæ—¶é—´æˆ³æ€»æ˜¯å¢åŠ çš„ï¼Œæ‰€ä»¥è¢«å·å›çš„è¿›ç¨‹å°†å…·æœ‰è¾ƒå°çš„æ—¶é—´æˆ³
ä¼¤å®³æœ‰é”çš„äº‹åŠ¡ï¼Œæ­£å¸¸è¿›è¡Œçš„äº‹åŠ¡å›æ»š
å¯èƒ½rollbackçš„æ¬¡æ•°æ¯”wait-dieå°‘
æ„å‘³ç€å¹´è€çš„åšçš„æ…¢ï¼Œæ‰€ä»¥æ¯”è¾ƒä¸å¯èƒ½èµ¶ä¸Šå¹´è½»çš„ï¼Œå›æ»šæ¬¡æ•°ä¼šå°‘ä¸€äº›
</code></pre>
<h4 id="deadlock-detection">deadlock detection
</h4><p>æ­»é”å¯ä»¥è¢«æè¿°æˆ wait-for å›¾
Ti ç­‰å¾… Tj é”é‡Šæ”¾ï¼ši &ndash;&gt; j çš„æœ‰å‘ç®­å¤´
ä¹Ÿæ˜¯ï¼Œç”¨æ‹“æ‰‘æ’åºæ¥çœ‹æœ‰æ²¡æœ‰æ­»é”</p>
<h2 id="chapter-19-recovery">Chapter 19 Recovery
</h2><p>åœ¨ä¿®æ”¹æ•°æ®åº“æœ¬èº«å‰ï¼Œ å°†æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°ç¨³å®šçš„å­˜å‚¨ä»‹è´¨ä¸­<br>
æ—¥å¿—æ•°æ®æ¯” æ‰§è¡Œæœ¬èº« å…ˆå®Œæˆ</p>
<pre><code>&lt;Ti start&gt;
&lt;Ti X V1 V2&gt;    Tiäº‹åŠ¡ï¼ŒæŸä¸ªæ•°æ®Xï¼Œå†™å‰æ˜¯V1, ä¿®æ”¹åå˜æˆV2
&lt;Ti commit&gt;     åœ¨ partial committedçŠ¶æ€å†™å…¥
&lt;Ti, X, V1&gt;     è¡¥å¿æ—¥å¿—è®°å½• compensate records æˆ–è€… å«redo-only record
&lt;Ti, abort&gt;
</code></pre>
<p>Deferred database modification (å»¶æ—¶æ›´æ–°)</p>
<pre><code>ç›´åˆ°committedä¹‹åæ‰ä¼šä¿®æ”¹æ•°æ®åº“
</code></pre>
<p>Immediate database modification (åŠæ—¶/ç«‹å³æ›´æ–°)</p>
<pre><code>åœ¨activeçŠ¶æ€çš„æ—¶å€™å°±ä¼šä¿®æ”¹æ•°æ®åº“
</code></pre>
<p>undoé€šè¿‡log recordæ¥å°†æ•°æ®åº“æ•°æ®è®¾ç½®ä¸ºæ—§å€¼<br>
redoé€šè¿‡log recordæ¥å°†æ•°æ®åº“æ•°æ®è®¾ç½®ä¸ºæ–°å€¼</p>
<p>Recovery scheme è¦æ±‚åœ¨Tiä¿®æ”¹æ•°æ®é¡¹Qåï¼Œåœ¨Tiæäº¤ä¹‹å‰ï¼Œæ²¡æœ‰å…¶ä»–äº‹åŠ¡Tjå»ä¿®æ”¹è¿™ä¸ªæ•°æ®é¡¹<br>
è¿™ä¸ªé€šè¿‡strict 2PLæ¥ä¿è¯</p>
<pre><code>undoï¼šä»æœ€åä¸€æ¡æ—¥å¿—è®°å½•å‘åå›æº¯\
redoï¼šä»ç¬¬ä¸€æ¡æ—¥å¿—è®°å½•å‘å‰æŸ¥æ‰¾ï¼Œæ¯æ›´æ–°ä¸€ä¸ªå€¼ï¼Œå°±é‡å†™ä¸€ä¸ªå€¼

undo: äº‹åŠ¡ä¸»åŠ¨å›æ»š     äº‹åŠ¡è¢«åŠ¨å›æ»š
redo:                 äº‹åŠ¡è¢«åŠ¨å›æ»š
</code></pre>
<p>æƒ…å½¢1ï¼šäº‹åŠ¡ä¸»åŠ¨å›æ»š</p>
<pre><code>ä¸»åŠ¨å›æ»šä¸­ï¼Œæ—¥å¿—è®°å½•æœ¬èº«å°±ä¼šæœ‰&lt;Ti, abort&gt;è®°å½•
ä»æœ€åä¸€æ¡è®°å½•å¾€å‰scanï¼Œ
æ¯æ‰¾åˆ°ä¸€æ¡è¡¨ç¤ºä¿®æ”¹çš„æ—¥å¿—&lt;Ti, X, V1, V2&gt;ï¼Œå°±æ’¤é”€åˆ°åŸå€¼
å¹¶å†™è¡¥å¿è®°å½• &lt;Ti, X, V1&gt;
ç›´åˆ°æ‰¾åˆ°&lt;Ti, start&gt;
æœ€åå†™ä¸€ä¸ª&lt;Ti, abort&gt;è®°å½•
</code></pre>
<p>æƒ…å½¢2ï¼šäº‹åŠ¡è¢«åŠ¨å›æ»š</p>
<ol>
<li>äº‹åŠ¡æ—¥å¿—è®°å½•ä¸­æ²¡æœ‰äº‹åŠ¡ç»“æŸæ ‡å¿—&lt; Ti, commit &gt;æˆ–è€…&lt; Ti, abort &gt;ï¼Œéœ€è¦undo</li>
<li>å‘ç”Ÿfailureæ—¶ï¼Œäº‹åŠ¡é€»è¾‘ä¸Šç»“æŸäº†ï¼Œæ—¥å¿—ä¸­æœ‰ä¸Šè¿°ä¸¤ç§æ ‡å¿—äº†ã€‚éœ€è¦redo</li>
</ol>
<p>2-1 undo
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-94.png"
	width="1443"
	height="455"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-94_hu15835970696241730135.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-94_hu3851586228252075867.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="317"
		data-flex-basis="761px"
	
></p>
<p>2-2 redo
<img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-95.png"
	width="1441"
	height="404"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-95_hu2563662769687774303.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-95_hu6263828907240020918.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="356"
		data-flex-basis="856px"
	
></p>
<h3 id="undoå’Œredoåœ¨ç«‹å³ä¿®æ”¹çš„æ¨¡å¼ä¸‹">undoå’Œredoåœ¨ç«‹å³ä¿®æ”¹çš„æ¨¡å¼ä¸‹
</h3><p>æƒ…å½¢1å’Œæƒ…å½¢2-1 åœ¨æ—¥å¿—ä¸Šå’Œ ç¨åä¿®æ”¹ çš„ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡å¯¹æ—¥å¿—çš„å›æº¯ï¼Œæ¢å¤åŸæ¥çš„è®°å½•</p>
<p>å¦‚æœæ˜¯æƒ…å½¢2-2 partial committedï¼Œå°±éœ€è¦å…ˆundoä¸€éï¼Œå†redo</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-96.png"
	width="1357"
	height="942"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-96_hu17026857143151078881.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-96_hu14394740321601606146.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="144"
		data-flex-basis="345px"
	
>
è¿™ç§æ•ˆç‡å¤ªä½ï¼Œè¦æŸ¥æ‰¾æ•´ä¸ªlogï¼Œå› æ­¤å¼•å…¥checkpoints</p>
<h3 id="checkpoints">checkpoints
</h3><h4 id="ä¸²è¡Œè°ƒåº¦">ä¸²è¡Œè°ƒåº¦
</h4><p>checkpointçš„recordæ˜¯ï¼š&lt; cpk &gt;</p>
<p>æ‰¾åˆ°æœ€è¿‘çš„æ£€æŸ¥ç‚¹å’Œè¯¥æ£€æŸ¥ç‚¹æœ€è¿‘çš„äº‹åŠ¡Ti<br>
æ–¹æ³•ï¼šå›æº¯ï¼Œé¦–å…ˆæ‰¾åˆ°æœ€è¿‘çš„checkpointï¼Œç„¶åç»§ç»­æ‰¾åˆ°æœ€è¿‘çš„&lt;Ti, start&gt;</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-97.png"
	width="1400"
	height="385"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-97_hu17624020604354972734.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-97_hu2591478664087840974.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="363"
		data-flex-basis="872px"
	
>
æ¯”å¦‚æ‰¾åˆ°çš„æ˜¯è¿™ä¸ªT4</p>
<p>åœ¨ç«‹å³ä¿®æ”¹çš„æ¨¡å¼ä¸‹ï¼š</p>
<p>åœ¨æœ€è¿‘æ£€æŸ¥ç‚¹çš„æ—¶å€™ï¼ŒT4è¿˜æ²¡committedï¼Œä½†æ˜¯åœ¨å‡ºç°é”™è¯¯çš„æ—¶å€™ï¼ŒT4å·²ç»committedäº†ï¼Œæ‰€ä»¥è¦redo T4ã€‚T4ä¹‹å‰çš„å°±ä¸ç”¨ç®¡äº†ã€‚<br>
è€Œåœ¨T4ä¹‹åç›´åˆ°failureçš„åœ°æ–¹ï¼Œé‡Œé¢æ‰€æœ‰æ²¡æœ‰committedçš„äº‹åŠ¡éƒ½è¦undoã€‚ä¸Šå›¾ä¸­ï¼Œundoçš„æ˜¯T5<br>
redoçš„æ˜¯æ£€æŸ¥ç‚¹committedçš„ï¼›undoçš„æ˜¯æ²¡æœ‰committedçš„</p>
<p>åœ¨å»¶è¿Ÿä¿®æ”¹çš„æ¨¡å¼ä¸‹ï¼Œundoå°±ä¸éœ€è¦äº†</p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-98.png"
	width="1373"
	height="644"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-98_hu9621493802938979426.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-98_hu11120965463235868231.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="213"
		data-flex-basis="511px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-99.png"
	width="1372"
	height="610"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-99_hu9637468358256498036.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-99_hu6689366126774928379.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="224"
		data-flex-basis="539px"
	
></p>
<h4 id="å¹¶å‘è°ƒåº¦">å¹¶å‘è°ƒåº¦
</h4><p>é¦–å…ˆè¦æ»¡è¶³ä¸¥æ ¼2PL</p>
<p>å¹¶å‘ä¸­ï¼Œcheckpointçš„æ ‡å¿—æ˜¯&lt; checkpoint L &gt; Læ˜¯å½“å‰è¿˜activeçš„äº‹åŠ¡list</p>
<p>å¯¹äºæ­£å¸¸æ‰§è¡Œçš„ï¼Œä¸”æ˜¯ä»¥&lt; Ti abort &gt;ç»“æŸçš„è°ƒåº¦ï¼Œå°†ä¼šä»åå¾€å‰å›æº¯</p>
<p>å¯¹äºä¸æ­£å¸¸è¿›è¡Œçš„ï¼Œcrashæ‰çš„è°ƒåº¦æ¥è¯´ ( æ²¡æœ‰&lt;Ti, abort&gt; ) ï¼š<br>
redoçš„æƒ…å†µï¼š</p>
<pre><code>Step1. Find last &lt;checkpoint L&gt; record, and set the undo-list to L 
    æ‰¾åˆ°å½“æ—¶è¿˜æ²¡æ‰§è¡Œå®Œçš„äº‹åŠ¡ï¼ŒåŠ å…¥åˆ°undo-listä¸­
Step2. Scan forward from above &lt;checkpoint L&gt; record
    ä»æ£€æŸ¥ç‚¹è®°å½•å¼€å§‹å‘å‰çœ‹ï¼Œå°±æ˜¯å¾€æ—¶é—´æ­£æ–¹å‘ â€”â€”&gt; ï¼Œredoæ¯ä¸€æ¡logã€‚
    å¦‚æœå‘ç°ä¸€ä¸ª&lt;Ti start&gt;çš„è®°å½•ï¼Œå°±æŠŠTiåŠ å…¥åˆ°undo-list
    å¦‚æœçœ‹åˆ°ä¸€ä¸ª&lt;Ti commit&gt;æˆ–è€…&lt;Ti abort&gt;è®°å½•ï¼Œå°±æŠŠTiä»undo-listç§»èµ°
step3. Scan log backwards from end, to roll back all transactions in undo-list
    å¾€åå›æº¯ï¼Œå¯¹äºæ¯ä¸€ä¸ªundo-listä¸­çš„äº‹åŠ¡Tiï¼Œåªè¦æœ‰Tiçš„log recordå°±undoä¸€æ¬¡ï¼Œå¹¶è®°å½•åˆ°redo-onlyçš„è®°å½•ä¸­
    æ¯”å¦‚é‡åˆ° &lt;Ti, X, V1, V2&gt;ï¼Œé‚£ä¹ˆå°±æŠŠXæ¢å¤æˆV1ï¼Œå¹¶ä¸”å†™ä¸€ä¸ª&lt;Ti, X, V1&gt;åˆ°redo-onlyçš„recordä¸Šã€‚
    å¦‚æœé‡åˆ°&lt;Ti, start&gt;, Tiåˆæ˜¯undo-listä¸­çš„ï¼Œé‚£ä¹ˆå°±å†™ä¸€ä¸ª&lt;Ti, abort&gt;çš„è®°å½•ï¼Œå¹¶ä¸”å°†Tiä»undo-listç§»é™¤
step4. ä¸€ç›´åˆ°undo-listä¸ºç©º
</code></pre>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-100.png"
	width="1449"
	height="913"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-100_hu561319970555232916.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-100_hu18434979459494514798.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="158"
		data-flex-basis="380px"
	
></p>
<p><img src="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-101.png"
	width="1436"
	height="1077"
	srcset="/p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-101_hu11227203204959417282.png 480w, /p/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/image-101_hu8643407046144949694.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="133"
		data-flex-basis="320px"
	
></p>

</section>


    <footer class="article-footer">
    

    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.body, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2024 ffirestorm
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
