<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Introduction OS structure ç”¨æˆ·æ¥å£ CLI\nGUI\nç³»ç»Ÿè°ƒç”¨ å¤§å¤šæ•°ç¨‹åºé€šè¿‡APIæ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨\n1. ç¨‹åºå¯ç§»æ¤æ€§ portable 2. ç³»ç»Ÿè°ƒç”¨æ›´åŠ è¯¦ç»†ä¸”éš¾ä»¥ä½¿ç”¨ system call æ˜¯ç³»ç»Ÿä¸»åŠ¨è¯·æ±‚çš„ï¼Œè€Œä¸­æ–­æ˜¯è¢«åŠ¨çš„ã€‚æ‰€ä»¥å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ä¸ä¸€æ ·çš„ã€‚ä½†æ˜¯äºŒè€…çš„å®ç°æ–¹å¼æ˜¯ç›¸åŒçš„\nç³»ç»Ÿè°ƒç”¨å‚æ•°ä¼ é€’æ–¹å¼ï¼š\n1. å¯„å­˜å™¨å‚æ•°ä¼ é€’ 2. å†…å­˜å—ï¼Œå‚æ•°å­˜åœ¨å†…å­˜çš„å—æˆ–è¡¨ä¸­ï¼Œå—åœ°å€ä½œä¸ºå‚æ•°é€šè¿‡å¯„å­˜å™¨ä¼ é€’(Solaris å’Œ Linux) 3. æ ˆã€‚ç¨‹åºå°†å‚æ•°å‹å…¥æ ˆï¼Œå¹¶ç”±oså¼¹å‡º OS design and implementation åŸåˆ™ï¼šå°†Policy å’Œ Mechanism åŒºåˆ†ã€‚\nPolicyï¼šåšä»€ä¹ˆ Mechanismï¼šæ€ä¹ˆåš åŒºåˆ†å¼€æ¥æé«˜çµæ´»æ€§\nOS structure Simple structureï¼š\nMS-DOS UNIX Layered Approach\næ¯å±‚åªä½¿ç”¨è¾ƒä½å±‚çš„åŠŸèƒ½ major difficulty: careful definition of the layers. Microkernels\nModules\nprocess process concept ç¨‹åºprogram æ˜¯å­˜å‚¨åœ¨diskçš„ passive å®ä½“ï¼Œè€Œprocessæ˜¯activeçš„ã€‚äºŒè€…ä¸æ˜¯ä¸€å¯¹ä¸€å…³ç³»çš„\nè¿›ç¨‹processåŒ…æ‹¬ï¼š\ncode section ä»£ç æ®µ data section æ•°æ®æ®µ heap å † process stack è¿›ç¨‹æ ˆ current activity å½“å‰æ´»åŠ¨ process state å’Œ state transform\n">
<title>æ“ä½œç³»ç»Ÿ</title>

<link rel='canonical' href='https://ffirestorm.github.io/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="æ“ä½œç³»ç»Ÿ">
<meta property='og:description' content="Introduction OS structure ç”¨æˆ·æ¥å£ CLI\nGUI\nç³»ç»Ÿè°ƒç”¨ å¤§å¤šæ•°ç¨‹åºé€šè¿‡APIæ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨\n1. ç¨‹åºå¯ç§»æ¤æ€§ portable 2. ç³»ç»Ÿè°ƒç”¨æ›´åŠ è¯¦ç»†ä¸”éš¾ä»¥ä½¿ç”¨ system call æ˜¯ç³»ç»Ÿä¸»åŠ¨è¯·æ±‚çš„ï¼Œè€Œä¸­æ–­æ˜¯è¢«åŠ¨çš„ã€‚æ‰€ä»¥å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ä¸ä¸€æ ·çš„ã€‚ä½†æ˜¯äºŒè€…çš„å®ç°æ–¹å¼æ˜¯ç›¸åŒçš„\nç³»ç»Ÿè°ƒç”¨å‚æ•°ä¼ é€’æ–¹å¼ï¼š\n1. å¯„å­˜å™¨å‚æ•°ä¼ é€’ 2. å†…å­˜å—ï¼Œå‚æ•°å­˜åœ¨å†…å­˜çš„å—æˆ–è¡¨ä¸­ï¼Œå—åœ°å€ä½œä¸ºå‚æ•°é€šè¿‡å¯„å­˜å™¨ä¼ é€’(Solaris å’Œ Linux) 3. æ ˆã€‚ç¨‹åºå°†å‚æ•°å‹å…¥æ ˆï¼Œå¹¶ç”±oså¼¹å‡º OS design and implementation åŸåˆ™ï¼šå°†Policy å’Œ Mechanism åŒºåˆ†ã€‚\nPolicyï¼šåšä»€ä¹ˆ Mechanismï¼šæ€ä¹ˆåš åŒºåˆ†å¼€æ¥æé«˜çµæ´»æ€§\nOS structure Simple structureï¼š\nMS-DOS UNIX Layered Approach\næ¯å±‚åªä½¿ç”¨è¾ƒä½å±‚çš„åŠŸèƒ½ major difficulty: careful definition of the layers. Microkernels\nModules\nprocess process concept ç¨‹åºprogram æ˜¯å­˜å‚¨åœ¨diskçš„ passive å®ä½“ï¼Œè€Œprocessæ˜¯activeçš„ã€‚äºŒè€…ä¸æ˜¯ä¸€å¯¹ä¸€å…³ç³»çš„\nè¿›ç¨‹processåŒ…æ‹¬ï¼š\ncode section ä»£ç æ®µ data section æ•°æ®æ®µ heap å † process stack è¿›ç¨‹æ ˆ current activity å½“å‰æ´»åŠ¨ process state å’Œ state transform\n">
<meta property='og:url' content='https://ffirestorm.github.io/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/'>
<meta property='og:site_name' content='ffirestorm'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-09-20T08:35:32&#43;08:00'/><meta property='article:modified_time' content='2024-09-20T08:35:32&#43;08:00'/>
<meta name="twitter:title" content="æ“ä½œç³»ç»Ÿ">
<meta name="twitter:description" content="Introduction OS structure ç”¨æˆ·æ¥å£ CLI\nGUI\nç³»ç»Ÿè°ƒç”¨ å¤§å¤šæ•°ç¨‹åºé€šè¿‡APIæ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨\n1. ç¨‹åºå¯ç§»æ¤æ€§ portable 2. ç³»ç»Ÿè°ƒç”¨æ›´åŠ è¯¦ç»†ä¸”éš¾ä»¥ä½¿ç”¨ system call æ˜¯ç³»ç»Ÿä¸»åŠ¨è¯·æ±‚çš„ï¼Œè€Œä¸­æ–­æ˜¯è¢«åŠ¨çš„ã€‚æ‰€ä»¥å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ä¸ä¸€æ ·çš„ã€‚ä½†æ˜¯äºŒè€…çš„å®ç°æ–¹å¼æ˜¯ç›¸åŒçš„\nç³»ç»Ÿè°ƒç”¨å‚æ•°ä¼ é€’æ–¹å¼ï¼š\n1. å¯„å­˜å™¨å‚æ•°ä¼ é€’ 2. å†…å­˜å—ï¼Œå‚æ•°å­˜åœ¨å†…å­˜çš„å—æˆ–è¡¨ä¸­ï¼Œå—åœ°å€ä½œä¸ºå‚æ•°é€šè¿‡å¯„å­˜å™¨ä¼ é€’(Solaris å’Œ Linux) 3. æ ˆã€‚ç¨‹åºå°†å‚æ•°å‹å…¥æ ˆï¼Œå¹¶ç”±oså¼¹å‡º OS design and implementation åŸåˆ™ï¼šå°†Policy å’Œ Mechanism åŒºåˆ†ã€‚\nPolicyï¼šåšä»€ä¹ˆ Mechanismï¼šæ€ä¹ˆåš åŒºåˆ†å¼€æ¥æé«˜çµæ´»æ€§\nOS structure Simple structureï¼š\nMS-DOS UNIX Layered Approach\næ¯å±‚åªä½¿ç”¨è¾ƒä½å±‚çš„åŠŸèƒ½ major difficulty: careful definition of the layers. Microkernels\nModules\nprocess process concept ç¨‹åºprogram æ˜¯å­˜å‚¨åœ¨diskçš„ passive å®ä½“ï¼Œè€Œprocessæ˜¯activeçš„ã€‚äºŒè€…ä¸æ˜¯ä¸€å¯¹ä¸€å…³ç³»çš„\nè¿›ç¨‹processåŒ…æ‹¬ï¼š\ncode section ä»£ç æ®µ data section æ•°æ®æ®µ heap å † process stack è¿›ç¨‹æ ˆ current activity å½“å‰æ´»åŠ¨ process state å’Œ state transform\n">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu9742106442265571223.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¤ª</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">ffirestorm</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://ffirestorm.github.io/en/" >English</option>
                                
                                    <option value="https://ffirestorm.github.io/" selected>ç®€ä½“ä¸­æ–‡</option>
                                
                                    <option value="https://ffirestorm.github.io/ar/" >Ø¹Ø±Ø¨ÙŠ</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#os-structure">OS structure</a>
      <ol>
        <li><a href="#ç”¨æˆ·æ¥å£">ç”¨æˆ·æ¥å£</a></li>
        <li><a href="#ç³»ç»Ÿè°ƒç”¨">ç³»ç»Ÿè°ƒç”¨</a></li>
        <li><a href="#os-design-and-implementation">OS design and implementation</a></li>
        <li><a href="#os-structure-1">OS structure</a></li>
      </ol>
    </li>
    <li><a href="#process">process</a>
      <ol>
        <li><a href="#process-concept">process concept</a></li>
        <li><a href="#process-scheduling">process scheduling</a></li>
        <li><a href="#process-operation">process operation</a>
          <ol>
            <li><a href="#creation">creation</a></li>
            <li><a href="#termination">termination</a></li>
          </ol>
        </li>
        <li><a href="#interprocess-communication-è¿›ç¨‹é€šä¿¡">interprocess communication è¿›ç¨‹é€šä¿¡</a></li>
      </ol>
    </li>
    <li><a href="#threads">threads</a>
      <ol>
        <li><a href="#multithread-model-å¤šçº¿ç¨‹æ¨¡å‹">multithread model å¤šçº¿ç¨‹æ¨¡å‹</a></li>
      </ol>
    </li>
    <li><a href="#cpu-scheduling">CPU scheduling</a>
      <ol>
        <li><a href="#schedule-algorithm">schedule algorithm</a></li>
        <li><a href="#multiple-processor-schedulingå¤šå¤„ç†å™¨è°ƒåº¦">multiple-processor schedulingå¤šå¤„ç†å™¨è°ƒåº¦</a></li>
      </ol>
    </li>
    <li><a href="#process-synchronization-è¿›ç¨‹åŒæ­¥">process synchronization è¿›ç¨‹åŒæ­¥</a>
      <ol>
        <li><a href="#the-critical-section-problem">The critical-section problem</a></li>
        <li><a href="#ä¿¡å·é‡æœºåˆ¶-semaphores">ä¿¡å·é‡æœºåˆ¶ semaphores</a>
          <ol>
            <li><a href="#bounded-buffer-problem-ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹">bounded-buffer problem ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</a></li>
            <li><a href="#reader-writer-problem-è¯»å†™è€…æ¨¡å‹è¯»ä¼˜å…ˆ">Reader-writer problem è¯»å†™è€…æ¨¡å‹â€”â€”è¯»ä¼˜å…ˆ</a></li>
            <li><a href="#ä¾‹é¢˜">ä¾‹é¢˜ï¼š</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#deadlock">deadlock</a>
      <ol>
        <li><a href="#æ­»é”é¿å…-avoidance">æ­»é”é¿å… avoidance</a></li>
        <li><a href="#æ­»é”æ£€æµ‹">æ­»é”æ£€æµ‹</a></li>
      </ol>
    </li>
    <li><a href="#main-memory">Main Memory</a>
      <ol>
        <li><a href="#è¿ç»­å†…å­˜åˆ†é…">è¿ç»­å†…å­˜åˆ†é…</a></li>
        <li><a href="#page-é¡µå¼ç®¡ç†">page é¡µå¼ç®¡ç†</a></li>
        <li><a href="#é¡µè¡¨çš„ç»“æ„">é¡µè¡¨çš„ç»“æ„</a></li>
        <li><a href="#segment-æ®µå¼ç®¡ç†">segment æ®µå¼ç®¡ç†</a></li>
        <li><a href="#æ®µé¡µå¼ç®¡ç†">æ®µé¡µå¼ç®¡ç†</a></li>
      </ol>
    </li>
    <li><a href="#è™šæ‹Ÿå†…å­˜">è™šæ‹Ÿå†…å­˜</a>
      <ol>
        <li><a href="#demand-paging">demand paging</a></li>
        <li><a href="#page-replacement-é¡µé¢ç½®æ¢">page replacement é¡µé¢ç½®æ¢</a></li>
        <li><a href="#frames-allocation">frames allocation</a></li>
        <li><a href="#thrashing-æŠ–åŠ¨">thrashing æŠ–åŠ¨</a></li>
      </ol>
    </li>
    <li><a href="#file-system-interface">File-System Interface</a>
      <ol>
        <li><a href="#file-concept">File concept</a></li>
        <li><a href="#directory-structure">directory structure</a></li>
      </ol>
    </li>
    <li><a href="#file-system-implementation">File-System Implementation</a>
      <ol>
        <li><a href="#æ–‡ä»¶ç³»ç»Ÿç»“æ„">æ–‡ä»¶ç³»ç»Ÿç»“æ„</a></li>
        <li><a href="#æ–‡ä»¶ç³»ç»Ÿå®ç°">æ–‡ä»¶ç³»ç»Ÿå®ç°</a></li>
        <li><a href="#allocation-methods-åˆ†é…æ–¹æ³•">Allocation Methods åˆ†é…æ–¹æ³•</a></li>
        <li><a href="#ç©ºé—²ç©ºé—´ç®¡ç†">ç©ºé—²ç©ºé—´ç®¡ç†</a></li>
      </ol>
    </li>
    <li><a href="#mass-storage">mass storage</a>
      <ol>
        <li><a href="#disk-schedule-ç£ç›˜è°ƒåº¦">disk schedule ç£ç›˜è°ƒåº¦</a>
          <ol>
            <li><a href="#fcfs">FCFS</a></li>
            <li><a href="#sstf">SSTF</a></li>
            <li><a href="#scan">SCAN</a></li>
            <li><a href="#c-scan">C-SCAN</a></li>
            <li><a href="#look">LOOK</a></li>
            <li><a href="#c-look">C-LOOK</a></li>
          </ol>
        </li>
        <li><a href="#disk-management">disk management</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">æ“ä½œç³»ç»Ÿ</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-09-20</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 8 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="introduction">Introduction
</h2><h2 id="os-structure">OS structure
</h2><h3 id="ç”¨æˆ·æ¥å£">ç”¨æˆ·æ¥å£
</h3><p>CLI</p>
<p>GUI</p>
<h3 id="ç³»ç»Ÿè°ƒç”¨">ç³»ç»Ÿè°ƒç”¨
</h3><p>å¤§å¤šæ•°ç¨‹åºé€šè¿‡APIæ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨</p>
<pre><code>1. ç¨‹åºå¯ç§»æ¤æ€§ portable
2. ç³»ç»Ÿè°ƒç”¨æ›´åŠ è¯¦ç»†ä¸”éš¾ä»¥ä½¿ç”¨
</code></pre>
<p>system call æ˜¯ç³»ç»Ÿä¸»åŠ¨è¯·æ±‚çš„ï¼Œè€Œä¸­æ–­æ˜¯è¢«åŠ¨çš„ã€‚æ‰€ä»¥å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ä¸ä¸€æ ·çš„ã€‚ä½†æ˜¯äºŒè€…çš„å®ç°æ–¹å¼æ˜¯ç›¸åŒçš„</p>
<p>ç³»ç»Ÿè°ƒç”¨å‚æ•°ä¼ é€’æ–¹å¼ï¼š</p>
<pre><code>1. å¯„å­˜å™¨å‚æ•°ä¼ é€’
2. å†…å­˜å—ï¼Œå‚æ•°å­˜åœ¨å†…å­˜çš„å—æˆ–è¡¨ä¸­ï¼Œå—åœ°å€ä½œä¸ºå‚æ•°é€šè¿‡å¯„å­˜å™¨ä¼ é€’(Solaris å’Œ Linux)
3. æ ˆã€‚ç¨‹åºå°†å‚æ•°å‹å…¥æ ˆï¼Œå¹¶ç”±oså¼¹å‡º
</code></pre>
<h3 id="os-design-and-implementation">OS design and implementation
</h3><p>åŸåˆ™ï¼šå°†Policy å’Œ Mechanism åŒºåˆ†ã€‚</p>
<pre><code>Policyï¼šåšä»€ä¹ˆ
Mechanismï¼šæ€ä¹ˆåš
</code></pre>
<p>åŒºåˆ†å¼€æ¥æé«˜çµæ´»æ€§</p>
<h3 id="os-structure-1">OS structure
</h3><p>Simple structureï¼š</p>
<pre><code>MS-DOS
UNIX
</code></pre>
<p>Layered Approach</p>
<pre><code>æ¯å±‚åªä½¿ç”¨è¾ƒä½å±‚çš„åŠŸèƒ½

major difficulty: careful definition of the layers.
</code></pre>
<p>Microkernels</p>
<p>Modules</p>
<h2 id="process">process
</h2><h3 id="process-concept">process concept
</h3><p>ç¨‹åºprogram æ˜¯å­˜å‚¨åœ¨diskçš„ passive å®ä½“ï¼Œè€Œprocessæ˜¯activeçš„ã€‚äºŒè€…ä¸æ˜¯ä¸€å¯¹ä¸€å…³ç³»çš„</p>
<p>è¿›ç¨‹processåŒ…æ‹¬ï¼š</p>
<pre><code>code section        ä»£ç æ®µ
data section        æ•°æ®æ®µ
heap                å †
process stack       è¿›ç¨‹æ ˆ
current activity    å½“å‰æ´»åŠ¨
</code></pre>
<p>process state å’Œ state transform</p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image.png"
	width="1490"
	height="627"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image_hu1992390067783399920.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image_hu15524181015043378754.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="237"
		data-flex-basis="570px"
	
></p>
<p>PCB</p>
<pre><code>process state
PC
CPU registers
CPU scheduling information: priorities, scheduling queue..
memory management infomation
accounting information--CPU time used, clock time...
I/O status information: open file list, I/O device list...
process number: ID, user ID...
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-1.png"
	width="1791"
	height="1009"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-1_hu6244255728872600200.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-1_hu5034475183190232774.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<h3 id="process-scheduling">process scheduling
</h3><p>queues</p>
<pre><code>job queue: æ‰€æœ‰åœ¨ç³»ç»Ÿä¸­çš„è¿›ç¨‹
ready queue: å·²ç»readyçš„queue
device queues: æ¯ä¸ªè®¾å¤‡éƒ½æœ‰ä¸€ä¸ªqueue
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-2.png"
	width="1875"
	height="900"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-2_hu14868008612210127301.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-2_hu10559054428289073850.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="208"
		data-flex-basis="500px"
	
></p>
<p>schedulerï¼š</p>
<pre><code>long-term schedulerï¼šjob scheduler
    selects which processes should be brought into the ready queue.
Short-term scheduler (or CPU scheduler) 
    selects which process should be executed next and allocates CPU

Primary distinction: execution frequency. æ‰§è¡Œçš„é¢‘ç‡

Medium-Term Schedulingï¼š
    The process is swapped out, store on disk, and is later swapped in, by the medium-term scheduler.

    å¤„ç†å™¨é€Ÿåº¦å¯èƒ½æ¯”I/Oæ›´å¿«ï¼Œå› æ­¤å¯èƒ½å¤§éƒ¨åˆ†çš„è¿›ç¨‹éƒ½åœ¨ç­‰I/Oã€‚è¿™æ—¶å€™å¯ä»¥æŠŠè¿™äº›è¿›ç¨‹éƒ½æ¢å‡ºï¼ˆswap outï¼‰åˆ°ç£ç›˜ä¸­ï¼Œæ¥èŠ‚çœå†…å­˜ç©ºé—´ã€‚ç­‰åˆ°åˆ°è¿™äº›è¿›ç¨‹çš„æ—¶å€™ï¼Œæ‰æŠŠå®ƒä»¬æ¢å…¥ï¼ˆswap inï¼‰ã€‚
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-3.png"
	width="1765"
	height="753"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-3_hu6410773818783444610.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-3_hu12582747635714474512.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="234"
		data-flex-basis="562px"
	
></p>
<p>context switchï¼š</p>
<pre><code>ä¸Šä¸‹æ–‡åœ¨è¿›ç¨‹çš„PCBä¸­è¡¨ç¤ºã€‚å½“è¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹çš„æ—¶å€™ï¼Œå°±è¦ä¿å­˜å½“å‰è¿›ç¨‹çš„çŠ¶æ€åˆ°PCBä¸­ï¼Œå¹¶ä¸ºæ–°è¿›ç¨‹åŠ è½½ä¿å­˜çš„çŠ¶æ€ã€‚è¿™ç§°ä¸ºä¸Šä¸‹æ–‡åˆ‡æ¢
</code></pre>
<h3 id="process-operation">process operation
</h3><h4 id="creation">creation
</h4><ol>
<li>
<p>Assign a unique process identifier, an integer number. åˆ†é…å”¯ä¸€æ ‡è¯†ç¬¦</p>
</li>
<li>
<p>Allocate space for the process åˆ†é…ç©ºé—´</p>
</li>
<li>
<p>Initialize process control block (PCB) åˆå§‹åŒ–PCB</p>
</li>
<li>
<p>å»ºç«‹é€‚å½“çš„è”ç³»</p>
</li>
<li>
<p>åˆ›å»ºæˆ–æ‰©å±•å…¶ä»–æ•°æ®ç»“æ„</p>
</li>
<li>
<p>èµ„æºå…±äº«ï¼Œä¸‰ç§æƒ…å†µï¼š</p>
<ul>
<li>Parent and children share all resources.  çˆ¶å­è¿›ç¨‹å…±äº«æ‰€æœ‰èµ„æº</li>
<li>Children share subset of parentâ€™s resources.  å­©å­å…±äº«çˆ¶æ¯èµ„æºçš„å­é›†</li>
<li>Parent and child share no resources.  ä¸å…±äº«</li>
</ul>
</li>
<li>
<p>è¿›ç¨‹åˆ›å»ºæ—¶ï¼Œè·å–ä»çˆ¶è¿›ç¨‹ä¼ é€’ç»™å­è¿›ç¨‹çš„åˆå§‹åŒ–æ•°æ®</p>
</li>
<li>
<p>è¦ä¹ˆå­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹åŒæ—¶æ‰§è¡Œï¼Œè¦ä¹ˆçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹æ‰§è¡Œå®Œæ¯•</p>
</li>
</ol>
<h4 id="termination">termination
</h4><div style="text-align:center;">
    <img src="image-4.png" alt="å›¾ç‰‡æè¿°" width="50%">
</div>
é‡Šæ”¾PCBè¿˜è¦å›æ”¶PCB
<p>ä¸å…è®¸å­¤å„¿è¿›ç¨‹ï¼šçˆ¶è¿›ç¨‹exitingåï¼Œå­å­™è¾ˆè¿›ç¨‹å…¨éƒ¨exiting</p>
<h3 id="interprocess-communication-è¿›ç¨‹é€šä¿¡">interprocess communication è¿›ç¨‹é€šä¿¡
</h3><p>independent process ç‹¬ç«‹è¿›ç¨‹ä¸èƒ½å½±å“å…¶ä»–è¿›ç¨‹çš„æ‰§è¡Œæˆ–è€…è¢«å½±å“<br>
cooperating process åˆä½œè¿›ç¨‹å¯ä»¥å½±å“åˆ«çš„è¿›ç¨‹æˆ–è¢«å½±å“</p>
<p>communication model</p>
<ol>
<li>
<p>shared memory</p>
</li>
<li>
<p>message passing
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-5.png"
	width="1776"
	height="861"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-5_hu14020707418270638409.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-5_hu1538053909104411541.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="206"
		data-flex-basis="495px"
	
></p>
<p>shared memory è¿è¡Œæœ€å¤§è®¸å¤šå’Œæœ€ä¾¿åˆ©çš„é€šä¿¡
message passing å½“éœ€è¦è¾ƒå°‘æ•°æ®äº¤æ¢æ—¶å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºä¸éœ€è¦é¿å…å†²çª</p>
</li>
</ol>
<p>shared-memoryï¼šç”Ÿäº§è€… â€”â€” æ¶ˆè´¹è€…é—®é¢˜</p>
<pre><code>æ•°æ®ç»“æ„ï¼šå¾ªç¯æ•°ç»„ã€‚ä¸¤ä¸ªæŒ‡é’ˆï¼šin å’Œ out æŒ‡é’ˆ
in æŒ‡å‘ä¸‹ä¸€ä¸ªfree position
out æŒ‡å‘ç¬¬ä¸€ä¸ª full position
emptyæ—¶ï¼šin == out
fullçš„æ—¶å€™ï¼š(in+1)% buffer_size = out
</code></pre>
<p>Message-passingï¼šinterprocess communication (IPC)</p>
<pre><code>è¿›ç¨‹é—´é€šä¿¡æ— éœ€å€ŸåŠ©å…±äº«å˜é‡
æ­¥éª¤ï¼š
    1. å»ºç«‹è¿æ¥
    2. é€šè¿‡send/receiveæ¥äº¤æ¢æ¶ˆæ¯

ç›´æ¥é€šä¿¡ï¼š
    è¿›ç¨‹å¿…é¡»æ˜ç¡®çš„äº’ç›¸å‘½å
    ä¸€ä¸ªé“¾è·¯åªä¸ä¸€å¯¹è¿›ç¨‹ç›¸å…³è”
    é“¾æ¥å¯ä»¥æ˜¯å•å‘æˆ–åŒå‘çš„

indirect communicationï¼š
    æ¶ˆæ¯ä»mailbox(ports)å‘å‡ºå’Œæ¥å—
    mailboxæœ‰unique ID
    å…±äº«mailboxçš„æ‰èƒ½é€šä¿¡
    ä¸€æ¡linkå¯èƒ½æœ‰å¤šä¸ªprocesses
    æ¯å¯¹è¿›ç¨‹å¯ä»¥å…±äº«å¤šæ¡link
    é“¾æ¥å¯ä»¥å•å‘ä¹Ÿå¯ä»¥åŒå‘
</code></pre>
<h2 id="threads">threads
</h2><p>A thread, called a lightweight process (LWP), is a basic unit of CPU utilization. æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½</p>
<p>å’Œprocessçš„åŒºåˆ«ï¼šprocessæ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½</p>
<p>çº¿ç¨‹çš„çŠ¶æ€ï¼šrunningã€readyã€waiting</p>
<p>parallelism å’Œ concurrent
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-6.png"
	width="1536"
	height="640"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-6_hu3765962445143525341.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-6_hu11917641440719014078.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="240"
		data-flex-basis="576px"
	
>
è”æƒ³æ•°æ®åº“ä¸­å¹¶å‘äº‹åŠ¡ï¼šä¸€æ®µæ—¶é—´å†…æ‰§è¡Œå¤šä¸ªtask<br>
å¹¶è¡Œï¼šåŒä¸ªæ—¶åˆ»æ‰§è¡Œå¤šä¸ªtask</p>
<p>å¹¶è¡Œï¼š</p>
<pre><code>data parallelismï¼š
    å¯ä»¥å¤šçº¿ç¨‹å®Œæˆï¼Œå•æ¯ä¸ªæ ¸å¤„ç†çš„æ•°æ®ä¸åŒï¼Œä»»åŠ¡ä¸€æ ·
task parallelismï¼š
    ä»»åŠ¡å¹¶è¡Œï¼Œå¯¹åŒä¸€æ‰¹æ•°æ®ï¼Œåˆ†å¸ƒåˆ°ä¸åŒæ ¸å»å·¦ä¸åŒä»»åŠ¡ï¼Œmaxã€minã€avg ç­‰ç­‰
</code></pre>
<h3 id="multithread-model-å¤šçº¿ç¨‹æ¨¡å‹">multithread model å¤šçº¿ç¨‹æ¨¡å‹
</h3><p>ä¸¤ç§ï¼š
1. user threads ç”¨æˆ·çº¿ç¨‹ï¼Œä¸éœ€è¦kernelæ”¯æŒ
2. kernel threads éœ€è¦OSç›´æ¥æä¾›threads</p>
<p>user threads:</p>
<pre><code>é€šè¿‡çº¿ç¨‹åº“æä¾›æ”¯æŒï¼Œkernelæ„è¯†ä¸åˆ°è¿™äº›çº¿ç¨‹
</code></pre>
<p>kernel threads:</p>
<pre><code>ä»¥çº¿ç¨‹ä¸ºå•ä½è¿›è¡Œè°ƒåº¦
åœ¨kernel spaceè¿›è¡Œçº¿ç¨‹çš„creationã€scheduleã€management
Win XPã€ Solarisã€ Linuxã€ Tru64 UNIXã€ MAC OS X
</code></pre>
<p>user threads å’Œ kernel threadsçš„ä¸‰ç§æ˜ å°„å…³ç³»ï¼š</p>
<pre><code>Many-to-one model
one-to-one
many-to-many
</code></pre>
<p>Many-to-oneï¼š</p>
<pre><code>ä¸€ä¸ªkernel threadå¯¹å¤šä¸ªuser threads
çº¿ç¨‹ç®¡ç†åœ¨ç”¨æˆ·ç©ºé—´è¿›è¡Œ
å¤šä¸ªçº¿ç¨‹æ— æ³•åœ¨å¤šå¤„ç†å™¨ä¸Šå¹¶è¡Œï¼Œå› ä¸ºä¸€ä¸ªçº¿ç¨‹åªèƒ½è®¿é—®ä¸€ä¸ªå†…æ ¸
</code></pre>
<p>One-to-one</p>
<pre><code>æ¯ä¸ªuser thread å¯¹ä¸€ä¸ª kernel thread
åœ¨å¤šå¤„ç†å™¨ä¸Šå¯ä»¥å¹¶è¡Œå¤šä¸ªçº¿ç¨‹
</code></pre>
<p>Many-to-many</p>
<pre><code>ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨blocking system callsæ—¶ï¼Œkernelå¯ä»¥è°ƒåº¦å…¶ä»–çº¿ç¨‹
</code></pre>
<p>ä¸‰ç§æ¨¡å‹æ¯”è¾ƒï¼š</p>
<pre><code>å¤šå¯¹ä¸€å…è®¸å¼€å‘äººå‘˜åˆ›å»ºä»–ä»¬æƒ³è¦çš„çº¿ç¨‹æ•°ï¼Œä½†æ˜¯å¹¶ä¸èƒ½æ‰§è¡ŒçœŸæ­£çš„å¹¶å‘
ä¸€å¯¹ä¸€å…è®¸æ›´å¤§çš„å¹¶å‘æ€§ï¼Œä½†æ˜¯è¦å°å¿ƒä¸èƒ½åˆ›å»ºå¤ªå¤šçº¿ç¨‹
å¤šå¯¹å¤šå¯ä»¥åˆ›å»ºæƒ³è¦çš„çº¿ç¨‹æ•°ï¼Œå¹¶ä¸”å†…æ ¸çº¿ç¨‹ä¹Ÿå¯ä»¥å¹¶å‘
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-7.png"
	width="1839"
	height="745"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-7_hu4995659801636337262.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-7_hu13332914279202513706.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="246"
		data-flex-basis="592px"
	
></p>
<h2 id="cpu-scheduling">CPU scheduling
</h2><p>å„çº§è°ƒåº¦çš„åŒºåˆ«ï¼š
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-8.png"
	width="1844"
	height="941"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-8_hu3411053149572427457.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-8_hu2822480209659788233.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="195"
		data-flex-basis="470px"
	
></p>
<p>schedule criteria</p>
<ul>
<li>CPU utilization â€“ keep the CPU as busy as possible              MAX</li>
<li>throughput (ååé‡) â€“ the number of processes that complete their execution per time unit.                                          MAX</li>
<li>turnaround time (å‘¨è½¬æ—¶é—´) â€“ amount of time to execute a particular process.                                                          MIN</li>
<li>waiting time â€“ amount of time a process has been waiting in the <b>ready
queue.</b>                                                            MIN</li>
<li>response time â€“ amount of time it takes from when a request was
submitted until the first response is produced, not output (for timesharing environment)    è¯·æ±‚åˆ°ç¬¬ä¸€æ¬¡å›åº”                                MIN</li>
</ul>
<h3 id="schedule-algorithm">schedule algorithm
</h3><ul>
<li>First-Come, First-Served (FCFS) Scheduling</li>
<li>Shortest-Job-First (SJF) Scheduling</li>
<li>Priority Scheduling</li>
<li>Round Robin (RR) Scheduling</li>
<li>Multilevel Queue Scheduling</li>
<li>Multilevel Feedback Queue Scheduling</li>
<li>Highest Response-Ratio Next (HRRN) scheduling*</li>
</ul>
<p>SJF:
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-9.png"
	width="1851"
	height="586"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-9_hu14691443194743076417.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-9_hu5511771462512788601.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="315"
		data-flex-basis="758px"
	
></p>
<p>Priorityâ€”â€”Two schemes:</p>
<ul>
<li>Preemptive:
preempt the CPU if the priority of the newly arrived process is higher than the priority of the currently running process.
åªè¦ä¼˜å…ˆçº§æœ€é«˜ï¼Œå°±å¯ä»¥ç›´æ¥æ‰§è¡Œ</li>
<li>Nonpreemptive:
simply put the new process at the end of the ready queue.
ç­‰å¾…å½“å‰æ‰§è¡Œçš„è¿›ç¨‹æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œready queueé‡Œä¼˜å…ˆçº§æœ€é«˜çš„</li>
</ul>
<p>RRï¼š</p>
<pre><code>æ˜¯preemptiveçš„ã€‚
æ—¶é—´ç‰‡æœ€å¥½æ˜¯èƒ½å¤§äº80% processçš„burst timeã€‚

ï¼ï¼ï¼æ³¨æ„è°ƒåº¦çš„å°±ç»ªé˜Ÿåˆ—ï¼šè¿›ç¨‹çš„æ—¶é—´ç‰‡ç»“æŸåè¿½åŠ åˆ°é˜Ÿå°¾ï¼Œæ–°æ¥çš„è¿›ç¨‹ä¹Ÿåˆ°é˜Ÿå°¾ä¸­

ä¾‹å­ï¼šæ—¶é—´ç‰‡ä¸º1
è¿›ç¨‹        æ‰€éœ€        åˆ°è¾¾
A           4           0
B           3           1-0.001
C           4           2-0.001
D           2           3-0.001
E           4           4-0.001
è°ƒåº¦é¡ºåºå¦‚ä¸‹ï¼š
A B A C B D A E C B D A E C E C E
</code></pre>
<p>multilevel queue scheduling</p>
<p>multilevel feedback queue scheduling å¤šçº§åé¦ˆé˜Ÿåˆ—</p>
<div style="text-align:center;">
    <img src="image-10.png" alt="å›¾ç‰‡æè¿°" width="80%">
</div>
ä¼šå‡çº§ï¼Œä¼šé™çº§
<p>Highest Rsponse-Ratio Next Scheduling é«˜å“åº”æ¯”ä¼˜å…ˆ(HRRN)ç®—æ³•</p>
<p>R = (W + T)/T = 1 + W/T</p>
<pre><code>W ï¼š waiting time in ready queue
T ï¼š CPU burst time
</code></pre>
<p>å°†ä¼šé€‰æ‹©Ræœ€å¤§çš„ä½œä¸ºä¸‹ä¸€ä¸ªè°ƒåº¦çš„</p>
<h3 id="multiple-processor-schedulingå¤šå¤„ç†å™¨è°ƒåº¦">multiple-processor schedulingå¤šå¤„ç†å™¨è°ƒåº¦
</h3><p>Affinity(äº²å’ŒåŠ›)ï¼šä¿æŒè¿›ç¨‹åœ¨åŒä¸€å¤„ç†å™¨ä¸Šè¿è¡Œ</p>
<h2 id="process-synchronization-è¿›ç¨‹åŒæ­¥">process synchronization è¿›ç¨‹åŒæ­¥
</h2><h3 id="the-critical-section-problem">The critical-section problem
</h3><p>Each process has a code segment, called critical section, in which the shared data is accessed.</p>
<pre><code>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªä»£ç æ®µï¼Œåœ¨è¿™ä¸ªä»£ç æ®µä¸­å®ƒä¼šè®¿é—®å…±äº«çš„æ•°æ®åŒºï¼Œè¿™ä¸ªä»£ç æ®µå«åšä¸´ç•ŒåŒº
</code></pre>
<p>3ä¸ªéœ€æ±‚ï¼š</p>
<pre><code>1. mutual exclusion äº’æ–¥
2. progress         ç©ºé—²è®©è¿›
3. bounded waiting  ä¼˜å…ˆç­‰å¾…
</code></pre>
<h3 id="ä¿¡å·é‡æœºåˆ¶-semaphores">ä¿¡å·é‡æœºåˆ¶ semaphores
</h3><p>counting semaphoresè®¡æ•°ä¿¡å·é‡ï¼šåˆå§‹åŒ–ä¸ºå¯ç”¨èµ„æºçš„æ•°é‡<br>
å½“ä¸º0çš„æ—¶å€™ï¼Œä»£è¡¨æ‰€æœ‰çš„èµ„æºéƒ½è¢«å ç”¨äº†</p>
<p>ä½¿ç”¨ä¸€ä¸ªèµ„æºæ—¶ï¼Œè¦å…ˆç­‰å¾…ï¼Œç”¨å®Œå†é‡Šæ”¾</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-C" data-lang="C"><span class="line"><span class="cl"><span class="c1">// process Pi
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">while</span><span class="p">(</span><span class="nb">true</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="nf">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">critical</span> <span class="n">section</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">remainder</span> <span class="n">section</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>wait   ä¼šè®©mutex--
signal ä¼šè®©mutex++
</code></pre>
<h4 id="bounded-buffer-problem-ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹">bounded-buffer problem ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹
</h4><p>ç”Ÿäº§è€… â€”â€” å¾€ç©ºçš„åœ°æ–¹æ”¾ï¼Œæœ‰emptyæ‰èƒ½æ”¾ï¼Œæ”¾å¥½äº†full+1<br>
æ¶ˆè´¹è€… â€”â€” ä»æœ‰ä¸œè¥¿çš„åœ°æ–¹æ‹¿ï¼Œfullæ‰èƒ½æ‹¿ï¼Œæ‹¿å¥½äº†empty+1<br>
å¯¹bufferä¸€æ¬¡åªèƒ½ä¸€ä¸ªæ“ä½œï¼Œå› æ­¤å¾—æœ‰ä¸€ä¸ªäº’æ–¥é”</p>
<p>åˆå§‹åŒ–ï¼š</p>
<pre><code>mutex = 1;
empty = n;
full = 0;
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-11.png"
	width="1874"
	height="926"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-11_hu3745757349793850177.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-11_hu439602949953343069.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="202"
		data-flex-basis="485px"
	
></p>
<h4 id="reader-writer-problem-è¯»å†™è€…æ¨¡å‹è¯»ä¼˜å…ˆ">Reader-writer problem è¯»å†™è€…æ¨¡å‹â€”â€”è¯»ä¼˜å…ˆ
</h4><p>è¯»ä¼˜å…ˆï¼Œå› æ­¤è¦è®¡ç®—è¯»è€…çš„æ•°é‡ â€”â€” èµ„æºï¼šreader_counter
æœ‰äº†reader_counterï¼Œå°±è¦è®¾ç½®ä¸€ä¸ªé”æ¥é˜²æ­¢å¤šåè¯»è€…äº‰ç”¨ â€”â€” r_mutex
è¯»å†™äº’æ–¥ï¼Œå› æ­¤éœ€è¦æœ‰ä¸€ä¸ªå¯¹èµ„æºçš„é”mutex</p>
<p>åˆå§‹åŒ–ï¼š</p>
<pre><code>rw_mutex = 1;
read_count = 0;
rw_mutex = 1;
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-12.png"
	width="1701"
	height="1044"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-12_hu5789298215308663673.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-12_hu6626987775029547553.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="162"
		data-flex-basis="391px"
	
></p>
<h4 id="ä¾‹é¢˜">ä¾‹é¢˜ï¼š
</h4><p>ä¾‹1ï¼š4*100 ç±³æ¥åŠ›èµ›:</p>
<pre><code>æœ¬è´¨æ˜¯ä¸€ä¸ªç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…æ¨¡å‹ï¼Œä½†æ˜¯ä¸ç”¨è€ƒè™‘èµ„æºäº‰ç”¨
ç¬¬ä¸€æ£’çš„äººç”Ÿäº§äº†ä¸€ä¸ªæ¥åŠ›æ£’ç»™ç¬¬äºŒæ£’
ç¬¬äºŒæ£’çš„äººæ¶ˆè´¹äº†ç¬¬ä¸€æ£’ç”Ÿäº§çš„æ¥åŠ›æ£’ï¼Œå¹¶ç”Ÿäº§äº†æ¥åŠ›æ£’ç»™ç¬¬ä¸‰æ£’
ç¬¬ä¸‰æ£’çš„æ¶ˆè´¹ç¬¬äºŒæ£’çš„æ¥åŠ›æ£’ï¼Œç”Ÿäº§äº†ç¬¬ä¸‰æ£’çš„æ¥åŠ›æ£’ç»™ç¬¬å››æ£’
ç¬¬å››æ£’æ¶ˆè´¹äº†ç¬¬ä¸‰æ£’ç”Ÿäº§çš„æ¥åŠ›æ£’

å› æ­¤è¦åˆå§‹åŒ–ä¸‰ä¸ªä¿¡å·é‡ï¼šS12 = 0, S23 = 0; S34 = 0
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-13.png"
	width="1712"
	height="528"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-13_hu9696249895664743033.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-13_hu7880485928074219587.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="324"
		data-flex-basis="778px"
	
></p>
<p>ä¾‹2ï¼šè¿›ç¨‹æµæ°´çº¿
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-14.png"
	width="1912"
	height="917"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-14_hu17534581316619407.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-14_hu11320208122336896385.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="208"
		data-flex-basis="500px"
	
></p>
<p>(1)</p>
<pre><code>å’Œæ¥åŠ›èµ›ä¸€æ ·
</code></pre>
<p>(2)</p>
<pre><code>P1 å’Œ P2æ˜¯ç”Ÿäº§è€…ï¼ŒP3æ˜¯æ¶ˆè´¹è€…ã€‚ä½†æ˜¯P1å’ŒP2ä¸ä¼šå…±äº«èµ„æºï¼Œä¸ç”¨è€ƒè™‘äº‰ç”¨
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-15.png"
	width="1633"
	height="785"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-15_hu148629519022268193.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-15_hu16647911292668583668.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="208"
		data-flex-basis="499px"
	
></p>
<p>(3)
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-16.png"
	width="1680"
	height="766"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-16_hu4474900123897667640.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-16_hu11795124367985844326.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="219"
		data-flex-basis="526px"
	
></p>
<p>ä¾‹3ï¼šè¯»è€…å’Œé˜…è§ˆå®¤</p>
<pre><code>é˜…è§ˆå®¤ç®¡ç†é—®é¢˜ï¼š

æŸé˜…è§ˆå®¤å…±æœ‰ 100 ä¸ªåº§ä½ã€‚
è¯»è€…æƒ³è¿›å…¥é˜…è§ˆå®¤ï¼Œè‹¥è¿˜æœ‰ç©ºä½ï¼Œåˆ™å…ˆåœ¨ç™»è®°æœ¬ä¸Šç™»è®°(check in)ï¼Œç„¶åè¿›å…¥é˜…è§ˆå®¤ã€‚ç¦»å¼€é˜…è§ˆå®¤ä¹‹å‰è¿˜è¦æ³¨é”€ç™»è®°(check out)ã€‚
ï¼ˆæ³¨æ„ï¼šæ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªè¯»è€…check in æˆ–è€…check outï¼‰
è‹¥é˜…è§ˆå®¤å·²ç»æ²¡æœ‰ç©ºä½ï¼Œåˆ™è¯»è€…ç­‰å¾…ã€‚

è¯»è€…ä¹‹é—´äº‰ç”¨èµ„æºï¼š1. ç™»è®°æœ¬     2. æ¤…å­
ä¸ç”¨åˆ¤æ–­èµ„æºæ˜¯å¦å¤Ÿç”¨ï¼Œå› ä¸ºå¯ä»¥ä¸€ç›´ç­‰ã€‚å¦‚æœä¸èƒ½ç­‰çš„è¯ï¼Œæ¤…å­å°±å¾—åˆå§‹åŒ–ä¸ºä¸€ä¸ªintå˜é‡ï¼Œè¿™æ ·æ‰èƒ½æŸ¥çœ‹æ¤…å­çš„æ•°é‡ã€‚
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-17.png"
	width="1115"
	height="827"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-17_hu1774353107817118050.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-17_hu3653685031359923473.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="134"
		data-flex-basis="323px"
	
></p>
<p>çœ‹readyã€runningã€waitingçŠ¶æ€çš„æœ€å¤šå’Œæœ€å°‘çš„æ•°ç›®ï¼š</p>
<pre><code>runningæœ€å¤šï¼šæœ‰å‡ ä¸ªprocesserå°±æœ‰å‡ ä¸ªåœ¨runningçš„
readyæœ€å¤šï¼šæ€»çš„è¿›ç¨‹æ•°å‡æ‰processerçš„æ•°é‡
waitingæœ€å¤šï¼šæœ‰å¯èƒ½æ‰€æœ‰çš„processéƒ½åœ¨waiting
æœ€å°‘çš„éƒ½æ˜¯0
</code></pre>
<p>ä¾‹4ï¼šç”Ÿäº§çº¿</p>
<pre><code>æŸå·¥å‚æœ‰ä¸€æ¡ç”Ÿäº§çº¿ï¼Œå…¶ä¸Šå¯ä»¥æ”¾ç½®10ä¸ªé›¶ä»¶ã€‚æœ‰ä¸‰ä¸ªå·¥äººå°å¼ ã€å°ç‹å’Œå°æã€‚
å°å¼ æ¯æ¬¡ç”Ÿäº§1ä¸ªé›¶ä»¶Aï¼Œå¹¶æ”¾ç½®åˆ°ç”Ÿäº§çº¿ä¸Šï¼›
å°ç‹æ¯æ¬¡ç”Ÿäº§1ä¸ªé›¶ä»¶Bï¼Œå¹¶æ”¾ç½®åˆ°ç”Ÿäº§çº¿ä¸Šï¼›
å°ææ¯æ¬¡ä»ç”Ÿäº§çº¿ä¸Šå–1ä¸ªAå’Œ2ä¸ªBï¼Œç»„è£…äº§å“Cã€‚
å·¥äººä»¬ä¸èƒ½åŒæ—¶ä½¿ç”¨ç”Ÿäº§çº¿å–æ”¾é›¶ä»¶ã€‚
è¯·ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°ä¸‰ä¸ªå·¥äººè¿›ç¨‹ï¼Œç¡®ä¿æµæ°´çº¿èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚
ï¼ˆ1ï¼‰å®šä¹‰ä¿¡å·é‡åŠå˜é‡ï¼Œç»™å‡ºå…¶åˆå€¼ï¼Œè¯´æ˜å…¶ä½œç”¨
ï¼ˆ2ï¼‰å†™å‡ºä¸‰ä¸ªå·¥äººè¿›ç¨‹çš„ä»£ç ç»“æ„

æ³¨æ„ï¼šå’Œç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…æ¨¡å‹ä¸å¤ªä¸€æ ·ã€‚
Aæœ‰ä¸Šé™8ï¼ŒBæœ‰ä¸Šé™9ï¼Œä¸”ç”Ÿäº§çº¿çš„ç©ºä½æ˜¯10ï¼Œå› ä¸ºè¦æœ‰ä¸€ä¸ªä»£è¡¨10ä¸ªä½ç½®çš„ä¿¡å·é‡ã€‚

roomA = 8ï¼Œ partA=0
roomB = 9ï¼Œ partB=0
room = 10ï¼Œ ä¸éœ€è¦part
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-18.png"
	width="1696"
	height="835"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-18_hu4772214266303365706.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-18_hu13067847306330957987.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="203"
		data-flex-basis="487px"
	
>
è¿™é‡Œçš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å…¶å®åªæ˜¯åœ¨Aå’ŒBä¸Šï¼Œç”Ÿäº§çº¿åªæ˜¯ç”¨æ¥é™åˆ¶çš„Aå’ŒBçš„ä¸ªæ•°çš„</p>
<p>ä¾‹5ï¼šè¯»å…±äº«ï¼Œå†™ä¼˜å…ˆ</p>
<pre><code>æŸç³»ç»Ÿä¸­æœ‰mä¸ªè¿›ç¨‹å¹¶å‘æ‰§è¡Œï¼Œåˆ†ä¸ºAã€Bä¸¤ç»„ï¼Œä»–ä»¬å…±äº«æ–‡ä»¶Fï¼ŒAç»„è¿›ç¨‹å¯¹æ–‡ä»¶Fè¿›è¡Œå†™æ“ä½œï¼ŒBç»„è¿›ç¨‹å¯¹æ–‡ä»¶Fè¿›è¡Œåªè¯»æ“ä½œã€‚å†™æ“ä½œéœ€è¦äº’æ–¥è¿›è¡Œï¼Œè¯»æ“ä½œå¯ä»¥åŒæ—¶å‘ç”Ÿï¼Œå³å½“æœ‰Bç»„çš„æŸè¿›ç¨‹æ­£åœ¨å¯¹æ–‡ä»¶Fè¿›è¡Œè¯»æ“ä½œæ—¶ï¼Œè‹¥æ²¡æœ‰Aç»„çš„è¿›ç¨‹æå‡ºå†™è¯·æ±‚ï¼Œåˆ™Bç»„çš„å…¶ä»–è¿›ç¨‹å¯ä»¥åŒæ—¶å¯¹æ–‡ä»¶Fè¿›è¡Œè¯»æ“ä½œï¼Œå¦‚æœæœ‰Aç»„çš„è¿›ç¨‹æå‡ºå†™è¯·æ±‚ï¼Œåˆ™é˜»æ­¢Bç»„çš„å…¶ä»–è¿›ç¨‹å¯¹æ–‡ä»¶Fè¿›è¡Œè¯»æ“ä½œçš„åç»­è¯·æ±‚ï¼Œç­‰å½“å‰æ­£åœ¨è¯»æ–‡ä»¶çš„Bç»„è¿›ç¨‹å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œåˆ™ç«‹å³è®©Aç»„æå‡ºå†™è¯·æ±‚çš„è¿›ç¨‹æ‰§è¡Œå¯¹æ–‡ä»¶Fçš„å†™æ“ä½œã€‚
ï¼ˆ1ï¼‰å®šä¹‰ä¿¡å·é‡åŠå˜é‡ï¼Œç»™å‡ºå…¶åˆå€¼ï¼Œè¯´æ˜å…¶ä½œç”¨
ï¼ˆ2ï¼‰å†™å‡ºAç»„å’ŒBç»„è¿›ç¨‹çš„ä»£ç ç»“æ„

é¦–å…ˆï¼Œå†™ä¼˜å…ˆï¼Œå› æ­¤è¯»è€…äº‰ç”¨èµ„æºå‰ï¼Œçœ‹æœ‰æ²¡æœ‰å†™çš„å·²ç»åœ¨ç­‰äº†ã€‚
ç¬¬ä¸€åå†™è€…è¦è·å–å†™ä¼˜å…ˆçš„æƒåŠ›ï¼Œå¦‚æœåé¢è¿˜æœ‰å†™è€…ï¼Œå†äº¤ç»™ä¸‹ä¸€ä½ã€‚æ²¡æœ‰å†™çš„ï¼Œå°±é‡Šæ”¾
åŒä¸€æ‰¹è¯»è€…è¯»å®Œä¹‹åï¼Œå†™çš„æ‰èƒ½è¿›å…¥å†™
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-19.png"
	width="1581"
	height="828"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-19_hu18440164798610439165.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-19_hu9054444014782225544.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="190"
		data-flex-basis="458px"
	
></p>
<p>ä¾‹6ï¼šä¸‰å°æˆ–ä¸€å¤§
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20.png"
	width="1711"
	height="719"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20_hu18446395595074177249.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20_hu15201416153952277147.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="237"
		data-flex-basis="571px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-21.png"
	width="1693"
	height="816"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-21_hu11990838723647936639.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-21_hu17806848450701052469.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="207"
		data-flex-basis="497px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-22.png"
	width="1686"
	height="833"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-22_hu9534450865348373577.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-22_hu11477034325548044118.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="202"
		data-flex-basis="485px"
	
></p>
<h2 id="deadlock">deadlock
</h2><p>æ­»é”ç‰¹å¾ï¼š</p>
<pre><code>1. äº’æ–¥ä½¿ç”¨     Mutual exclusion
2. å æœ‰å¹¶ç­‰å¾…   hold and wait
3. éæŠ¢å        no preemption
4. å¾ªç¯ç­‰å¾…     circular wait
</code></pre>
<p>Resource-Allocation Graph</p>
<pre><code>åœ†åœˆï¼šè¿›ç¨‹èŠ‚ç‚¹
æ–¹å½¢ï¼šèµ„æºç»“ç‚¹
æ–¹å½¢å†…çš„åœ†åœˆï¼šèµ„æºå®ä¾‹

è¿›ç¨‹åˆ°èµ„æºçš„è¾¹ Pi -&gt; Rj è¯·æ±‚è¾¹
èµ„æºåˆ°è¿›ç¨‹çš„è¾¹ Rj -&gt; Pi åˆ†é…è¾¹
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-23.png"
	width="1843"
	height="899"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-23_hu4350008831606547466.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-23_hu2289320441950955535.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="205"
		data-flex-basis="492px"
	
>
æ­»é”ä¸€å®šæœ‰ç¯è·¯ï¼Œç¯è·¯ä¸ä¸€å®šæœ‰æ­»é”</p>
<h3 id="æ­»é”é¿å…-avoidance">æ­»é”é¿å… avoidance
</h3><ol>
<li>
<p>èµ„æºåˆ†é…å›¾ç®—æ³•</p>
<p>ç”¨èµ„æºåˆ†é…å›¾ï¼Œå¦‚æœä¸æˆç¯ï¼Œå°±å¯ä»¥åˆ†é…èµ„æº</p>
</li>
<li>
<p>é“¶è¡Œå®¶ç®—æ³•</p>
<pre><code> nä¸ªè¿›ç¨‹
 mç§èµ„æºç±»å‹
</code></pre>
<ol>
<li>
<p>æ•°æ®ç»“æ„æè¿°</p>
<ul>
<li>Availableï¼šä¸€ç»´æ•°ç»„ï¼Œavailable[j] = k è¡¨ç¤ºRjæœ‰kä¸ªå¯ç”¨</li>
<li>Maxï¼šäºŒç»´çŸ©é˜µn*mã€‚Max[i, j] = K, é‚£ä¹ˆPiè¿›ç¨‹å°±å¯èƒ½ä¼šè¯·æ±‚kä¸ªRj</li>
<li>Allocationï¼šn*m äºŒç»´çŸ©é˜µã€‚Allocation[i, j]=k, é‚£ä¹ˆç°åœ¨Piæœ‰kä¸ªRjèµ„æº</li>
<li>Needï¼šn*mäºŒç»´æ•°ç»„ï¼ŒNeed[i, j] = Max[i, j] - Allocation[i, j]</li>
</ul>
</li>
<li>
<p>ç®—æ³•æµç¨‹ï¼šsafety algorithm</p>
<ol>
<li>åˆå§‹åŒ–ï¼š
Work = Available
Finish[i] = false</li>
<li>å·¥ä½œæµç¨‹ï¼š
æ‰¾åˆ°ä¸€ä¸ªPi:
(1)Finish[i]=false<br>
(2)Need[i]&lt;=Work
å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±è·³åˆ°4</li>
<li>Work += Allocation[i] // è¡¨ç¤ºå½“å‰è¿›ç¨‹ç»“æŸåï¼Œèµ„æºå¯ä»¥å˜æˆå¤šå°‘
Finish[i] = true
è½¬åˆ°2ï¼Œç»§ç»­æ‰¾</li>
<li>å¦‚æœæ‰€æœ‰çš„Finishéƒ½ä¸ºtrueï¼Œé‚£ä¹ˆå°±æ˜¯safetyçŠ¶æ€ï¼Œå¦åˆ™å°±ä¸æ˜¯safety</li>
</ol>
</li>
<li>
<p>ç®—æ³•æµç¨‹ï¼šresource-request algorithm èµ„æºè¯·æ±‚ç®—æ³•</p>
<p>å¦‚æœæŸä¸€ä¸ªè¿›ç¨‹å½“å‰æ€¥éœ€æŸäº›èµ„æºï¼Œè¦æ£€æµ‹è¯¥ç®—æ³•ä¹‹åæ‰èƒ½åˆ†é…</p>
<ol>
<li>å…ˆå¾ä¿¡ï¼šå¦‚æœRequest[i] &gt; Need[i]ï¼Œerror</li>
<li>å¦‚æœRequest[i] &gt;= Available, é‚£å°±ç­‰å¾…ã€‚å¦‚æœæ˜¯&lt;=çš„è¯ï¼Œç»§ç»­3</li>
<li>Available = Available - Request[i]
Allocation[i] = Allocation[i] + Request[i]
Need[i] = Need[i] - Request[i]</li>
<li>ä½¿ç”¨safety algorithmè¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœå¤„äºå®‰å…¨çŠ¶æ€ï¼Œå°±å¯ä»¥åˆ†é…ï¼Œå¦åˆ™ä¸è¡Œ</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="æ­»é”æ£€æµ‹">æ­»é”æ£€æµ‹
</h3><p>Detection algorithm</p>
<ul>
<li>Available</li>
<li>Allocation</li>
<li>request n*m</li>
</ul>
<ol>
<li>åˆå§‹åŒ– <br>
Work = Available
åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±è¦åˆ¤æ–­ï¼š
<br> å¦‚æœallocation[i] â‰  0ï¼Œ é‚£ä¹ˆFinish[i] = false
<br> å¦‚æœallocation[i] ==0,  é‚£ä¹ˆFinish[i] = true
<br> åŸºæœ¬ä¸Šéƒ½æ˜¯falseäº†</li>
<li>éå†ï¼Œæ‰¾Finish[i]==falseçš„ï¼Œå¹¶ä¸”è¯·æ±‚çš„æ•°é‡å°äºå½“å‰çš„Workï¼Œå³Request[i]&lt;=Work,å¦‚æœæ²¡å³ï¼Œå°±å»4</li>
<li>Work = Work + Allocatoin[i]ï¼Œ Finish[i] = true  ç„¶åç»§ç»­å»2æ‰¾</li>
<li>å¦‚æœå¤§å®¶éƒ½æ˜¯trueï¼Œé‚£ä¹ˆå°±ä¸æ˜¯æ­»é”ã€‚å¦‚æœæœ‰ä¸€ä¸ªæ˜¯falseçš„ï¼Œè¯´æ˜å¤„äºæ­»é”çŠ¶æ€</li>
</ol>
<h2 id="main-memory">Main Memory
</h2><h3 id="è¿ç»­å†…å­˜åˆ†é…">è¿ç»­å†…å­˜åˆ†é…
</h3><p>å¯å˜åˆ†åŒºæ–¹æ¡ˆ</p>
<pre><code>Holeï¼šä¸€å—å¯ç”¨çš„å†…å­˜
ä¸€å¼€å§‹æ˜¯ä¸€ä¸ªå¤§çš„holeã€‚å†…å­˜ä¸­æ•£å¸ƒç€å¤§å°ä¸ä¸€çš„hole
OSç»´æŠ¤ä¸€ä¸ªåŒ…å«ä¿¡æ¯çš„tableï¼šå“ªå—è¢«åˆ†é…ç»™å“ªä¸ªè¿›ç¨‹äº†ï¼Œå“ªå—æ˜¯hole

è¿›ç¨‹ä¼šè¢«åˆ†é…åˆ°å’Œå®ƒéœ€æ±‚ç›¸ç­‰çš„å†…å­˜å—
è¿›ç¨‹ç»“æŸåï¼Œå°†å®ƒçš„å†…å­˜é‡Šæ”¾ã€‚ç›¸é‚»çš„free blockä¼šåˆå¹¶æˆä¸€ä¸ªhole

Many small holes in the memory, external fragmentationï¼Œå¤–éƒ¨ç¢ç‰‡
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-24.png"
	width="1784"
	height="463"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-24_hu8979768613012019859.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-24_hu89692950833531734.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="385"
		data-flex-basis="924px"
	
></p>
<p>ä¸‰ç§åˆ†é…æ–¹å¼ï¼š</p>
<pre><code>1. first fit    åˆ†é…ç¬¬ä¸€ä¸ªæ»¡è¶³å¤§å°çš„hole
2. best fit     holeå…ˆæŒ‰å¤§å°æ’åºï¼Œåˆ†é…æœ€å°çš„å¯ä»¥æ»¡è¶³éœ€æ±‚çš„hole
3. worse fit    åˆ†é…æœ€å¤§çš„æ´
ä¸‰ç§åˆ†é…æ–¹å¼éƒ½æœ‰å¤–éƒ¨ç¢ç‰‡
</code></pre>
<p>å¤–éƒ¨ç¢ç‰‡ï¼š</p>
<pre><code>æ€»å†…å­˜å¤§å°æ˜¯æ»¡è¶³åˆ†é…éœ€æ±‚çš„ï¼Œä½†æ˜¯åˆ†é…çš„ç©ºé—´å¹¶ä¸æ˜¯è¿ç»­çš„
</code></pre>
<p>å†…éƒ¨ç¢ç‰‡ï¼š</p>
<pre><code>åˆ†é…çš„ç©ºé—´ç•¥å¤§äºéœ€æ±‚çš„ç©ºé—´
</code></pre>
<h3 id="page-é¡µå¼ç®¡ç†">page é¡µå¼ç®¡ç†
</h3><p>è¿›ç¨‹çš„ç‰©ç†åœ°å€å¯ä»¥ä¸è¿ç»­<br>
<b>ç‰©ç†</b>åœ°å€è¢«åˆ†æˆç›¸åŒå¤§å°çš„å—ï¼Œframes<br>
<b>é€»è¾‘</b>åœ°å€è¢«åˆ†æˆç›¸åŒå¤§å°çš„å—ï¼Œpages<br>
æ¯ä¸ª frames/pages çš„å¤§å°éƒ½æ˜¯2çš„æ•´æ•°å¹‚<br>
å½“ä¸€ä¸ªè¿›ç¨‹è¦è¢«ä½¿ç”¨çš„æ—¶å€™ï¼Œå®ƒçš„pagesä»blocksä¸­è¢«åŠ è½½åˆ°ä»»æ„å¯ç”¨çš„frames<br></p>
<p>é¿å…çš„å¤–éƒ¨ç¢ç‰‡ï¼Œé¿å…äº†ä¸åŒå¤§å°çš„å†…å­˜å—(chunks)é—®é¢˜</p>
<p>OSé€šè¿‡page table æ¥è¿½è¸ªæŸä¸ªé€»è¾‘pageè¢«åˆ†é…åˆ°å“ªä¸ªframeã€‚page numberä½œä¸ºä¸‹æ ‡<br>
åœ¨æœ€åä¸€ä¸ªpageä¼šæœ‰å†…éƒ¨ç¢ç‰‡<br>
æ¯ä¸ªé€»è¾‘åœ°å€éƒ½è¢«åˆ†æˆï¼špage number(p)ã€page offset(d)</p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-25.png"
	width="1844"
	height="785"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-25_hu3272637746720772352.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-25_hu3297010032831862264.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="234"
		data-flex-basis="563px"
	
></p>
<p>æ¯ä¸ªpageéƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€ï¼š</p>
<pre><code>é€»è¾‘åœ°å€ï¼Œé«˜ä½çš„nä¸ªbitå—pageæ•°é‡å†³å®šçš„ï¼Œoffsetæ˜¯page_sizeå†³å®šçš„
ç‰©ç†åœ°å€ï¼Œé«˜ä½çš„kä¸ªbitå—å†…å­˜çš„æ€»framesæ•°é‡å†³å®šï¼Œoffsetæ˜¯page_sizeå†³å®šçš„
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-26.png"
	width="1663"
	height="725"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-26_hu6859946857243162350.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-26_hu6835533293949650530.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="229"
		data-flex-basis="550px"
	
></p>
<p>è¿™é‡Œçš„è™šæ‹Ÿå†…å­˜ï¼Œè¡¨ç¤ºæœ‰ç¨‹åºå®é™…ä¸Šå¤§äºäº†ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œæ‰€ä»¥ä¼šå¯¹å†…å­˜è¿›è¡Œæ‰©å±•ï¼Œæ‰èƒ½è¿è¡Œè¿™äº›ç¨‹åºã€‚<br>
é€»è¾‘åœ°å€è½¬ä¸ºç‰©ç†åœ°å€çš„æ—¶å€™ï¼Œç”¨ é€»è¾‘åœ°å€/page sizeï¼Œå¾—åˆ°å•†å’Œä½™æ•°ã€‚å•†æ˜¯é¡µç (ä»0å¼€å§‹)ï¼Œä½™æ•°offset</p>
<p>ç‰©ç†è®¾å¤‡æ”¯æŒï¼š</p>
<pre><code>Page-table base register (PTBR) points to the page table.
Page-table length register (PTLR) indicates size of the page table.
</code></pre>
<p>åœ¨è¯¥æ–¹æ¡ˆä¸­ï¼Œæ¯æ¬¡éƒ½è¦è¿›è¡Œä¸¤æ¬¡å†…å­˜è®¿é—®ï¼š1. table  2. æŒ‡ä»¤</p>
<p>ä¸ºäº†ä¼˜åŒ–ï¼Œå¼•å…¥TLB( translation look-aside buffers / associative memory)ï¼Œå¯ç”¨ç±»æ¯”cache</p>
<p>TLB</p>
<pre><code>åŒ…å«æœ€è¿‘ä½¿ç”¨è¿‡çš„é¡µè¡¨æ¡ç›®
TLBä¸­ï¼Œæ²¡æ¡ç›®éƒ½ç”±é”®å€¼å¯¹(page#, frame#)ç»„æˆï¼Œä»£è¡¨é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„
å¦‚æœTLBé‡Œæ²¡æœ‰æƒ³è¦çš„é¡µè¡¨æ¡ç›®ï¼Œæ‰ä¼šå»é¡µè¡¨ä¸­æŸ¥æ‰¾
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-27.png"
	width="1809"
	height="912"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-27_hu1117982796221462469.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-27_hu17435206695963759923.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="198"
		data-flex-basis="476px"
	
></p>
<p>Effective access time(EAT)æœ‰æ•ˆè®¿é—®æ—¶é—´</p>
<pre><code>å‡å¦‚åœ¨TLBä¸­æ‰¾åˆ°äº†ï¼Œå°±åªéœ€æ ¹æ®TLBä¸­çš„ç‰©ç†åœ°å€è®¿é—®ä¸€æ¬¡å†…å­˜
å¦‚æœåœ¨TLBä¸­æ²¡æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±å¾—æŸ¥page tableï¼Œå†æ ¹æ®page tableæŸ¥ç‰©ç†åœ°å€ï¼Œè¿™æ ·éœ€è¦ä¸¤æ¬¡è®¿é—®å†…å­˜ã€‚

Îµæ˜¯æŸ¥TLBçš„æ—¶é—´ï¼Œtæ˜¯è®¿é—®å†…å­˜çš„æ—¶é—´ï¼ŒÎ±æ˜¯TLBçš„å‘½ä¸­ç‡
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-28.png"
	width="1691"
	height="767"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-28_hu11913265056834292917.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-28_hu6442646914349218158.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="220"
		data-flex-basis="529px"
	
></p>
<p>é¡µå¼å†…å­˜ä¿æŠ¤ Memory protection</p>
<pre><code>å®ç°æ–¹å¼é€šè¿‡æ¯ä¸€ä¸ªframeå¯¹åº”çš„protection bitï¼Œè¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨é¡µè¡¨ä¸­
RW bitï¼Œåªè¯»æˆ–è€…å¯è¯»å¯å†™
Valid-invalid bit, validè¡¨ç¤ºå…³è”çš„é¡µé¢åœ¨è¿›ç¨‹çš„é€»è¾‘åœ°å€ä¸­ï¼Œinvalidè¡¨ç¤ºä¸åœ¨é€»è¾‘åœ°å€ä¸­
</code></pre>
<h3 id="é¡µè¡¨çš„ç»“æ„">é¡µè¡¨çš„ç»“æ„
</h3><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-29.png"
	width="1745"
	height="539"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-29_hu5088924595628111389.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-29_hu3215019200111325064.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="323"
		data-flex-basis="776px"
	
></p>
<p>Hierarchical Paging</p>
<pre><code>Two-level paging
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-30.png"
	width="1833"
	height="751"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-30_hu8085968809994339125.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-30_hu11457378283955710603.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="244"
		data-flex-basis="585px"
	
></p>
<p>Hashed Page Tables
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-31.png"
	width="1721"
	height="844"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-31_hu13805806183565560400.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-31_hu3288133696818453599.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="203"
		data-flex-basis="489px"
	
></p>
<p>Inverted Page Tables</p>
<pre><code>One entry for each real frame of memory.
æ¯ä¸ªæ¡ç›®éƒ½æœ‰å­˜å‚¨åœ¨è¯¥å®é™…åœ°å€çš„ é¡µé¢çš„è™šæ‹Ÿåœ°å€ï¼Œä»¥åŠæ‹¥æœ‰è¯¥é¡µé¢çš„è¿›ç¨‹ä¿¡æ¯
&lt; process-id, page-number, offset &gt;
é€šè¿‡pid å’Œ pæ¥page tableæ‰¾ï¼Œç„¶åå†ä»ç‰©ç†åœ°å€ä¸­è¯»å–
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-32.png"
	width="1724"
	height="857"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-32_hu8519554766641091099.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-32_hu13558707740659786371.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="201"
		data-flex-basis="482px"
	
></p>
<h3 id="segment-æ®µå¼ç®¡ç†">segment æ®µå¼ç®¡ç†
</h3><p>é€»è¾‘åœ°å€: a segment number and an offset, æ®µå·å’Œoffset</p>
<pre><code>&lt;segment-number, offset&gt;
</code></pre>
<p>segment table æ®µè¡¨ï¼š</p>
<pre><code>æ¯ä¸ªæ¡ç›®éƒ½æ˜¯ï¼š
Segment base â€“ æ¯ä¸ªæ®µåœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€
Segment limit â€“ specifies the length of the segment.æŒ‡å®šæ®µçš„é•¿åº¦
</code></pre>
<p>Segment-Table Base Register (STBR) points to å†…å­˜ä¸­æ®µè¡¨çš„ä½ç½®.<br>
Segment-Table Length Register (STLR) indicates ä¸€ä¸ªç¨‹åºç”¨çš„æ®µæ•°.<br>
segment number s is legal if s &lt; STLR.</p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-33.png"
	width="1686"
	height="901"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-33_hu11469099223765074054.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-33_hu13487520826151245755.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="187"
		data-flex-basis="449px"
	
>
è¯¥ç¨‹åºä¸€å…±æœ‰5ä¸ªæ®µï¼Œæ¯ä¸ªæ®µéƒ½åˆ†é…äº†ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå®ƒä»¬åœ¨ç‰©ç†å†…å­˜ä¸­ä¸ä¸€å®šè¿ç»­</p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-34.png"
	width="1632"
	height="790"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-34_hu3230889595038830126.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-34_hu16751566172207859502.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="206"
		data-flex-basis="495px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-35.png"
	width="1172"
	height="799"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-35_hu157785909663071151.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-35_hu5898090780168921985.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="146"
		data-flex-basis="352px"
	
>
æœ‰å¤–éƒ¨ç¢ç‰‡</p>
<h3 id="æ®µé¡µå¼ç®¡ç†">æ®µé¡µå¼ç®¡ç†
</h3><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-36.png"
	width="1870"
	height="909"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-36_hu17437906535900708980.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-36_hu12505012635307513770.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="205"
		data-flex-basis="493px"
	
>
å…ˆåˆ†æ®µï¼Œå†åˆ†é¡µã€‚æ¯ä¸€é¡µå¯ä»¥æ”¾åˆ°ä¸ç›¸é‚»çš„ä½ç½®</p>
<p>è™šæ‹Ÿåœ°å€æ„æˆï¼š</p>
<pre><code>è¿›ç¨‹çš„é€»è¾‘åœ°å€ç©ºé—´è¢«åˆ’åˆ†æˆæ®µï¼Œæ¯ä¸ªæ®µæœ‰è‡ªå·±çš„æ®µå·Sã€‚
æ®µå†…çš„ä»£ç æˆ–æ•°æ®ï¼ŒæŒ‰ç…§å†…å­˜é¡µé¢çš„å¤§å°åˆ’åˆ†ä¸ºè‹¥å¹²é¡µã€‚
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-37.png"
	width="879"
	height="529"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-37_hu704245373045706360.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-37_hu15392333444869057210.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="166"
		data-flex-basis="398px"
	
></p>
<p>æ®µè¡¨å’Œé¡µè¡¨</p>
<pre><code>æ¯ä¸ªè¿›ç¨‹æœ‰ä¸€å¼ æ®µè¡¨
    ç®¡ç†å†…å­˜çš„åˆ†é…ä¸é‡Šæ”¾ã€å­˜å‚¨ä¿æŠ¤å’Œåœ°å€å˜æ¢ç­‰ã€‚
    æ¯ä¸ªè¡¨é¡¹è®°å½•å¯¹åº”æ®µçš„é¡µè¡¨çš„èµ·å§‹åœ°å€å’Œé¡µè¡¨é•¿åº¦ã€‚
æ¯ä¸ªæ®µæœ‰ä¸€å¼ é¡µè¡¨
    ä¿å­˜æ®µä¸­çš„æ¯ä¸ªé€»è¾‘é¡µåœ¨ç‰©ç†å†…å­˜ä¸­çš„å†…å­˜å—å·
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-38.png"
	width="1636"
	height="894"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-38_hu5924617882111688735.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-38_hu819374832092261654.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="182"
		data-flex-basis="439px"
	
></p>
<p>é€»è¾‘åœ°å€è½¬ç‰©ç†åœ°å€ï¼š
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-39.png"
	width="1819"
	height="993"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-39_hu7375867275088724839.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-39_hu57958063528802378.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="183"
		data-flex-basis="439px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-40.png"
	width="1837"
	height="969"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-40_hu2824301473354600141.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-40_hu2645440465125434254.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="189"
		data-flex-basis="454px"
	
></p>
<h2 id="è™šæ‹Ÿå†…å­˜">è™šæ‹Ÿå†…å­˜
</h2><h3 id="demand-paging">demand paging
</h3><p>å¦‚æœå†…å­˜ä¸­æ²¡æœ‰free frameï¼Œå°±ä¼šæ‰¾victim</p>
<pre><code>1. å¦‚æœè¦ä½¿ç”¨æŸä¸€é¡µï¼Œéƒ½æ˜¯å†…å­˜ä¸­æ²¡æœ‰ï¼Œä¼šäº§ç”Ÿä¸€å…±trap â€”â€”&gt; page fault
2. ä¿å­˜ç”¨æˆ·å¯„å­˜å™¨å’Œè¿›ç¨‹çŠ¶æ€
3. ç¡®å®šæ˜¯ä¸æ˜¯page fault
4. OS ä¼šæŸ¥çœ‹æ˜¯å¦åˆæ³•ã€‚å¹¶ç¡®å®šé¡µé¢åœ¨ç£ç›˜ä¸Šçš„ä½ç½®
5. ä»ç£ç›˜å‘free frameè¯»å–pageï¼š
    1 åœ¨è®¾å¤‡é˜Ÿåˆ—ä¸­ç­‰å¾…ï¼Œç›´åˆ°è¯»å–è¯·æ±‚è¢«æœåŠ¡
    2 ç­‰å¾…å¯»é“ã€å»¶è¿Ÿæ—¶é—´
    3 å¼€å§‹ä¼ è¾“
6. ç­‰å¾…çš„æ—¶å€™ï¼ŒCPUå»è°ƒåº¦å…¶ä»–ç”¨æˆ·è¿›ç¨‹
7. ä»ç£ç›˜I/Oå­ç³»ç»Ÿæ”¶åˆ°ä¸­æ–­ â€”â€” è¯»å–å®Œæˆ
8. ä¿å­˜6.çš„å…¶ä»–ç”¨æˆ·è¿›ç¨‹çŠ¶æ€ä¿¡æ¯
9. åˆ¤æ–­ä¸­æ–­æ¥è‡ªç£ç›˜
10. æ›´æ”¹é¡µè¡¨å’Œå…¶ä»–è¡¨çš„ä¿¡æ¯
11. Readyï¼Œç­‰å¾…CPUé‡æ–°è°ƒåº¦è¯¥è¿›ç¨‹
12. æ¢å¤ç”¨æˆ·è¿›ç¨‹ã€ç”¨æˆ·å¯„å­˜å™¨ç­‰ï¼Œç„¶årestart å¼•èµ·ç¼ºé¡µä¸­æ–­çš„æŒ‡ä»¤
</code></pre>
<p>Performanceï¼š
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-41.png"
	width="1583"
	height="149"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-41_hu7112038148163539561.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-41_hu4091345191306953246.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1062"
		data-flex-basis="2549px"
	
>
pæ˜¯ç¼ºé¡µç‡ã€‚å…¬å¼çš„æ„æ€å°±æ˜¯ï¼Œæ²¡æœ‰ç¼ºé¡µçš„å†…å­˜è¯»å–æ—¶é—´ åŠ ä¸Š ç¼ºé¡µçš„æ—¶å€™å¤„ç†ç¼ºé¡µçš„æ—¶é—´</p>
<p>ä¾‹é¢˜</p>
<pre><code>On a system using paging, references to a swapped-in locations accessible through an entry in an associative table (TLB) take 150ns.If the main memory page table must be used, the reference takes 400ns. References that result in page faults require 8ms if the page to be  eplaced has been modified, 3ms otherwise. If the page fault rate is 2%, the associative table(TLB) hit rate is 70%, and 50% of replaced pages have been modified, what is the effective access time? Assume the system is running only a single process and the CPU is idle during page swaps.

é€šè¿‡TLBè¡¨éœ€è¦150nsï¼Œé€šè¿‡å†…å­˜ä¸­çš„é¡µè¡¨è®¿é—®éœ€è¦400nsï¼Œåªå†™è¿›éœ€è¦3msï¼Œå†™è¿›+å†™å‡ºéœ€è¦8msã€‚
ä¸ç¼ºé¡µï¼š98%ï¼Œ   ç¼ºé¡µï¼š2%
ä¸ç¼ºé¡µæ—¶ï¼ŒTLBå‘½ä¸­ï¼š70%ï¼Œ    å‰©ä¸‹çš„å»æ‰¾é¡µè¡¨
ç¼ºé¡µæ—¶ï¼Œåªéœ€è¦å†™è¿›å’Œéœ€è¦æ¢å…¥æ¢å‡ºçš„å„ä¸º50%
</code></pre>
<p>ç­”æ¡ˆå°±æ˜¯ï¼š</p>
<pre><code>3ms*50%*2% + 8ms*50%*2% + 150ns*70%*98% + 400ns*30%*98%
</code></pre>
<p>å¦‚æœé¢˜ç›®ç›´æ¥ç»™äº†memory access timeï¼Œä¸ç”¨æŠŠå®ƒ*2ï¼Œå› ä¸ºå®ƒæ˜¯åˆ°è¾¾å†…å­˜ä¸­æŒ‡å®šé¡µé¢çš„æ—¶é—´ã€‚</p>
<h3 id="page-replacement-é¡µé¢ç½®æ¢">page replacement é¡µé¢ç½®æ¢
</h3><p>å¯¹ç”¨æˆ·é€æ˜</p>
<p>page table ä¸­ï¼Œå¦‚æœæŸä¸ªè¡¨é¡¹æ˜¯invalid(valid bitæ˜¯0)ï¼Œè¯´æ˜ä¸åœ¨å†…å­˜ä¸­ï¼Œä½¿ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œè¦äº§ç”Ÿä¸€å…±page fault
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-47.png"
	width="1637"
	height="820"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-47_hu9406807452626343412.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-47_hu4371962693944665375.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="199"
		data-flex-basis="479px"
	
></p>
<p>reference string
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-45.png"
	width="1850"
	height="407"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-45_hu1628570765697901490.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-45_hu2664600661078117169.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="454"
		data-flex-basis="1090px"
	
>
è¿™äº›æ˜¯åœ°å€ã€‚é¡µé¢å¤§å°æ˜¯100Bï¼Œæ‰€ä»¥æ¯ä¸ªåœ°å€é™¤ä»¥100å°±å¾—åˆ°page number</p>
<p>FIFO
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-42.png"
	width="1841"
	height="856"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-42_hu16119013281838712656.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-42_hu11331749314922668810.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="215"
		data-flex-basis="516px"
	
>
å­˜åœ¨ Belady&rsquo;s anomaly</p>
<p>Optimal</p>
<pre><code>é€‰æ‹©æœ€è¿œçš„å°†æ¥æ‰ç”¨åˆ°çš„é¡µé¢ç½®æ¢å‡ºå»
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-43.png"
	width="1759"
	height="775"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-43_hu2281361265683201964.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-43_hu10974637658863461373.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="226"
		data-flex-basis="544px"
	
>
å¹¶ä¸”ååºçš„ç¼ºé¡µç‡å’Œæ­£åºçš„ä¸€æ ·ã€‚</p>
<p>LRU</p>
<pre><code>ç½®æ¢å‡ºå»çš„æ˜¯æœ€è¿‘æœ€ä¸å¸¸ä½¿ç”¨çš„
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-44.png"
	width="1850"
	height="904"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-44_hu2349338116115354073.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-44_hu5516539338362913350.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="204"
		data-flex-basis="491px"
	
>
ååºçš„ç¼ºé¡µç‡å’Œæ­£åºçš„ä¸€æ ·</p>
<h3 id="frames-allocation">frames allocation
</h3><p>ä¸€åœ°å€æŒ‡ä»¤æ‰€éœ€çš„æœ€å°‘framesï¼š2(ä¸€ä¸ªå­˜æ”¾instructionï¼Œ ä¸€ä¸ªå­˜æ”¾åœ°å€æŒ‡å‘çš„data)</p>
<p>å¦‚æœå…è®¸ä¸€çº§é—´å€çš„è¯ï¼Œé‚£æœ€å°‘éœ€è¦3ä¸ªframes(ä¸€ä¸ªå­˜æŒ‡ä»¤ï¼Œä¸€ä¸ªå­˜é—´å€æŒ‡å‘çš„ç©ºé—´ï¼Œä¸€ä¸ªå­˜é—´å€ç©ºé—´æŒ‡å‘çš„æ•°æ®)</p>
<p>å¦‚æœæ˜¯äºŒåœ°å€æŒ‡ä»¤ï¼Œä¸”å…è®¸é—´å€çš„è¯ï¼Œåˆ™è‡³å°‘éœ€è¦5ä¸ªframesï¼šä¸€ä¸ªå­˜æŒ‡ä»¤ï¼Œä¸€ä¸ªå­˜æºåœ°å€é—´å€ï¼Œä¸€ä¸ªå­˜æºé—´å€æŒ‡å‘çš„æ•°æ®ï¼Œä¸€ä¸ªå­˜ç›®çš„é—´å€ï¼Œä¸€ä¸ªå­˜ç›®çš„é—´å€æŒ‡å‘çš„æ•°æ®</p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-46.png"
	width="1681"
	height="862"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-46_hu3623323059201270739.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-46_hu2764554176397399954.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="195"
		data-flex-basis="468px"
	
></p>
<h3 id="thrashing-æŠ–åŠ¨">thrashing æŠ–åŠ¨
</h3><p>é¢‘ç¹swapï¼Œpage in/outçš„æ—¶é—´è¿œè¿œå¤šä½™è¿›ç¨‹æ‰§è¡Œæ—¶é—´</p>
<p>working-set model å·¥ä½œé›†æ¨¡å‹</p>
<pre><code>ç”¨æ¥ç›‘æ§å·¥ä½œè¿‡ç¨‹è®¿é—®äº†å“ªäº›é¡µé¢
working setæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå®ƒå­˜æ”¾äº†most recent Î” page references(è¿™æ®µæ—¶é—´å†…è¦ç”¨çš„page)
å·¥ä½œé›†çš„å¤§å° WSS æ˜¯ä¼šå˜åŒ–çš„
WSSi ç”¨æ¥æè¿°è¿›ç¨‹içš„åœ¨è¿™ä¸€æ®µæ—¶é—´æ‰€éœ€è¦çš„framesæ•°
å°†æ‰€æœ‰è¿›ç¨‹çš„ WSSåŠ èµ·æ¥çœ‹ä½œä¸ºD
    å‡å¦‚D &gt; available framesï¼Œå°±ä¼šäº§ç”Ÿthrashing ç°è±¡
</code></pre>
<h2 id="file-system-interface">File-System Interface
</h2><h3 id="file-concept">File concept
</h3><ol>
<li>contiguous logical address space é€»è¾‘åœ°å€è¿ç»­</li>
<li>fileæ˜¯å‘½åç›¸å…³ä¿¡æ¯çš„é›†åˆ</li>
<li>æ–‡ä»¶æ˜¯logical secondary storageçš„æœ€å°åˆ†é…(allotment)</li>
<li>å¯ä»¥æ˜¯è‡ªç”±å½¢å¼ï¼Œå¯ä»¥æ˜¯ä¸¥æ ¼æ ¼å¼åŒ–çš„</li>
</ol>
<p>æ–‡ä»¶çš„å±æ€§ï¼š</p>
<pre><code>name
ID æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„id
Type
Location
size
protection â€”â€” authority
timeï¼Œ dateï¼Œ userid

å±æ€§é˜²æ­¢ç›®å½•ç»“æ„ä¸­ï¼Œç›®å½•ç»“æ„ä¿å­˜åœ¨disk
</code></pre>
<p>æ–‡ä»¶æ“ä½œï¼š</p>
<pre><code>open file tableï¼šä¸€ä¸ªkernel çš„æ•°æ®ç»“æ„ï¼Œä¿å­˜äº†æ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶

open(Fi)ï¼š
    1. æ‰¾åˆ°Fiçš„ç›®å½•ç»“æ„ä¸­çš„entry
    2. å°†entryè°ƒåˆ°open-file tableä¸­
    3. è¿”å›ä¸€ä¸ªæŒ‡å‘open-file table ä¸­è¯¥ entryçš„æŒ‡é’ˆ

close(Fi)
    æœ€æ–°çš„æ–‡ä»¶å†™å›ç›®å½•ç»“æ„ä¸­
</code></pre>
<p>internal table çš„ä¸¤çº§ï¼š</p>
<pre><code>1. è¿›ç¨‹æ‰“å¼€æ–‡ä»¶è¡¨
    è®°å½•äº†è¯¥è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶
    ä¿å­˜äº†è¯¥è¿›ç¨‹ä½¿ç”¨è¯¥æ–‡ä»¶çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å½“å‰æŒ‡é’ˆï¼Œæƒé™ç­‰
2. ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶è¡¨
    è®°å½•äº†ä¸è¿›ç¨‹æ— å…³çš„ä¿¡æ¯ï¼Œå¦‚ç£ç›˜ä¸Šçš„æ–‡ä»¶ä½ç½®ï¼Œè®¿é—®æ—¥æœŸï¼Œæ–‡ä»¶å¤§å°ç­‰
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-48.png"
	width="1669"
	height="837"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-48_hu12527746596182887977.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-48_hu10617303682566487976.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="199"
		data-flex-basis="478px"
	
></p>
<p>æ–‡ä»¶çš„ç»“æ„ï¼š</p>
<pre><code>é€»è¾‘ç»“æ„ï¼š
    1. text     8bit çš„å­—èŠ‚åºåˆ—
    2. record   å…·æœ‰å›ºå®šæˆ–å¯å˜é•¿çš„è®°å½•åºåˆ—

ç‰©ç†ç»“æ„ï¼ša set of disk blocks
</code></pre>
<h3 id="directory-structure">directory structure
</h3><p>æ ‘å½¢ã€æ— ç¯å›¾</p>
<p>æ–‡ä»¶å…±äº«ã€åŒæ­¥</p>
<h2 id="file-system-implementation">File-System Implementation
</h2><h3 id="æ–‡ä»¶ç³»ç»Ÿç»“æ„">æ–‡ä»¶ç³»ç»Ÿç»“æ„
</h3><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-49.png"
	width="1882"
	height="1038"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-49_hu1324330840331162183.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-49_hu14859730016245537338.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="181"
		data-flex-basis="435px"
	
></p>
<pre><code>æœ€ä¸Šå±‚ï¼š
    ç»™æ–‡ä»¶æ“ä½œæä¾›çš„ç³»ç»Ÿè°ƒç”¨

é€»è¾‘æ–‡ä»¶ç³»ç»Ÿå±‚ï¼š
    å¤„ç†metadataï¼Œå¤„ç†ç›®å½•ç»“æ„ï¼Œé€šè¿‡FCBä¿å­˜æ–‡ä»¶ç»“æ„ï¼Œè¿˜éœ€è¦protectionå’Œsecurity
    é€šè¿‡FCB å°†file name è½¬æˆ file numberï¼Œfile handle(åœ¨è¿›ç¨‹æ‰“å¼€æ–‡ä»¶è¡¨çš„ä½ç½®)

æ–‡ä»¶ç»„ç»‡æ¨¡å—ï¼š
    é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€è½¬æ¢
    ç©ºé—²ç©ºé—´ç»„ç»‡

basic file systemï¼š
    å‘é€‚å½“çš„device driverå‘å‡ºå‘½ä»¤ï¼Œæ¥è¯»å†™diskä¸Šçš„ç‰©ç†å—(å°†é«˜çº§è¯­è¨€è½¬æˆè®¾å¤‡é©±åŠ¨çš„å‘½ä»¤)
    ç®¡ç†memory buffers å’Œ caches (åšç©ºé—´åˆ†é…ã€é‡Šæ”¾ã€ç½®æ¢)

I/O controlï¼š
    è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œä¸­æ–­å¤„ç†ç¨‹åºã€‚åœ¨ä¸»å­˜å’Œç£ç›˜ç³»ç»Ÿé—´ä¼ è¾“ä¿¡æ¯ã€‚(å°†è®¾å¤‡é©±åŠ¨ç¨‹åºå‘½ä»¤è½¬æˆä½çº§ç¡¬ä»¶çš„æ§åˆ¶å‘½ä»¤)

åº•å±‚è®¾å¤‡
</code></pre>
<h3 id="æ–‡ä»¶ç³»ç»Ÿå®ç°">æ–‡ä»¶ç³»ç»Ÿå®ç°
</h3><p>é•¿æœŸä¿å­˜ã€æŒ‰åè®¿é—®ã€å·¥ä½œæ•ˆç‡</p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-50.png"
	width="1803"
	height="1025"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-50_hu4956521252063585058.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-50_hu265975161061473265.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="175"
		data-flex-basis="422px"
	
>
ä¸åŒè¿›ç¨‹å…±äº«åŒä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œè¿›ç¨‹æ‰“å¼€æ–‡ä»¶è¡¨è¡¨é¡¹éƒ½æŒ‡å‘åŒä¸€ä¸ªç³»ç»Ÿæ‰“å¼€æ–‡ä»¶è¡¨è¡¨é¡¹</p>
<p>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-51.png"
	width="1870"
	height="1036"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-51_hu6135126049906018237.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-51_hu1944142268597425909.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="180"
		data-flex-basis="433px"
	
></p>
<h3 id="allocation-methods-åˆ†é…æ–¹æ³•">Allocation Methods åˆ†é…æ–¹æ³•
</h3><p>ä¸‰ç§æ–¹æ³•ï¼š</p>
<pre><code>1. contiguous allocation    è¿ç»­
2. linked allocation        é“¾æ¥
3. indexed allocation       ç´¢å¼•
</code></pre>
<p>è¿ç»­åˆ†é…
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-52.png"
	width="1844"
	height="735"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-52_hu11128371373364064438.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-52_hu13278980759045587073.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="250"
		data-flex-basis="602px"
	
></p>
<pre><code>å ç”¨çš„ç£ç›˜å—æ˜¯è¿ç»­çš„
åªæœ‰ä¸€ä¸ªè¡¨é¡¹åœ¨ file allocation table
ä¿å­˜èµ·å§‹å—å· å’Œ æ€»çš„å—æ•° ï¼ˆèµ·å§‹ã€é•¿åº¦ï¼‰
å¯ä»¥é¡ºåºï¼Œä¹Ÿå¯ä»¥éšæœºè®¿é—®
æ€§èƒ½æœ€å¥½ï¼šå®šä½æ¬¡æ•°å°‘ï¼Œæ—¶é—´æœ€å°‘

é€»è¾‘åœ°å€å‘ç‰©ç†åœ°å€æ˜ å°„ï¼š
LA / block size = Q ... R â€”â€”&gt; Q æ˜¯é€»è¾‘å—å·ï¼ŒRæ˜¯å—å†…åç§»é‡
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-54.png"
	width="1824"
	height="902"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-54_hu8974180628692529655.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-54_hu15133081353142828124.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="202"
		data-flex-basis="485px"
	
></p>
<p>é“¾æ¥åˆ†é…</p>
<pre><code>ç›®å½•ä¸­ä¿å­˜äº†æ–‡ä»¶çš„ç¬¬ä¸€å—å’Œæœ€åä¸€å—æŒ‡é’ˆ
æ¯ä¸€å—éƒ½æœ‰æŒ‡å‘ä¸‹ä¸€å—çš„æŒ‡é’ˆ
æ²¡æœ‰å¤–éƒ¨ç¢ç‰‡ï¼Œä»»æ„ç©ºé—²å—éƒ½èƒ½ä½¿ç”¨

åªèƒ½é¡ºåºè®¿é—®ï¼Œè¦é¢„ç•™æŒ‡é’ˆï¼Œæœ‰å¯èƒ½æ–­é“¾ï¼ˆä¸å¯é ï¼‰
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-55.png"
	width="1923"
	height="1090"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-55_hu2058196901408502759.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-55_hu10003821415425576566.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="176"
		data-flex-basis="423px"
	
></p>
<p>ç´¢å¼•åˆ†é…</p>
<pre><code>ç´¢å¼•å—ä¾æ¬¡è®°å½•ç‰©ç†å—
ç›®å½•åŒ…å«äº†ç´¢å¼•å—çš„å—å·
æ²¡æœ‰å¤–éƒ¨ç¢ç‰‡ï¼Œéšæœºaccess
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-56.png"
	width="1754"
	height="388"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-56_hu8211464710319737706.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-56_hu9391337071794249352.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="452"
		data-flex-basis="1084px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-57.png"
	width="1824"
	height="863"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-57_hu18207609336902392166.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-57_hu2667179709758020709.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="211"
		data-flex-basis="507px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-58.png"
	width="1764"
	height="949"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-58_hu5851128765235274768.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-58_hu701688503115114266.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="185"
		data-flex-basis="446px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-59.png"
	width="1817"
	height="977"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-59_hu12832151382057394.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-59_hu6171699823626110503.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="185"
		data-flex-basis="446px"
	
></p>
<h3 id="ç©ºé—²ç©ºé—´ç®¡ç†">ç©ºé—²ç©ºé—´ç®¡ç†
</h3><pre><code>Bit map / Bit vector 
Linked list
Grouping
Counting 
</code></pre>
<p>bit map ä½å›¾</p>
<pre><code>Each block is represented by 1 bit.
1 æ˜¯ç©ºé—²ï¼Œ0æ˜¯è¢«å æ®
</code></pre>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-60.png"
	width="1810"
	height="894"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-60_hu6145392530331536106.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-60_hu10699718123739841052.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="202"
		data-flex-basis="485px"
	
></p>
<p>grouping åˆ†ç»„
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-61.png"
	width="1764"
	height="969"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-61_hu10223318535921685220.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-61_hu7010799689495543191.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="182"
		data-flex-basis="436px"
	
></p>
<pre><code>æ¯ç»„æœ€åä¸€ä¸ªç©ºé—²å—ç”¨æ¥å½“æŒ‡é’ˆåŸŸï¼ŒæŒ‡å‘ä¸‹ä¸€ç»„çš„ç©ºé—²å—
</code></pre>
<p>ç©ºé—´ç®¡ç†ä¾‹é¢˜ï¼š
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-62.png"
	width="1872"
	height="940"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-62_hu6611633840930146610.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-62_hu10137515736746721544.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="199"
		data-flex-basis="477px"
	
></p>
<pre><code>(1) 7 + 3*10 = 37
(2) 2 
</code></pre>
<h2 id="mass-storage">mass storage
</h2><h3 id="disk-schedule-ç£ç›˜è°ƒåº¦">disk schedule ç£ç›˜è°ƒåº¦
</h3><ul>
<li>FCFS      first come first served</li>
<li>sstf      shortest seek time first</li>
<li>scan</li>
<li>c-scan</li>
<li>look</li>
<li>c-look</li>
</ul>
<h4 id="fcfs">FCFS
</h4><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-63.png"
	width="1457"
	height="848"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-63_hu16218281861889813220.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-63_hu16190742448620365232.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="171"
		data-flex-basis="412px"
	
></p>
<pre><code>183-53+183-37+122-37+122-14+...+67-65 = 640
</code></pre>
<h4 id="sstf">SSTF
</h4><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-64.png"
	width="1638"
	height="882"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-64_hu15592750118722613202.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-64_hu14020858069608106657.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="185"
		data-flex-basis="445px"
	
></p>
<pre><code>65-53+67-65+67-37+37-14+98-14+122-9+124-122+183-124 = 236
</code></pre>
<h4 id="scan">SCAN
</h4><p>æ¥å›æ‰«æ
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-65.png"
	width="1858"
	height="1021"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-65_hu6599948081385923211.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-65_hu7538478313800214304.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="181"
		data-flex-basis="436px"
	
></p>
<pre><code>199-53 + 199-14 = 400-69 = 331
</code></pre>
<h4 id="c-scan">C-SCAN
</h4><p>åªåœ¨ä¸€ä¸ªæ–¹å‘SCANï¼Œä¸æ¢æ–¹å‘ã€‚
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-66.png"
	width="1905"
	height="1017"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-66_hu10089691484658649273.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-66_hu14893410716247555421.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="187"
		data-flex-basis="449px"
	
></p>
<pre><code>199 + 199-53 + 37 = 400 - 18 = 382
</code></pre>
<h4 id="look">LOOK
</h4><p>LOOKæ˜¯SCANçš„å‡çº§ç‰ˆï¼Œå®ƒæœ€è¿œåªä¼šèµ°åˆ°æœ€è¿œçš„é‚£ä¸ªè¯·æ±‚ç‚¹ï¼Œç„¶åå°±ä¼šè¿”å›
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-67.png"
	width="1857"
	height="1041"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-67_hu8636991413980509949.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-67_hu5100193009680684784.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="178"
		data-flex-basis="428px"
	
></p>
<pre><code>183-53+183-14 = 366-67 = 299
</code></pre>
<h4 id="c-look">C-LOOK
</h4><p>C-LOOKæ˜¯C-SCANçš„å‡çº§ç‰ˆï¼Œå®ƒåˆ°æœ€è¿œçš„éœ€æ±‚ç‚¹ä¹‹åï¼Œä¼šè¿”å›åˆ°å¦ä¸€å¤´çš„æœ€è¿œéœ€æ±‚ç‚¹ï¼Œç„¶åç»§ç»­å‘åŒä¸€æ–¹å‘å¯»é“
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-68.png"
	width="1876"
	height="1071"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-68_hu7794096225009934382.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-68_hu17103097947919367327.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="175"
		data-flex-basis="420px"
	
></p>
<pre><code>183-53+183-14+37-14 = 403-81 = 322
</code></pre>
<p>ä¾‹å­
<img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-69.png"
	width="1842"
	height="642"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-69_hu4568923990256006697.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-69_hu15231690175210334017.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="286"
		data-flex-basis="688px"
	
></p>
<p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-70.png"
	width="1438"
	height="690"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-70_hu2853022014305005711.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-70_hu1428779487229451888.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="208"
		data-flex-basis="500px"
	
></p>
<h3 id="disk-management">disk management
</h3><p><img src="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-71.png"
	width="1892"
	height="1063"
	srcset="/p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-71_hu1707745098083718540.png 480w, /p/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-71_hu16531909956468489656.png 1024w"
	loading="lazy"
	
		alt="Alt text"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="427px"
	
></p>
<p>å…ˆæ‰¾åˆ°bootstrapï¼Œ é€šè¿‡bootstrap æ‰¾åˆ°boot block ï¼Œå†æ‰¾åˆ°system disk</p>

</section>


    <footer class="article-footer">
    

    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.body, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2024 ffirestorm
    </section>
    
    <section class="powerby">
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.27.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
